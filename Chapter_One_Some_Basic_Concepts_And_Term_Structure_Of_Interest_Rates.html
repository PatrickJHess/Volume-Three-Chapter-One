
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Chapter One Notebook Of Basic Concepts Of Fixed Income &#8212; Basic Bond Concepts and the Term Structure of Interest Rates</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Chapter_One_Some_Basic_Concepts_And_Term_Structure_Of_Interest_Rates';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Functions Imported By the Volume Basic Concepts Of Fixed Income" href="imported_functions.html" />
    <link rel="prev" title="Basic Bond Concepts and the Term Structure of Interest Rates" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/Small_Logo.svg" class="logo__image only-light" alt="Basic Bond Concepts and the Term Structure of Interest Rates - Home"/>
    <script>document.write(`<img src="_static/Small_Logo.svg" class="logo__image only-dark" alt="Basic Bond Concepts and the Term Structure of Interest Rates - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Basic Bond Concepts and the Term Structure of Interest Rates
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Chapter One Notebook Of Basic Concepts Of Fixed Income</strong></a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="imported_functions.html">Functions Imported By the Volume <em>Basic Concepts Of Fixed Income</em></a><ul>
<li class="toctree-l2"><a class="reference internal" href="parent_folder_subfolder.html">parent_folder_subfolder is a helper function for saving files created by <em>Financial Python</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="one_y_axis.html">one-y-axis is a helper function for plotting graphs created by <em>Financial Python</em>.</a></li>
</ul><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/PatrickJHess/Volume-Three-CHapter-One/main?urlpath=tree/Chapter_One_Some_Basic_Concepts_And_Term_Structure_Of_Interest_Rates.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/PatrickJHess/Volume-Three-CHapter-One/blob/main/Chapter_One_Some_Basic_Concepts_And_Term_Structure_Of_Interest_Rates.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>



<a href="https://github.com/PatrickJHess/Volume-Three-CHapter-One/issues/new?title=Issue%20on%20page%20%2FChapter_One_Some_Basic_Concepts_And_Term_Structure_Of_Interest_Rates.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button"
   title="Open an issue"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Chapter_One_Some_Basic_Concepts_And_Term_Structure_Of_Interest_Rates.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter One Notebook Of Basic Concepts Of Fixed Income</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-road-map"><em><strong>A Road Map</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chapter-one-uses-the-libraries-pandas-and-numpy-the-basic-usage-of-these-libraries-are-discussed-in-two-separate-notebooks-the-notebook-a-quick-introduction-to-pandas-reviews-some-basic-concepts-of-pandas-the-notebook-a-quick-introduction-to-numpy-does-the-same-for-numpy">Chapter One uses the libraries Pandas and NumPy. The basic usage of these libraries are<br/> discussed in two separate notebooks.  The notebook A Quick Introduction To Pandas<br/> reviews some basic concepts of Pandas.  The notebook A Quick Introduction To NumPy<br/> does the same for NumPy.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-for-bonds-and-interest-rates"><em><strong>Python for Bonds and Interest Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-this-chapter-we-ll-explore-bond-calculations-and-interest-through-the-lens-of-numpy-and-python-dataframes-powerful-tools-for-engaging-bond-data-using-treasury-bill-data-we-ll-learn-how-to-create-dataframes-and-numpy-arrays-from-csv-files-excel-workbooks-all-our-data-is-accessed-with-external-urls-our-calculations-result-in-the-term-structure-of-interest-rates-on-two-different-data-the-chapter-concludes-with-an-exercise-in-which-you-practice-calculating-and-graphin-the-term-structure-of-interest-rates-on-your-own">In this chapter, we’ll explore bond calculations and interest through the lens of NumPy And Python DataFrames. Powerful tools for engaging bond data. Using Treasury bill data, we’ll learn how to create DataFrames and NumPy arrays from CSV files, Excel workbooks. All our data is accessed with external URLs. Our calculations result in the term structure of interest rates on two different data. The chapter concludes with an exercise in which you practice calculating and graphin the term structure of interest rates on your own.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-bond-pricing"><em><strong>Introduction to Bond Pricing</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-chapter-will-introduce-some-fundamental-principles-of-fixed-income-these-principles-include-pricing-coupon-bonds-as-a-portfolio-of-zero-coupon-bonds-the-term-structure-of-interest-rates-and-the-relation-between-spot-and-forward-rates-of-interest">This chapter will introduce some fundamental principles of fixed income. These principles include pricing coupon bonds as a portfolio of zero-coupon bonds, the term structure of interest rates, and the relation between spot and forward rates of interest.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-present-value-of-a-bond"><em><strong>The Present Value of a Bond</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#chapter-two-of-basic-financial-and-python-concepts-asserted-that-the-value-of-an-asset-with-certain-cash-flows-equals-the-present-value-of-its-cash-flows-as-shown-in-the-following-equation">Chapter Two of <em>Basic Financial and Python Concepts</em> asserted that the value of an asset with certain cash flows equals the present value of its cash flows, as shown in the following equation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#where-t-is-the-total-number-of-cash-flow-periods-and-pv-t-is-the-present-value-factor-for-a-certain-cash-flow-in-period-t">where <span class="math notranslate nohighlight">\(\ T\)</span> is the total number of cash flow periods, and <span class="math notranslate nohighlight">\(\ PV(t)\)</span> is the present-value factor for a certain cash flow in period <span class="math notranslate nohighlight">\(t\)</span>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-finance-equating-value-with-present-value-is-ubiquitous-and-seems-unworthy-of-much-thought-it-is-however-a-powerful-statement-that-value-depends-upon-the-ability-to-replicate-an-asset-with-other-assets-namely-if-an-asset-s-cash-flow-dates-and-amounts-can-be-replicated-by-another-asset-or-combinations-of-assets-the-values-must-be-equal-you-might-call-this-idea-the-law-of-one-pricea-concept-that-is-key-in-all-pricing-models">In finance, equating value with present value is ubiquitous and seems unworthy of much thought. It is, however, a powerful statement that value depends upon the ability to replicate an asset with other assets. Namely, if an asset’s cash flow dates and amounts can be replicated by another asset or combinations of assets, the values must be equal. You might call this idea the <em><strong>law of one price</strong></em>—a concept that is key in all pricing models.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#coupon-bonds-and-zero-coupon-bonds"><em><strong>Coupon Bonds and Zero-Coupon Bonds</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#most-bonds-but-not-all-pay-fixed-coupons-in-each-period-and-principal-at-their-maturity-the-values-of-coupon-bonds-are-calculated-as">Most bonds, but not all, pay fixed coupons in each period and principal at their maturity. The values of coupon bonds are calculated as:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#some-bonds-only-repay-principal-at-maturity-or-t-because-there-are-no-periodic-coupon-payments-these-bonds-are-appropriately-known-as-zero-coupon-bonds-the-values-of-zero-coupon-bonds-are-calculated-as">Some bonds only repay principal at maturity, or <span class="math notranslate nohighlight">\(T\)</span>. Because there are no periodic coupon payments, these bonds are appropriately known as zero-coupon bonds. The values of zero-coupon bonds are calculated as:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-order-to-price-any-bond-it-s-necessary-to-know-the-present-value-of-payments-at-the-relevant-dates-if-the-zero-coupon-bond-values-are-known-for-the-relevant-dates-the-present-value-of-each-date-can-be-determined-to-do-so-divide-the-value-of-the-zero-coupon-bond-by-its-principal-as-shown-below">In order to price any bond, it’s necessary to know the present value of payments at the relevant dates. If the zero-coupon bond values are known for the relevant dates, the present value of each date can be determined. To do so, divide the value of the zero-coupon bond by its principal, as shown below:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#each-coupon-bond-cash-flow-is-equivalent-to-an-investment-in-a-zero-coupon-bond-as-such-we-can-replicate-a-coupon-bond-with-a-sequence-of-zero-coupon-bonds-the-number-of-zero-coupon-bonds-with-a-maturity-of-t-equals-the-coupon-bond-s-cash-flow-at-t-divided-by-the-zero-coupon-bond-s-principal-for-example-consider-a-40-coupon-that-is-paid-every-six-months-before-maturity-this-coupon-is-valued-with-a-sequence-of-0-04-zero-coupon-bonds-with-a-1-000-principal-and-maturities-matching-the-coupon-payment-dates-the-coupon-bond-s-payment-at-maturity-equals-1-040-zero-coupon-bonds-with-a-1-000-principal-and-the-same-maturity-as-the-coupon-bond">Each coupon-bond cash flow is equivalent to an investment in a zero-coupon bond. As such, we can replicate a coupon bond with a sequence of zero-coupon bonds: The number of zero-coupon bonds with a maturity of <span class="math notranslate nohighlight">\(t\)</span> equals the coupon bond’s cash flow at <span class="math notranslate nohighlight">\(t\)</span> divided by the zero-coupon bond’s principal. For example, consider a <span class="math notranslate nohighlight">\(\$40\)</span> coupon that is paid every six months before maturity. This coupon is valued with a sequence of 0.04 zero-coupon bonds, with a <span class="math notranslate nohighlight">\(\$1,000\)</span> principal and maturities matching the coupon payment dates. The coupon bond’s payment at maturity equals 1.040 zero-coupon bonds, with a <span class="math notranslate nohighlight">\(\$1,000\)</span> principal and the same maturity as the coupon bond.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#further-a-coupon-bond-s-value-is-the-sum-of-all-the-zero-coupon-bond-values-needed-to-replicate-that-bond-s-cash-flows-if-the-coupon-bond-and-the-zero-coupon-bonds-have-the-same-principal-and-all-the-coupon-payments-of-the-coupon-bond-are-equal-the-value-of-the-coupon-bond-is">Further, a coupon bond’s value is the sum of all the zero-coupon bond values needed to replicate that bond’s cash flows. If the coupon bond and the zero-coupon bonds have the same principal, and all the coupon payments of the coupon bond are equal, the value of the coupon bond is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#we-define-the-sum-as">We define the sum  as:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#and-the-value-of-the-fixed-coupon-bond-is-composed-of-two-components-equaling">And the value of the fixed-coupon bond is composed of two components equaling:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arbitrage-and-the-value-of-the-bond"><em><strong>Arbitrage and the Value of the Bond</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#thus-far-bond-values-have-been-represented-as-the-sum-of-the-zero-coupon-bonds-values-but-we-must-consider-the-zero-coupon-bonds-market-pricesnot-their-theoretical-values-will-the-value-relation-between-zero-coupon-and-coupon-bonds-hold-if-we-use-the-market-prices-of-zero-coupon-bonds-to-answer-that-question-let-s-look-at-examples-where-the-coupon-bond-is-worth-more-or-less-than-the-sum-of-the-zero-coupon-bonds-first-consider-a-case-where-the-coupon-bond-s-price-exceeds-the-sum-of-the-zero-coupon-bond-prices">Thus far, bond values have been represented as the sum of the zero-coupon bonds’ values. But we must consider the zero-coupon bonds’ <em>market prices</em>—not their “theoretical” values. Will the value relation between zero-coupon and coupon bonds hold if we use the market prices of zero-coupon bonds? To answer that question, let’s look at examples where the coupon bond is worth more or less than the sum of the zero-coupon bonds. First, consider a case where the coupon bond’s price exceeds the sum of the zero-coupon bond prices:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-the-price-of-the-coupon-bond-exceeds-the-sum-of-the-zero-coupon-bond-prices-the-coupon-bond-can-be-shorted-1-the-zero-coupon-bonds-can-then-be-purchased-with-the-proceeds-leaving-the-investor-with-identical-cash-flows-for-a-lower-price-consider-if-the-inequality-is-reversed">If the price of the coupon bond exceeds the sum of the zero-coupon bond prices, the coupon bond can be <em>shorted</em>.<span class="math notranslate nohighlight">\(^{1}\)</span> The zero-coupon bonds can then be purchased with the proceeds, leaving the investor with identical cash flows for a lower price. Consider if the inequality is reversed:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-this-case-the-zero-coupon-bonds-can-be-shorted-and-the-proceeds-can-be-used-to-buy-the-coupon-bond-this-ability-to-recreate-cash-flows-allows-for-arbitrage-between-zero-coupon-and-coupon-bonds-as-a-result-the-coupon-bond-prices-equal-the-costs-of-the-zero-coupon-bonds-used-to-recreate-their-cash-flows-it-is-the-law-of-one-price-in-action-whatever-the-bond-prices-might-have-been-in-theory-does-not-matter-those-prices-were-ideasthe-market-value-is-a-fact">In this case, the <em>zero-coupon bonds</em> can be shorted, and the proceeds can be used to buy the coupon bond. This ability to recreate cash flows allows for arbitrage between zero-coupon and coupon bonds; as a result, the coupon bond prices equal the costs of the zero-coupon bonds used to recreate their cash flows. It is the law of one price in action. Whatever the bond prices might have been in theory does not matter. Those prices were ideas—the market value is a fact.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-arbitrage-relationship-is-important-for-deriving-the-term-of-structure-of-interest-rates-and-forward-rates-which-we-ll-examine-later-in-this-chapter-these-concepts-are-key-to-understanding-bond-pricing-as-well-as-some-important-fixed-income-derivatives">This arbitrage relationship is important for deriving the <em>term of structure of interest rates</em> and <em>forward rates</em>, which we’ll examine later in this chapter. These concepts are key to understanding bond pricing as well as some important fixed-income derivatives.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-and-discrete-compounding"><em><strong>Continuous and Discrete Compounding</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-mathematical-and-computational-convenience-our-discussion-of-fixed-income-and-bond-pricing-will-use-continuously-compounded-interest-rates-at-times-it-s-appropriate-to-quote-interest-rates-as-discretely-compounded-rates-to-that-end-this-short-aside-demonstrates-the-conversion-between-continuously-and-discretely-compounded-rates">For mathematical and computational convenience, our discussion of fixed income and bond pricing will use continuously compounded interest rates. At times, it’s appropriate to quote interest rates as discretely compounded rates. To that end, this short aside demonstrates the conversion between continuously and discretely compounded rates.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#suppose-that-r-c-is-the-continuously-compounded-annual-interest-rate-for-t-periods-and-r-d-is-the-discretely-compounded-annual-rate-for-t-periods-when-compounded-d-times-per-year-the-conversion-of-continuously-and-discretely-compounded-rates-requires-that-the-same-values-are-realized-in-t-periods-shown-below">Suppose that <span class="math notranslate nohighlight">\(R_c\)</span> is the continuously compounded annual interest rate for <span class="math notranslate nohighlight">\(T\)</span> periods, and <span class="math notranslate nohighlight">\(R_d\)</span> is the discretely compounded annual rate for <span class="math notranslate nohighlight">\(T\)</span> periods when compounded <span class="math notranslate nohighlight">\(d\)</span> times per year. The conversion of continuously and discretely compounded rates requires that the same values are realized in <span class="math notranslate nohighlight">\(T\)</span> periods, shown below:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#e-is-euler-s-number-and-is-the-limit-of-1-frac-1-d-d-as-d-goes-to-infinity-or-continously-compounds-the-necessary-condition-is-expressed-as-an-annualized-interest-rate-by-taking-the-t-root-of-both-sides-of-the-equation"><span class="math notranslate nohighlight">\(e\)</span> is Euler’s number and is the limit of <span class="math notranslate nohighlight">\((1+\frac{1}{d})^{d}\)</span> as d goes to infinity or continously compounds.The necessary condition is expressed as an annualized interest rate by taking the <span class="math notranslate nohighlight">\(T\)</span> root of both sides of the equation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taking-natural-logs-of-the-previous-equation-derives-continuously-compounded-rates-from-discretely-compounded-rates">Taking natural logs of the previous equation derives continuously compounded rates from discretely compounded rates:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#finally-discretely-compounded-rates-can-be-derived-from-continuously-compounded-rates-by-dividing-both-sides-by-the-compounding-frequency-or">Finally, discretely compounded rates can be derived from continuously compounded rates by dividing both sides by the compounding frequency, or</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#and-raising-euler-s-number-e-to-both-sides-of-the-equation">and raising Euler’s number, <span class="math notranslate nohighlight">\(e\)</span>, to both sides of the equation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-instances-in-which-rate-conversion-is-necessary-the-above-methods-are-useful-knowledge-for-this-chapter-however-we-ll-focus-on-continuously-compounded-rates">For instances in which rate conversion is necessary, the above methods are useful knowledge; for this chapter, however, we’ll focus on continuously compounded rates.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-the-notebook"><em><strong>Preparing The Notebook</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-libraries-and-functions"><em><strong>Importing Libraries And Functions</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#it-s-good-practice-to-import-all-required-libraries-and-modules-in-the-first-code-cell-of-a-notebook-a-practice-followed-here-unless-attention-is-being-drawn-to-a-new-function-or-module-if-a-library-is-already-installed-it-s-imported-to-the-notebook-if-a-library-is-not-installed-it-is-installed-and-then-imported">It’s good practice to import all required libraries and modules in the first code cell of a notebook. A practice followed here unless attention is being drawn to a new function or module. If a library is already installed, it’s imported to the notebook.  If a library is not installed, it is installed  and then imported.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-standard-python-installation-includes-the-first-five-imports-os-sys-requests-types-and-datetime-os-and-sys-facilitate-interaction-with-the-operating-system-the-requests-module-enables-sending-and-retrieving-data-from-external-url-addresses-in-this-notebook-it-s-specifically-used-to-access-files-from-dropbox-the-types-module-creates-the-module-from-the-python-code-accessed-from-dropbox-finally-datetime-allows-for-the-creation-and-manipulation-of-date-objects">The standard Python installation includes the first five imports: (<font color="green">os, sys</font>, <font color="green">requests</font>, <font color="green">types</font>, and <font color="green">datetime</font>).  <font color="green">os</font> and <font color="green">sys</font>  facilitate interaction with the operating system.  The <font color="green">requests</font> module enables sending and retrieving data from external URL addresses; in this notebook, it’s specifically used to access files from DropBox. The <font color="green">types</font> module creates the module from the Python code accessed from DropBox.  Finally <font color="green">datetime</font> allows for the creation and manipulation of date objects.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-and-pandas-though-not-standard-python-libraries-are-pre-installed-in-colab-and-often-in-jupyter-notebooks-to-ensure-availability-a-try-and-except-block-is-used-for-importing-them-if-the-import-fails-the-libraries-are-then-installed-using-pip-the-exclamation-mark-indicates-that-pip-is-running-on-the-machine-s-console-rather-than-within-the-notebook-upon-successful-import-numpy-and-pandas-are-aliased-as-np-and-pd-2">NumPy and Pandas, though not standard Python libraries, are pre-installed in Colab and often in Jupyter notebooks. To ensure availability, a <font color="green">try </font> and <font color="green">except </font> block is used for importing them. If the import fails, the libraries are then installed using <font color="green">pip </font>. The exclamation mark indicates that <font color="green">pip </font> is running on the machine’s console rather than within the notebook. Upon successful import, NumPy and Pandas are aliased as <font color="green">np</font> and <font color="green">pd </font>.<span class="math notranslate nohighlight">\(^{2}\)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-a-custom-module-and-importing-functions"><em><strong>Adding a Custom Module and Importing Functions</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#now-that-we-ve-imported-our-main-modules-and-libraries-we-ll-access-a-custom-module-for-our-more-specific-functions-in-the-below-code-the-custom-module-module-basic-concepts-fixed-income-contains-functions-utilized-by-this-notebook-and-others-in-the-volume-basic-concepts-of-fixed-income-this-module-is-accessed-from-dropbox-using-requests-get">Now that we’ve imported our main modules and libraries, we’ll access a custom module for our more specific functions. In the below code, the custom module <font color="green">module_basic_concepts_fixed_income</font> contains functions utilized by this notebook and others in the volume <em>Basic Concepts of Fixed Income</em>. This module is accessed from Dropbox using <font color="green">requests.get()</font>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#you-have-the-flexibility-to-choose-the-module-name-in-this-instance-module-basic-concepts-fixed-income-is-assigned-to-module-name-dropbox-provides-the-url-for-access-the-module-is-instantiated-with-moduletype-which-we-imported-earlier-using-the-chosen-module-name-once-created-the-module-becomes-accessible-in-the-notebook-s-memory-though-it-is-not-added-to-a-drive">You have the flexibility to choose the module name; in this instance, <font color="green">module_basic_concepts_fixed_income</font> is assigned to <font color="green">module_name</font>. Dropbox provides the URL for access. The module is instantiated with <font color="green">ModuleType</font> (which we imported earlier) using the chosen <font color="green">module_name</font>. Once created, the module becomes accessible in the Notebook’s memory, though it is not added to a drive.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-exec-function-below-executes-the-python-code-returned-by-requests-get-it-assigns-functions-and-variables-to-sys-module-module-name-this-makes-the-module-available-for-use-in-the-notebook">The <font color="green">exec()</font> function below executes the Python code returned by <font color="green">requests.get()</font>. It assigns functions and variables to <font color="green">sys.module[module_name]</font>. This makes the module available for use in the Notebook.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#we-ll-then-import-two-functions-from-the-module-parent-folder-subfolder-and-one-y-axis-the-former-determines-locations-for-saving-and-accessing-files-and-can-be-viewed-on-the-page-parent-folder-subfolder-is-a-helper-function-for-saving-files-created-by-financial-python-the-latter-plots-calculation-results-and-can-be-vuewed-on-the-page-one-y-axis-is-a-helper-function-for-plotting-graphs-created-by-financial-python">We’ll then import two functions from the module: <font color="green">parent_folder_subfolder</font> and <font color="green">one_y_axis</font>. The former determines locations for saving and accessing files and can be viewed on the page <em>parent_folder_subfolder is a helper function for saving files created by Financial Python</em>. The latter plots calculation results and can be vuewed on the page <em>one-y-axis is a helper function for plotting graphs created by Financial Python</em></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#our-now-complete-code-is-shown-in-the-cell-below">Our now-complete code is shown in the cell below.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-arrays"><em><strong>NumPy Arrays</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-numpy-library-offers-efficient-numerical-procedures-that-simplify-complex-calculations-3-the-fundamental-object-in-this-library-is-the-numpy-array-an-array-is-simply-a-data-structure-in-which-elements-are-arranged-and-accessed-it-can-be-formed-from-a-single-value-or-from-an-iterable-data-type-like-a-list-which-holds-a-series-of-values-4-numpy-must-be-imported-before-use-recall-that-in-this-notebook-it-was-imported-and-aliased-as-np-in-the-first-code-cell-the-array-method-is-used-to-convert-variables-into-numpy-arrays-5-the-following-code-creates-an-array-from-the-list-3-5-7-lists-are-stylized-with-square-brackets-and-assigns-that-array-to-interest-rates-this-is-then-passed-to-display-which-simply-displays-the-contents-of-interest-rates">The NumPy library offers efficient numerical procedures that simplify complex calculations.<span class="math notranslate nohighlight">\(^{3}\)</span> The fundamental object in this library is the NumPy array. An array is simply a data structure in which elements are arranged and accessed. It can be formed from a single value or from an iterable data type like a list, which holds a series of values.<span class="math notranslate nohighlight">\(^{4}\)</span> NumPy must be imported before use; recall that in this Notebook, it was imported and aliased as <font color="green">np</font> in the first code cell. The <font color="green">array()</font> method is used to convert variables into NumPy arrays.<span class="math notranslate nohighlight">\(^{5}\)</span> The following code creates an array from the list <font color="green">[3%, 5%, 7%]</font> (lists are stylized with square brackets) and assigns that array to <font color="green">interest_rates</font>. This is then passed to <font color="green">display()</font>, which simply displays the contents of <font color="green">interest_rates</font>.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-calculations"><em><strong>NumPy Calculations</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#now-that-we-ve-created-an-array-and-assigned-it-to-interest-rates-we-can-perform-calculations-on-that-array-numpy-calculates-array-elements-individually-for-instance-the-exp-method-used-below-raises-each-element-of-interest-rates-to-euler-s-number-e-this-approach-is-faster-and-more-convenient-than-iterating-through-the-rates">Now that we’ve created an array and assigned it to <font color="green">interest_rates</font>, we can perform calculations on that array. NumPy calculates array elements individually. For instance, the <font color="green">exp()</font> method used below raises each element of <font color="green">interest_rates</font> to Euler’s number, <span class="math notranslate nohighlight">\(e\)</span>. This approach is faster and more convenient than iterating through the rates.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-create-a-numpy-array"><font color="blue"><em><strong>Application: Create a NumPy Array</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-numpy-array-of-the-present-value-factors-for-the-rates-of-interest-rates"><font color="blue"><em><strong>Create a NumPy array of the present value factors for the rates of</strong></em> <font color="green"><em><strong>interest_rates</strong></em></font></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#two-dimensional-numpy-arrays"><em><strong>Two-Dimensional Numpy Arrays</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pv-rates-array-a-two-dimensional-numpy-array-or-matrix-is-created-by-combining-two-one-dimensional-arrays-interest-rates-and-pv-factors-within-the-array-method-to-access-the-rows-of-this-two-dimensional-array-use-the-corresponding-row-index-value-both-the-interest-rates-and-present-value-factors-rows-are-displayed-using-f-strings-that-begins-with-an-f-and-enclose-the-string-and-variable-in-quotes-the-variable-must-also-be-encapsulated-in-curly-brackets">The <font color="green">pv_rates</font> array, a two-dimensional NumPy array (or matrix), is created by combining two one-dimensional arrays: <font color="green">interest_rates</font> and <font color="green">pv_factors</font> within the <font color="green">array()</font> method. To access the rows of this two-dimensional array, use the corresponding row index value. Both the interest rates and present value factors rows are displayed using f-strings that begins with an ‘f’ and enclose the string and variable in quotes.  The variable must also be encapsulated in curly brackets.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-manipulate-a-two-dimensional-array"><font color="blue"><em><strong>Application: Manipulate a Two-Dimensional Array</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-two-dimensional-array-by-raising-the-interest-rate-row-to-euler-s-number-and-multiplying-the-results-by-the-present-value-factors"><font color="blue"><em><strong>Create a two-dimensional array by raising the interest-rate row to Euler’s number and multiplying the results by the present value factors.</strong></em></font></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-pandas-dataframe-from-numpy-arrays"><em><strong>Creating A Pandas DataFrame From NumPy Arrays</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-simple-example"><em><strong>The Simple Example</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-pandas-dataframe-organizes-data-into-rows-and-columns-much-like-a-spreadsheet-or-a-numpy-array-it-can-be-created-from-a-two-dimensional-array-such-as-pv-rates-the-simplest-dataframes-automatically-assign-row-and-column-index-values-a-more-functional-approach-allows-for-explicit-naming-of-both-in-this-simple-example-the-dataframe-method-of-pandas-uses-three-arrays-as-arguments-generating-a-row-for-each-array">A Pandas DataFrame organizes data into rows and columns, much like a spreadsheet or a NumPy array. It can be created from a two-dimensional array, such as <font color="green">pv-rates</font>. The simplest DataFrames automatically assign row and column index values, a more functional approach allows for explicit naming of both. In this simple example, the <font color="green">DataFrame()</font> method of Pandas uses three arrays as arguments, generating a row for each array.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-create-a-dataframe-from-a-two-dimensional-array"><font color="blue"><em><strong>Application: Create a DataFrame from a Two-Dimensional Array</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-dataframe-with-the-two-dimensional-array-pv-rates"><font color="blue"><em><strong>Create a DataFrame with the two-dimensional array</strong></em></font> <font color="green"><em><strong>pv_rates</strong></em></font>.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#making-rows-into-columns-and-labeling-the-columns"><em><strong>Making Rows into Columns and Labeling the Columns</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-the-below-code-rows-are-converted-to-columns-by-using-the-transpose-method-on-our-earlier-dataframe-simple-example-this-method-changes-the-rows-into-columns-6-the-transposed-result-is-then-assigned-to-rows-to-columns-and-the-columns-are-then-assigned-the-elements-of-a-list-rates-future-value-present-value-transposing-the-dataframe-makes-rates-future-value-and-present-value-the-variables-and-the-rows-the-observations-of-the-variables">In the below code, rows are converted to columns by using the <font color="green">transpose()</font> method on our earlier DataFrame, <font color="green">simple_example</font>. This method changes the rows into columns.<span class="math notranslate nohighlight">\(^{6}\)</span> The transposed result is then assigned to <font color="green">rows_to_columns</font>, and the columns are then assigned the elements of a list (<font color="green">[‘Rates’, ‘Future Value’, ‘Present Value’]</font>).  Transposing the DataFrame makes <font color="green">’Rates’</font>, <font color="green">’Future Value’</font>, and <font color="green">’Present Value’</font> the variables and the rows the observations of the variables.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-set-index-method"><em><strong>The set_index() Method</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#once-the-dataframe-has-been-transposed-the-next-step-is-to-make-the-rates-column-the-index-you-might-wonder-why-it-makes-sense-the-reason-is-that-the-values-of-rates-determine-the-values-of-the-columns-future-value-and-present-value-this-change-isn-t-necessary-but-it-draws-our-eye-to-a-natural-connection-instead-of-an-index-that-only-points-to-a-row-number-the-new-index-points-to-the-rate-that-causes-the-future-and-present-values">Once the DataFrame has been transposed, the next step is to make the <font color="green">Rates</font> column the index.  You might wonder why it makes sense?  The reason is that the values of <font color="green">Rates</font> determine the values of the columns <font color="green">Future Value</font> and <font color="green">Present Value</font>.  This change isn’t necessary, but it draws our eye to a natural connection.  Instead of an index that only points to a row number, the new index points to the rate that causes the future and present values.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-method-set-index-takes-a-column-name-and-removes-the-column-from-the-dataframe-pandas-has-a-builtin-fail-safe-switch-by-default-this-change-and-others-we-will-encounter-later-does-not-permanently-alter-the-dataframe-you-might-find-this-a-bit-strange-but-the-efficacy-avoids-mistakes-that-are-difficult-to-fix-to-make-the-change-permanent-you-assign-inplace-switch-true-7">The method <font color="green">set_index()</font> takes a column name and removes the column from the DataFrame. Pandas has a builtin <strong>fail-safe-switch</strong>. By default, this change (and others we will encounter later) does not permanently alter the DataFrame.  You might find this a bit strange, but the efficacy avoids mistakes that are difficult to fix. To make the change permanent you assign <font color="green">inplace</font> switch True.<span class="math notranslate nohighlight">\(^{7}\)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-of-interest-rates-putting-numpy-and-pandas-to-work"><em><strong>The Term Structure Of Interest Rates: Putting NumPy And Pandas To Work</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-of-interest-describes-how-interest-rates-vary-over-time-it-is-a-critical-financial-metric-reflected-in-the-pricing-or-valuation-of-almost-all-assets">The term structure of interest describes how interest rates vary over time. It is a critical financial metric reflected in the pricing or valuation of almost all assets.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-and-pandas-are-powerful-tools-that-greatly-simplify-the-manipulation-and-calculation-of-extensive-and-complex-financial-data-we-will-explore-their-application-in-calculating-the-term-structure-of-interest-rates-on-various-dates-a-process-that-requires-accessing-large-datasets-and-performing-numerous-calculations-these-libraries-are-essential-for-this-task">NumPy and Pandas are powerful tools that greatly simplify the manipulation and calculation of extensive and complex financial data. We will explore their application in calculating the term structure of interest rates on various dates, a process that requires accessing large datasets and performing numerous calculations. These libraries are essential for this task.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-of-interest-rates"><em><strong>The Term Structure of Interest Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-earlier-discussion-of-bond-pricing-described-the-price-of-a-zero-coupon-bond-as-its-maturity-value-times-the-present-value-factor-a-numpy-array-and-a-pandas-dataframe-included-interest-rates-future-values-and-present-value-factors-the-same-concepts-are-used-to-calculate-the-term-structure-of-interest-rates-term-structure">The earlier discussion of bond pricing described the price of a zero-coupon bond as its maturity value times the present value factor. A NumPy array and a Pandas DataFrame included interest rates, future values, and present value factors.  The same concepts are used to calculate the Term Structure Of Interest Rates (Term Structure).</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spot-rates-of-interest"><em><strong>Spot Rates Of Interest</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-is-the-relation-between-the-annualized-interest-rates-of-zero-coupon-bonds-or-the-spot-rate-of-interest-and-the-bonds-maturities-the-price-of-a-zero-coupon-bond-with-a-maturity-of-t-and-a-principal-of-1-is">The Term Structure is the relation between the annualized interest rates of zero-coupon bonds, or the spot rate of interest, and the bonds’ maturities. The price of a zero-coupon bond with a maturity of <span class="math notranslate nohighlight">\(t\)</span> and a principal of $1 is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-annualized-continuously-compounded-interest-rate-of-the-t-period-zero-coupon-bond-is">The annualized continuously-compounded interest rate of the <span class="math notranslate nohighlight">\(t\)</span>-period zero-coupon bond is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#r-t-is-known-as-the-spot-rate-of-interest-for-t-periods"><span class="math notranslate nohighlight">\(r_t\)</span> is known as the spot rate of interest for <span class="math notranslate nohighlight">\(t\)</span> periods.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-a-zero-coupon-bond-pays-1-in-six-months-and-has-a-price-of-0-9753-the-continuously-compounded-annual-rate-of-interest-is">If a zero-coupon bond pays <span class="math notranslate nohighlight">\(\$1\)</span> in six months and has a price of $0.9753, the continuously-compounded annual rate of interest is:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forward-rates-of-interest"><em><strong>Forward Rates Of Interest</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-forward-rate-of-interest-represents-the-additional-return-gained-by-extending-an-investment-s-durationor-the-extra-earnings-from-investing-for-two-months-instead-of-one-when-two-bonds-offer-an-identical-single-payment-at-maturity-the-forward-rate-between-the-shorter-and-longer-maturities-is-determined-by-the-ratio-of-their-respective-prices">The forward rate of interest represents the additional return gained by extending an investment’s duration—or the extra earnings from investing for two months instead of one. When two bonds offer an identical single payment at maturity, the forward rate between the shorter and longer maturities is determined by the ratio of their respective prices.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-zero-coupon-bonds-with-a-principal-of-1-the-calculation-of-one-plus-the-forward-rate-between-t-and-t-delta-t-is">For zero-coupon bonds with a principal of <span class="math notranslate nohighlight">\(\$1\)</span>, the calculation of one plus the forward rate between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+\Delta t\)</span>  is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-continuously-compounded-annualized-forward-rate-between-t-and-t-delta-t-is">The continuously-compounded annualized forward rate between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+\Delta t\)</span> is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-forward-rates-can-be-locked-in-by-purchasing-the-zero-coupon-bond-that-matures-in-large-t-delta-t-periods-and-for-t-periods-borrowing-p-t-delta-t-today-at-the-rate-p-t-1-at-t-the-borrowing-is-repaid-and-at-t-delta-t-the-zero-coupon-matures-and-pays-one-dollar-the-borrowing-repayment-and-locked-in-rate-of-return-calculations-are-shown-below">The forward rates can be locked in by purchasing the zero-coupon bond that matures in <span class="math notranslate nohighlight">\(\large t+\Delta t\)</span> periods and for <span class="math notranslate nohighlight">\(t\)</span> periods, borrowing <span class="math notranslate nohighlight">\(P(t+\Delta t)\)</span> today at the rate <span class="math notranslate nohighlight">\(P(t)^{-1}.\)</span>  At <span class="math notranslate nohighlight">\(t\)</span>, the borrowing is repaid, and at <span class="math notranslate nohighlight">\(t +\Delta t\)</span>, the zero-coupon matures and pays one dollar. The borrowing, repayment, and locked-in rate-of-return calculations are shown below.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-continuously-compounded-annualized-locked-in-rate-of-return-equals">The continuously-compounded annualized locked-in rate of return equals:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-value-is-the-same-as-the-continuously-compounded-forward-rate-of-interest-between-t-and-t-delta-t">This value is the same as the continuously-compounded forward rate of interest between <span class="math notranslate nohighlight">\(t\)</span> and  <span class="math notranslate nohighlight">\(\ t+\Delta t\)</span>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#although-it-might-seem-obvious-that-the-locked-in-rate-of-return-and-the-forward-rate-are-equal-this-result-is-significant-imagine-an-investor-who-intends-to-invest-at-the-future-date-t-for-delta-t-periods-the-investor-can">Although it might seem obvious that the locked-in rate of return and the forward rate are equal, this result is significant. Imagine an investor who intends to invest at the future date <span class="math notranslate nohighlight">\(t\)</span> for <span class="math notranslate nohighlight">\(\Delta t\)</span> periods. The investor can</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-a-state-of-equilibrium-the-prices-of-zero-coupon-bonds-ensure-that-investors-are-indifferent-to-either-securing-a-spot-rate-immediately-or-deferring-investment-until-a-future-unknown-spot-rate-the-choice-between-rolling-over-a-short-term-investment-and-making-a-long-term-one-essentially-hinges-on-expectations-regarding-future-interest-rates-similar-to-the-odds-in-a-sports-wager-the-forward-rate-represents-a-fair-bet-value-for-these-future-unknown-spot-rates-thereby-making-investors-indifferent-to-the-duration-of-their-investment-although-forward-rates-forecast-future-spot-rates-the-forecasts-may-not-be-the-expected-values-8">In a state of equilibrium, the prices of zero-coupon bonds ensure that investors are indifferent to either securing a spot rate immediately or deferring investment until a future, unknown spot rate. The choice between rolling over a short-term investment and making a long-term one essentially hinges on expectations regarding future interest rates. Similar to the odds in a sports wager, the forward rate represents a fair-bet value for these future unknown spot rates, thereby making investors indifferent to the duration of their investment. Although forward rates forecast future spot rates, the forecasts may not be the expected values.<span class="math notranslate nohighlight">\(^{8}\)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-term-structure-of-interest-rates-with-treasury-bills"><em><strong>Calculating the Term Structure of Interest Rates with Treasury Bills</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-bills-or-t-bills-mature-in-a-year-or-less-and-make-a-single-principal-payment-at-maturity-in-this-section-we-ll-apply-the-python-concepts-we-ve-learned-so-far-to-t-bill-data-using-the-bills-to-demonstrate-the-term-structure-between-one-month-and-one-year-because-the-bills-make-a-single-payment-their-prices-are-determined-by-the-single-spot-rate-of-interest-at-maturity">Treasury bills, or T-bills, mature in a year or less and make a single principal payment at maturity. In this section, we’ll apply the Python concepts we’ve learned so far to T-bill data, using the bills to demonstrate the term structure between one month and one year. Because the bills make a single payment, their prices are determined by the single spot rate of interest at maturity.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-treasury-bill-data"><em><strong>Getting Treasury Bill Data</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-bill-data-is-available-from-the-us-department-of-the-treasury-treasury-at-the-department-s-daily-treasury-bill-rate-page-the-data-used-in-this-example-is-for-september-2022-and-was-uploaded-to-dropbox-as-an-excel-workbook">Treasury bill data is available from the US Department of the Treasury (Treasury) at the department’s <a href="https://home.treasury.gov/resource-center/data-chart-center/interest-rates/TextView?type=daily_treasury_bill_rates&amp;field_tdr_date_value_month=202509">”Daily Treasury Bill Rate”</a> page. The data used in this example is for September 2022 and was uploaded to DropBox as an Excel workbook.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-python-financial-concepts"><em><strong>The Python &amp; Financial Concepts</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-example-outlines-two-python-concepts-first-it-demonstrates-how-to-leverage-pandas-for-accessing-excel-workbooks-from-a-url-and-convert-them-into-dataframesa-highly-effective-skill-given-excel-s-widespread-use-the-pandas-method-is-read-excel-9-second-it-illustrates-data-manipulation-techniques-using-pandas-specifically-focusing-on-how-loc-iloc-and-get-indexer-are-used-to-retrieve-data-needed-for-calculations-10">This example outlines two Python concepts. First, it demonstrates how to leverage Pandas for accessing Excel workbooks from a URL and convert them into DataFrames—a highly effective skill given Excel’s widespread use.  The Pandas method is <font color="green">read_excel</font>.<span class="math notranslate nohighlight">\(^{9}\)</span> Second, it illustrates data manipulation techniques using Pandas, specifically focusing on how <font color="green">loc</font>, <font color="green">iloc</font>, and <font color="green">get_indexer</font> are used to retrieve data needed for calculations.<span class="math notranslate nohighlight">\(^{10}\)</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measuring-the-term-structure-is-a-key-financial-skill-the-term-structure-of-interest-rates-is-a-critical-indicator-of-financial-market-conditions-its-explanation-along-with-the-concepts-necessary-for-its-calculation-represents-the-most-significant-aspect-of-this-example-the-relation-between-past-present-and-future-market-conditions-are-expressed-by-measuring-the-term-structure">Measuring the term structure is a key financial skill. The term structure of interest rates is a critical indicator of financial market conditions. Its explanation, along with the concepts necessary for its calculation, represents the most significant aspect of this example. The relation between past, present,and future market conditions are expressed by measuring the term structure.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-the-data"><em><strong>Accessing The Data</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pandas-magic-used-to-read-a-an-excel-workbook-from-a-url-address-is-read-excel-the-arguments-of-the-method-are">The Pandas magic used to read a an Excel workbook from a URL address is <font color="green">read_excel</font>.  The arguments of the method are:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-the-dataframe-tbill-data-excel-from-an-excel-workbook"><em><strong>Creating the DataFrame Tbill_data_excel From An Excel Workbook</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#an-excel-workbook-is-accessed-from-dropbox-the-url-is-provided-by-dropbox-the-pandas-method-read-excel-is-used-to-read-and-assign-the-data-to-tbill-data-excel-the-date-column-is-assigned-as-the-index-notice-here-that-try-and-except-are-used-to-alert-us-if-the-file-is-not-available">An Excel workbook is accessed from Dropbox. The URL is provided by DropBox.The Pandas method <font color="green">read_excel()</font> is used to read and assign the data to <font color="green">Tbill_data_excel</font>.  The <font color="green">Date</font> column is assigned as the index.  Notice here that <font color="green">try</font> and <font color="green">except</font> are used to alert us if the file is not available.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-rows-of-a-pandas-dataframe"><em><strong>Accessing Rows of a Pandas DataFrame</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#we-ve-now-created-a-dataframe-but-we-still-need-to-access-its-contents-three-common-ways-of-accessing-the-rows-of-a-dataframe-are-the-attributes-loc-and-iloc-and-the-method-get-indexer-all-three-ways-access-rows-by-the-value-of-the-index">We’ve now created a DataFrame, but we still need to access its contents. Three common ways of accessing the rows of a DataFrame are the attributes <font color="green">loc</font> and <font color="green">iloc</font> and the method <font color="green">get_indexer()</font>.  All three ways access rows by the value of the index.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-loc-attribute-of-a-dataframe-accesses-a-row-by-using-its-index-value-in-the-below-code-the-specific-value-of-the-index-09-15-2022-is-accessed-if-the-value-is-not-in-the-index-an-error-is-returned-via-except-there-are-only-30-days-in-september-so-09-31-2022-fails-and-the-message-value-not-in-index-is-displayed">The <font color="green">loc</font> attribute of a DataFrame accesses a row by using its index value. In the below code, the specific value of the index “09/15/2022” is accessed. If the value is not in the index, an error is returned via <font color="green">except</font>. There are only 30 days in September, so ‘09/31/2022’ fails and the message ‘Value Not In Index’ is displayed.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-iloc-attribute-accesses-a-row-by-its-indexed-integer-value-in-this-case-the-date-09-15-2022-has-an-index-value-of-11-if-the-integer-value-is-not-present-an-error-is-returned-the-dataframe-has-21-rows-and-so-the-index-value-of-45-fails-as-shown-below">The <font color="green">iloc</font> attribute accesses a row by its indexed integer value. In this case the Date “09/15/2022” has an index value of 11. If the integer value is not present, an error is returned. The DataFrame has 21 rows, and so the index value of 45 fails, as shown below.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pandas-method-get-indexer-returns-the-indexed-integer-values-for-a-specific-value-of-the-index-as-an-array-in-the-below-example-an-array-with-a-single-value-is-returned-for-the-date-09-15-2022-the-value-11-is-returned-the-get-indexer-method-returns-1-for-missing-values-which-avoids-interrupting-the-code">The Pandas method <font color="green">get_indexer()</font> returns the indexed integer values for a specific value of the index as an array. In the below example, an array with a single value is returned. For the Date “09/15/2022” the value 11 is returned. The <font color="green">get_indexer()</font> method returns −1 for missing values, which avoids interrupting the code.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-term-structure"><em><strong>Calculating The Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#with-the-data-we-can-return-to-calculating-the-term-structure-recall-that-the-price-of-a-t-bill-a-zero-coupon-bond-is-its-principal-discounted-back-at-the-annualized-continuous-spot-rate-of-interest-the-forward-rate-of-interest-is-the-difference-of-the-natural-logs-of-the-prices-of-a-shorter-maturity-and-a-longer-maturity-zero-coupon-bond-in-order-to-calculate-the-term-structure-we-need-to-first-calculate-the-prices-of-the-t-bills-the-zero-coupon-prices">With the data, we can return to calculating the Term Structure.  Recall that the price of a T-Bill (a zero-coupon bond) is its principal discounted back at the annualized continuous spot rate of interest. The forward rate of interest is the difference of the natural logs of the prices of a shorter maturity and a longer maturity zero-coupon bond. In order to calculate the term structure, we need to first calculate the prices of the T-Bills (the zero coupon prices).</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bank-discounts-coupon-equivalent-yields"><em><strong>Bank Discounts &amp; Coupon Equivalent Yields</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#t-bills-are-quoted-as-bank-discounts-or-coupon-eequivalent-yields-t-bill-prices-are-100-less-a-bank-discount-annualized-with-a-360-day-year">T-Bills are quoted as bank discounts or coupon eequivalent yields. T-Bill prices are 100 less a bank discount annualized with a 360 day year.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-bank-discount-of-the-four-week-bill-on-september-15th-is-2-68-which-implies-a-bill-price-of">The bank discount of the four-week bill on September 15th is 2.68%, which implies a bill price of:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-coupon-equivalent-is-the-annualized-rate-of-return-that-is-calculated-with-the-convention-of-365-days-per-year-the-calculation-is-the-actual-rate-of-return-the-gain-on-the-bill-divided-by-the-bill-price-multiplied-by-365-divided-by-the-maturity-of-the-bill-in-days-a-four-week-bill-matures-in-28-days-and-its-coupon-equivalent-is">The coupon equivalent is the annualized rate of return that is calculated with the convention of 365 days per year. The calculation is the actual rate of return (the gain on the bill divided by the bill price) multiplied by 365 divided by the maturity of the bill in days. A four-week bill matures in 28 days, and its coupon equivalent is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#and-a-coupon-equivalent-of">And a coupon equivalent of:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-bond-prices-with-bank-discounts"><em><strong>Calculating Bond Prices With Bank Discounts</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-columns-of-the-tbill-data-excel-dataframe-are-either-bank-discount-or-coupon-equivalent-we-will-construct-a-numpy-array-bank-discount-from-the-bank-discount-columns-the-list-desired-columns-is-created-with-list-comprehension-from-the-columns-attribute-of-tbill-data-excel-if-the-string-bank-is-in-the-column-name-that-column-name-is-added-to-the-list-desired-columns-11-12">The columns of the <font color="green">Tbill_data_excel</font> DataFrame  are either <em>BANK DISCOUNT</em> or <em>COUPON EQUIVALENT</em>. We will construct a NumPy array <font color="green">bank_discount</font> from the <em>BANK DISCOUNT</em> columns. The list <font color="green">desired_columns</font> is created with list comprehension from the columns attribute of <font color="green">Tbill_data_excel</font>. If the string ‘BANK’ is in the column name, that column name is added to the list <font color="green">desired_columns.</font><span class="math notranslate nohighlight">\(^{11,12}\)</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-column-is-only-added-when-the-if-statement-is-true-the-df-bankers-discount-dataframe-is-created-by-including-the-desired-column-lists-as-the-columns-of-the-tbill-data-excel-dataframe-as-shown-below">The column is only added when the if statement is true. The <font color="green">df_bankers_discount</font> DataFrame is created by including the <font color="green">desired_column</font> lists as the columns of the <font color="green">Tbill_data_excel</font> DataFrame, as shown below.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#having-the-bank-discount-in-numpy-arrays-will-allow-for-an-easy-conversion-to-bill-prices-we-can-convert-df-bankers-discount-into-a-two-dimensional-numpy-array-bankers-discount-with-the-pandas-method-to-numpy-the-first-five-rows-of-the-array-are-shown-below-13">Having the bank discount in NumPy arrays will allow for an easy conversion to bill prices. We can convert <font color="green">df_bankers_discount</font> into a two-dimensional NumPy array <font color="green">bankers_discount</font> with the Pandas method <font color="green">to_numpy()</font>. The first five rows of the array are shown below.<span class="math notranslate nohighlight">\(^{13}\)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#going-from-bankers-discounts-to-zero-prices"><em><strong>Going from Bankers Discounts to Zero Prices</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#as-noted-earlier-the-price-of-a-bill-with-a-100-par-value-is">As noted earlier, the price of a bill with a $100 par value is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-price-of-one-dollar-or-the-the-zero-price-is">The price of one dollar or the the zero price is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-maturity-of-the-bills-are-4-8-13-26-and-52-weeks-in-the-following-code-the-numpy-array-maturity-days-is-created-by-multiplying-the-number-of-weeks-by-seven-the-zero-price-one-array-is-calculated-by-multiplying-bankers-discount-by-maturity-days-annualized-with-360-days-per-year-we-then-divide-by-100-to-convert-the-value-to-a-percentage">The maturity of the bills are 4, 8, 13, 26, and 52 weeks. In the following code, the NumPy array <font color="green">maturity_days</font> is created by multiplying the number of weeks by seven. The <font color="green">zero_price_one</font> array is calculated by multiplying <font color="green">bankers_discount</font> by <font color="green">maturity_days</font>, annualized with 360 days per year. We then divide by 100 to convert the value to a percentage.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spot-rates"><em><strong>Spot Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#recall-that-the-spot-rates-are-the-annualized-rates-calculated-from-the-tibill-data-spot-rates-are-equal-to">Recall that the spot rates are the annualized rates calculated from the TiBill data. Spot rates are equal to:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#where-t-is-the-number-of-days-in-the-following-code-the-array-spot-rates-is-calculated-from-the-zero-prices-one-array-the-first-five-rows-of-the-array-are-displayed-below">where <span class="math notranslate nohighlight">\(T\)</span> is the number of days.  In the following code, the array <font color="green">spot_rates</font> is calculated from the <font color="green">zero_prices_one</font> array. The first five rows of the array are displayed below.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forward-rates"><em><strong>Forward Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-forward-rates-are-calculated-with-differences-in-the-natural-logs-of-zero-prices-and-assigned-to-the-matrix-forward-rates-in-the-below-code-the-numpy-method-diff-is-used-to-calculate-the-difference-between-the-zero-prices-for-adjacent-maturities-the-arguments-of-diff-are-the-array-name-and-the-number-of-lags-between-differences-the-default-value-for-lags-between-differences-is-1">The forward rates are calculated with differences in the natural logs of zero prices and assigned to the matrix <font color="green">forward_rates</font> in the below code. The NumPy method <font color="green">diff()</font> is used to calculate the difference between the zero prices for adjacent maturities. The arguments of <font color="green">diff()</font> are the array name and the number of lags between differences. The default value for lags between differences is 1.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-above-line-of-code-warrants-a-bit-of-explanation-the-diff-method-subtracts-the-lower-indexed-value-from-the-higher-in-this-example-the-maturity-of-four-weeks-from-eight-weeks-and-eight-weeks-from-thirteen-and-so-on-the-calculation-of-forward-rates-is-the-reverse-or-the-negative-value-of-the-diff-method-the-forward-rates-array-is-assigned-the-negative-value-the-diff-function-returns-four-values-there-is-no-forward-rate-for-the-first-month-in-order-to-get-the-spot-and-forward-to-line-up-on-the-graph-a-value-is-inserted-in-the-forward-rate-array-that-is-ignored-by-calculations-the-numpy-method-insert-is-used-to-add-a-column-with-the-value-nan-as-the-first-column-of-the-forward-rates-array-12-as-you-might-have-guessed-nan-stands-for-not-a-number-the-arguments-of-insert-are-the-array-position-value-and-axis-the-rows-are-axis-0-and-the-columns-are-axis-1-this-means-that-a-position-of-0-and-an-axis-of-1-inserts-the-values-as-the-first-column">The above line of code warrants a bit of explanation. The <font color="green">diff()</font> method subtracts the lower indexed value from the higher. In this example, the maturity of four weeks from eight weeks and eight weeks from thirteen and so on. The calculation of forward rates is the reverse (or the negative) value of the <font color="green">diff()</font> method. The <font color="green">forward_rates</font> array is assigned the negative value. The <font color="green">diff()</font> function returns four values (there is no forward rate for the first month). In order to get the spot and forward to line up on the graph, a value is inserted in the forward rate array that is ignored by calculations. The NumPy method <font color="green">insert()</font> is used to add a column with the value <font color="green">nan</font> as the first column of the <font color="green">forward_rates</font> array.<span class="math notranslate nohighlight">\(^{12}\)</span>  As you might have guessed, <font color="green">nan</font> stands for ‘not a number’.  The arguments of <font color="green">insert()</font> are the array, position, value, and axis. The rows are <font color="green">axis 0</font> and the columns are <font color="green">axis 1</font>. This means that a position of 0 and an axis of 1 inserts the values as the first column.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-first-five-values-of-the-forward-rates-array-are-shown-below">The first five values of the <font color="green">forward_rates</font> array are shown below.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><em><strong>Preparing the Notebook</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#we-suggest-creating-a-main-folder-and-subfolders-on-your-local-computer-or-google-drive-to-store-files-graphs-spreadsheets-and-so-forth-generated-by-the-notebooks-in-basic-concepts-of-fixed-income">We suggest creating a main folder and subfolders on your local computer or Google Drive to store files (graphs, spreadsheets, and so forth) generated by the Notebooks in <em>Basic Concepts of Fixed Income</em>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-function-parent-folder-subfolder-that-was-imported-from-module-basic-concepts-fixed-income-determines-default-values-and-allows-you-to-name-the-parent-directory-the-folder-and-subfolders-the-function-s-single-argument-is-set-to-true-by-default-if-false-is-not-explicitly-passed-the-function-will-attempt-to-return-default-values-for-the-parent-folder-and-subfolder-conversely-passing-false-will-prompt-the-user-for-these-inputs-note-that-the-function-does-not-direct-output-to-the-parent-folder-or-subfolder">The function <font color="green">parent_folder_subfolder</font> that was imported from <font color="green">module_basic_concepts_fixed_income</font> determines default values and allows you to name the parent directory, the folder, and subfolders. The function’s single argument is set to <font color="green">True</font> by default. If <font color="green">False</font> is not explicitly passed, the function will attempt to return default values for the parent, folder, and subfolder. Conversely, passing <font color="green">False</font> will prompt the user for these inputs. Note that the function does not direct output to the parent, folder, or subfolder.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-you-input-values-the-function-corrects-errors-that-prevent-the-url-from-being-usable">If you input values, the function corrects errors that prevent the URL from being usable.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-above-returns-the-values-that-can-be-used-to-create-a-path">The above returns the values that can be used to create a path.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-the-term-structure"><em><strong>Graphing the Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-function-one-y-axis-graphs-values-on-a-single-y-axis-if-the-save-config-dictionary-has-a-value-assigned-to-one-of-its-four-keys-parent-folder-subfolder-and-file-one-y-axis-will-attempt-to-save-the-plot-as-a-pdf">The function <font color="green">one_y_axis()</font> graphs values on a single <em>y</em>-axis. If the <font color="green">save_config</font> dictionary has a value assigned to one of its four keys (<font color="green">Parent</font>, <font color="green">Folder</font>, <font color="green">Subfolder</font>,and <font color="green">File</font>), <font color="green">one_y_axis()</font> will attempt to save the plot as a PDF.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-values-returned-by-create-path-folder-and-t-bill-term-structure-9-15-2022-pdf-are-assigned-to-the-four-keys-shown-below-12-if-no-values-are-assigned-the-graph-will-not-be-saved">The values returned by <font color="green">create_path_folder()</font> and <font color="green">T-Bill Term Structure: 9-15-2022.pdf</font> are assigned to the four keys, shown below.<span class="math notranslate nohighlight">\(^{12}\)</span>. If no values are assigned, the graph will not be saved.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-the-spot-and-forward-rates-for-september-15-2022"><em><strong>Graphing the Spot and Forward Rates for September 15, 2022</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-the-following-code-the-x-axis-is-set-at-the-five-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2022-and-the-data-for-september-15-2022-is-plotted">In the following code, the <em>x</em>-axis is set at the five maturities of the bills in months. Forward and spot rates are calculated for the month of September 2022, and the data for September 15, 2022, is plotted.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#since-they-lack-index-columns-the-correct-rows-of-the-numpy-arrays-spot-rates-and-forward-rates-cannot-be-determined-from-the-value-of-string-date-because-the-rows-of-the-arrays-correspond-to-the-rows-of-the-dataframe-the-correct-row-is-determined-with-the-pandas-method-get-indexer-the-method-returns-an-array-with-index-values-corresponding-to-the-argument-the-spot-and-forward-rate-rows-for-september-15-2022-are-then-multiplied-by-100-and-assigned-to-the-list-data">Since they lack index columns, the correct rows of the NumPy arrays <font color="green">spot_rates</font> and <font color="green">forward_rates</font> cannot be determined from the value of <font color="green">string_date</font>. Because the rows of the arrays correspond to the rows of the DataFrame, the correct row is determined with the Pandas method <font color="green">get_indexer()</font>. The method returns an array with index values corresponding to the argument. The spot- and forward-rate rows for September 15, 2022, are then multiplied by 100 and assigned to the list <font color="green">data</font>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-plot-title-is-assigned-whatever-value-is-assigned-to-save-config-file-name-minus-the-pdf-extension">The plot title is assigned whatever value is assigned to <font color="green">save_config[‘File Name’]</font> (minus the PDF extension).</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#series-names-labels-and-markers-are-then-assigned">Series names, labels, and markers are then assigned.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-6-and-red-and-blue-respectively">The upper limit of the <em>y</em>-axis is assigned to <font color="green">upper</font> and calculated from the maximum value of the spot and forward rates. The NumPy method <font color="green">nanmax()</font> ignores <font color="green">nan</font> values. The maximum of <font color="green">nanmax()</font> of spot rates (<font color="green">data[0]</font>) and forward rates (<font color="green">data[1]</font>) plus 0.5% are assigned to <font color="green">upper </font>. The lower limit is set to 0, and the size and colors of the lines are set as 10,6 and red and blue, respectively.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-1">Finally, the graph is generated and saved with <font color="green">one_y_axis()</font> (see <strong>Figure 1</strong>).</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-the-t-bill-data-directly-from-the-us-department-of-the-treasury-treasury"><em><strong>Accessing the T-Bill Data Directly from the US Department of the Treasury (Treasury)</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#figure-2-shows-a-screenshot-of-the-treasury-page-and-its-data-tool-a-selected-time-period-determines-a-url-to-the-download-csv-link-in-our-example-the-year-is-set-to-2025-and-the-month-is-september-as-we-will-see-below-the-url-includes-the-sting-of-a-four-digit-year-and-a-two-digit-month-202509"><br/><strong>Figure 2</strong> shows a screenshot of the Treasury page and its data tool. A selected time period determines a URL to the Download CSV link.  In our example the year is set to 2025 and the month is September. As we will see below, the URL includes the sting of a four digit year and a two digit month (‘202509’).</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-link-to-the-daily-treasury-bill-rates-on-the-treasury-site">The link to the Daily Treasury Bill Rates on the Treasury Site</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-the-url-and-using-the-pandas-method-read-csv"><em><strong>Changing The URL And Using The Pandas Method <font color="green">read_csv</font></strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-data-is-accessed-directly-from-the-treasury-as-a-csv-file-and-the-code-below-displays-the-data-row-for-september-30-2025-with-the-exception-of-the-url-value-and-the-read-csv-versus-read-excel-the-code-is-identical-to-what-we-used-to-create-tbill-data-excel-in-this-example-the-url-points-to-a-treasury-site-instead-of-dropbox-the-url-is-copied-by-right-clicking-the-download-csv-link-on-the-treasury-site-the-url-for-a-particular-year-and-month-is-shown-below-data-date-is-assigned-the-string-202509-you-can-assign-it-any-year-and-month-after-2022-as-of-november-3-2025-dates-prior-to-2022-will-be-moved-to-a-historical-page">The data is accessed directly from the Treasury as a CSV file, and the code below displays the data row for September 30, 2025. With the exception of the URL value and the <font color="green">read_csv</font> versus <font color="green">read_excel</font>, the code is identical to what we used to create <font color="green">Tbill_data_excel</font>. In this example, the URL points to a Treasury site instead of DropBox.  The URL is copied by right clicking the Download CSV link on the Treasury site.  The URL for a particular year and month is shown below. <font color="green">data_date</font> is assigned the string ‘202509’.  You can assign it any year and month after 2022. As of November 3 2025, dates prior to 2022 will be moved to a historical page.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-csv-file-is-descending-order-of-the-dates-the-first-row-is-for-september-30-th-and-is-displayed-with-iloc-0">The csv file is descending order of the dates.  The first row is for September 30<span class="math notranslate nohighlight">\(^{th}\)</span> and is displayed with <font color="green">iloc[0]</font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-downloading-treasury-data"><font color="blue"> <em><strong>Application: Downloading Treasury Data</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#access-september-2024-t-bill-data-from-the-us-treasury-and-display-the-values-for-september-12-2024"><font color="blue"><em><strong>Access September 2024 T-Bill Data from the US Treasury and display the values for September 12, 2024.</strong></em></font></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-csv-file-to-calculate-term-structure"><em><strong>Using the CSV File to Calculate Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><em><strong>Going from Bankers Discounts to Zero Prices</strong></em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><em><strong>Spot Rates</strong></em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><em><strong>Forward Rates</strong></em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><em><strong>Preparing the Notebook</strong></em></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><em><strong>Graphing the Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-the-spot-and-forward-rates-for-september-30-2025"><em><strong>Graphing the Spot and Forward Rates for September 30, 2025</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-september-2022-t-bill-data-had-five-maturity-dates-the-september-2025-data-has-two-additional-dates-6-weeks-and-17-weeks-in-the-following-code-the-x-axis-is-set-at-the-seven-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2025-and-the-data-for-september-30-2025-is-plotted">The September 2022 T-Bill data had five maturity dates.  The September 2025 data has two additional dates: ‘6 WEEKS’ and ‘17 WEEKS’. In the following code, the <em>x</em>-axis is set at the seven maturities of the bills in months. Forward and spot rates are calculated for the month of September 2025, and the data for September 30, 2025, is plotted.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-first-row-of-spot-rates-and-forward-rates-correspond-to-september-30-the-spot-and-forward-rate-rows-for-september-30-2025-are-then-multiplied-by-100-and-assigned-to-the-list-data">The first row of spot_rates and forward_rates correspond to September 30.The spot- and forward-rate rows for September 30, 2025, are then multiplied by 100 and assigned to the list <font color="green">data</font>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">The plot title is assigned whatever value is assigned to <font color="green">save_config[‘File Name’]</font> (minus the PDF extension).</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Series names, labels, and markers are then assigned.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-inches-wide-and-6-inches-tall-10-6-and-red-and-blue-respectively">The upper limit of the <em>y</em>-axis is assigned to <font color="green">upper</font> and calculated from the maximum value of the spot and forward rates. The NumPy method <font color="green">nanmax()</font> ignores <font color="green">nan</font> values. The maximum of <font color="green">nanmax()</font> of spot rates (<font color="green">data[0]</font>) and forward rates (<font color="green">data[1]</font>) plus 0.5% are assigned to <font color="green">upper </font>. The lower limit is set to 0, and the size and colors of the lines are set as 10 inches wide and 6 inches tall (10,6) and red and blue, respectively.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-3">Finally, the graph is generated and saved with <font color="green">one_y_axis()</font> (see <strong>Figure 3</strong>).</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-pandas-numpy-and-financial-insights"><em><strong>Python, Pandas, NumPy And Financial Insights</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pandas-and-numpy-the-term-structure-of-interest-rates-was-calculated-for-september-15-th-2022-and-september-30-th-2025-these-term-structures-reveal-an-economy-in-transition-on-september-15-th-2022-rates-were-increasing-with-maturity-and-expected-to-continue-rising-by-september-30-th-2025-the-pattern-had-shifted-although-the-overall-level-of-rates-was-higher-on-september-30-th-2025-the-term-structure-showed-a-slight-downward-slope-these-differences-indicate-two-different-economic-states-inflation-was-expected-to-increase-in-september-2022-but-not-in-september-2025-the-ability-to-calibrate-the-term-structure-of-interest-rates-in-this-way-highlights-the-utility-of-python-and-its-rich-ecosystem-of-libraries">Using Pandas and NumPy, the term structure of interest rates was calculated for September 15<span class="math notranslate nohighlight">\(^{th}\)</span> 2022, and September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025. These term structures reveal an economy in transition. On September 15<span class="math notranslate nohighlight">\(^{th}\)</span> 2022, rates were increasing with maturity and expected to continue rising. By September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025 the pattern had shifted. Although the overall level of rates was higher on September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025, the term structure showed a slight downward slope. These differences indicate two different economic states: inflation was expected to increase in September 2022 but not  in September 2025. The ability to calibrate the term structure of interest rates in this way highlights the utility of Python and its rich ecosystem of libraries.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summarizing-key-points"><em><strong>Summarizing Key Points</strong></em></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-using-the-september-12-2024-data"><em><strong><font color="blue">Exercise:  Using the September 12, 2024, data</font></strong></em></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <img src='https://docs.google.com/drawings/d/e/2PACX-1vS6qydI5uYdzS6jV_kN6s11CZnsXt8WL5T68xdjJGFnBSfQVZMLJgMCsAY0KhyHvTCnviIu65GBBjI2/pub?w=960&h=720'><section class="tex2jax_ignore mathjax_ignore" id="chapter-one-notebook-of-basic-concepts-of-fixed-income">
<h1><strong>Chapter One Notebook Of Basic Concepts Of Fixed Income</strong><a class="headerlink" href="#chapter-one-notebook-of-basic-concepts-of-fixed-income" title="Link to this heading">#</a></h1>
<section id="a-road-map">
<h2><em><strong>A Road Map</strong></em><a class="headerlink" href="#a-road-map" title="Link to this heading">#</a></h2>
<ul type='dot'>
<li><font size=5>Bond Pricing</li>
<ul tupe='dot'>
  <li>The Present Value Of A Bond</li>
  <li>Arbitrage And The Value Of A Bond</li>
  <li>Continuous And Discrete Compounding</li>
  </ul>
<li>NumPy Arrays</li>
<ul tupe='dot'>
  <li>Element-By-Element Calculations</li>
  <li>Creating One- and Two-Dimensional Arrays</li>
  <li>Converting NumPy Arrays To Panda DataFrames</li>
</ul>
<li>Term Structure</li>
<ul tupe='dot'>
  <li>Spot Rates Of Interest</li>
  <li>Forward Rates Of Interest</li>
</ul>
<li>Calculating The Term Structure</li>
<ul tupe='dot'>
  <li>Creating A DataFrame From A CSV File</li>
  <li>Creating A DataFrame From An Excel File</li>
  <li>Creating A DataFrame From An URL Address</li>
  <li>Calculating Spot And Forward Rates From T-Bill Prices</li>
<section id="chapter-one-uses-the-libraries-pandas-and-numpy-the-basic-usage-of-these-libraries-are-discussed-in-two-separate-notebooks-the-notebook-a-quick-introduction-to-pandas-reviews-some-basic-concepts-of-pandas-the-notebook-a-quick-introduction-to-numpy-does-the-same-for-numpy">
<h3>Chapter One uses the libraries Pandas and NumPy. The basic usage of these libraries are<br> discussed in two separate notebooks.  The notebook <a class="reference external" href="https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_Pandas.html">A Quick Introduction To Pandas</a><br> reviews some basic concepts of Pandas.  The notebook <a class="reference external" href="https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_NumPy.html">A Quick Introduction To NumPy</a><br> does the same for NumPy.<a class="headerlink" href="#chapter-one-uses-the-libraries-pandas-and-numpy-the-basic-usage-of-these-libraries-are-discussed-in-two-separate-notebooks-the-notebook-a-quick-introduction-to-pandas-reviews-some-basic-concepts-of-pandas-the-notebook-a-quick-introduction-to-numpy-does-the-same-for-numpy" title="Link to this heading">#</a></h3>
</section>
<section id="python-for-bonds-and-interest-rates">
<h3><em><strong>Python for Bonds and Interest Rates</strong></em><a class="headerlink" href="#python-for-bonds-and-interest-rates" title="Link to this heading">#</a></h3>
<section id="in-this-chapter-we-ll-explore-bond-calculations-and-interest-through-the-lens-of-numpy-and-python-dataframes-powerful-tools-for-engaging-bond-data-using-treasury-bill-data-we-ll-learn-how-to-create-dataframes-and-numpy-arrays-from-csv-files-excel-workbooks-all-our-data-is-accessed-with-external-urls-our-calculations-result-in-the-term-structure-of-interest-rates-on-two-different-data-the-chapter-concludes-with-an-exercise-in-which-you-practice-calculating-and-graphin-the-term-structure-of-interest-rates-on-your-own">
<h4>In this chapter, we’ll explore bond calculations and interest through the lens of NumPy And Python DataFrames. Powerful tools for engaging bond data. Using Treasury bill data, we’ll learn how to create DataFrames and NumPy arrays from CSV files, Excel workbooks. All our data is accessed with external URLs. Our calculations result in the term structure of interest rates on two different data. The chapter concludes with an exercise in which you practice calculating and graphin the term structure of interest rates on your own.<a class="headerlink" href="#in-this-chapter-we-ll-explore-bond-calculations-and-interest-through-the-lens-of-numpy-and-python-dataframes-powerful-tools-for-engaging-bond-data-using-treasury-bill-data-we-ll-learn-how-to-create-dataframes-and-numpy-arrays-from-csv-files-excel-workbooks-all-our-data-is-accessed-with-external-urls-our-calculations-result-in-the-term-structure-of-interest-rates-on-two-different-data-the-chapter-concludes-with-an-exercise-in-which-you-practice-calculating-and-graphin-the-term-structure-of-interest-rates-on-your-own" title="Link to this heading">#</a></h4>
</section>
</section>
<section id="introduction-to-bond-pricing">
<h3><em><strong>Introduction to Bond Pricing</strong></em><a class="headerlink" href="#introduction-to-bond-pricing" title="Link to this heading">#</a></h3>
<section id="this-chapter-will-introduce-some-fundamental-principles-of-fixed-income-these-principles-include-pricing-coupon-bonds-as-a-portfolio-of-zero-coupon-bonds-the-term-structure-of-interest-rates-and-the-relation-between-spot-and-forward-rates-of-interest">
<h4>This chapter will introduce some fundamental principles of fixed income. These principles include pricing coupon bonds as a portfolio of zero-coupon bonds, the term structure of interest rates, and the relation between spot and forward rates of interest.<a class="headerlink" href="#this-chapter-will-introduce-some-fundamental-principles-of-fixed-income-these-principles-include-pricing-coupon-bonds-as-a-portfolio-of-zero-coupon-bonds-the-term-structure-of-interest-rates-and-the-relation-between-spot-and-forward-rates-of-interest" title="Link to this heading">#</a></h4>
</section>
</section>
<section id="the-present-value-of-a-bond">
<h3><em><strong>The Present Value of a Bond</strong></em><a class="headerlink" href="#the-present-value-of-a-bond" title="Link to this heading">#</a></h3>
<section id="chapter-two-of-basic-financial-and-python-concepts-asserted-that-the-value-of-an-asset-with-certain-cash-flows-equals-the-present-value-of-its-cash-flows-as-shown-in-the-following-equation">
<h4>Chapter Two of <em>Basic Financial and Python Concepts</em> asserted that the value of an asset with certain cash flows equals the present value of its cash flows, as shown in the following equation:<a class="headerlink" href="#chapter-two-of-basic-financial-and-python-concepts-asserted-that-the-value-of-an-asset-with-certain-cash-flows-equals-the-present-value-of-its-cash-flows-as-shown-in-the-following-equation" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large Value = \sum_{t=1}^{T}Cash\,Flow_t\times PV(t)\]</div>
</section>
<section id="where-t-is-the-total-number-of-cash-flow-periods-and-pv-t-is-the-present-value-factor-for-a-certain-cash-flow-in-period-t">
<h4>where <span class="math notranslate nohighlight">\(\ T\)</span> is the total number of cash flow periods, and <span class="math notranslate nohighlight">\(\ PV(t)\)</span> is the present-value factor for a certain cash flow in period <span class="math notranslate nohighlight">\(t\)</span>.<a class="headerlink" href="#where-t-is-the-total-number-of-cash-flow-periods-and-pv-t-is-the-present-value-factor-for-a-certain-cash-flow-in-period-t" title="Link to this heading">#</a></h4>
</section>
<section id="in-finance-equating-value-with-present-value-is-ubiquitous-and-seems-unworthy-of-much-thought-it-is-however-a-powerful-statement-that-value-depends-upon-the-ability-to-replicate-an-asset-with-other-assets-namely-if-an-asset-s-cash-flow-dates-and-amounts-can-be-replicated-by-another-asset-or-combinations-of-assets-the-values-must-be-equal-you-might-call-this-idea-the-law-of-one-pricea-concept-that-is-key-in-all-pricing-models">
<h4>In finance, equating value with present value is ubiquitous and seems unworthy of much thought. It is, however, a powerful statement that value depends upon the ability to replicate an asset with other assets. Namely, if an asset’s cash flow dates and amounts can be replicated by another asset or combinations of assets, the values must be equal. You might call this idea the <em><strong>law of one price</strong></em>—a concept that is key in all pricing models.<a class="headerlink" href="#in-finance-equating-value-with-present-value-is-ubiquitous-and-seems-unworthy-of-much-thought-it-is-however-a-powerful-statement-that-value-depends-upon-the-ability-to-replicate-an-asset-with-other-assets-namely-if-an-asset-s-cash-flow-dates-and-amounts-can-be-replicated-by-another-asset-or-combinations-of-assets-the-values-must-be-equal-you-might-call-this-idea-the-law-of-one-pricea-concept-that-is-key-in-all-pricing-models" title="Link to this heading">#</a></h4>
</section>
</section>
<section id="coupon-bonds-and-zero-coupon-bonds">
<h3><em><strong>Coupon Bonds and Zero-Coupon Bonds</strong></em><a class="headerlink" href="#coupon-bonds-and-zero-coupon-bonds" title="Link to this heading">#</a></h3>
<section id="most-bonds-but-not-all-pay-fixed-coupons-in-each-period-and-principal-at-their-maturity-the-values-of-coupon-bonds-are-calculated-as">
<h4>Most bonds, but not all, pay fixed coupons in each period and principal at their maturity. The values of coupon bonds are calculated as:<a class="headerlink" href="#most-bonds-but-not-all-pay-fixed-coupons-in-each-period-and-principal-at-their-maturity-the-values-of-coupon-bonds-are-calculated-as" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Coupon\, Bond= \sum_{t=1}^{T}Coupon_t\times PV(t)+ Principal_T\times PV(T)\]</div>
</section>
<section id="some-bonds-only-repay-principal-at-maturity-or-t-because-there-are-no-periodic-coupon-payments-these-bonds-are-appropriately-known-as-zero-coupon-bonds-the-values-of-zero-coupon-bonds-are-calculated-as">
<h4>Some bonds only repay principal at maturity, or <span class="math notranslate nohighlight">\(T\)</span>. Because there are no periodic coupon payments, these bonds are appropriately known as zero-coupon bonds. The values of zero-coupon bonds are calculated as:<a class="headerlink" href="#some-bonds-only-repay-principal-at-maturity-or-t-because-there-are-no-periodic-coupon-payments-these-bonds-are-appropriately-known-as-zero-coupon-bonds-the-values-of-zero-coupon-bonds-are-calculated-as" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Zero\,Coupon\, Bond =Principal_T\times PV(T)\]</div>
</section>
<section id="in-order-to-price-any-bond-it-s-necessary-to-know-the-present-value-of-payments-at-the-relevant-dates-if-the-zero-coupon-bond-values-are-known-for-the-relevant-dates-the-present-value-of-each-date-can-be-determined-to-do-so-divide-the-value-of-the-zero-coupon-bond-by-its-principal-as-shown-below">
<h4>In order to price any bond, it’s necessary to know the present value of payments at the relevant dates. If the zero-coupon bond values are known for the relevant dates, the present value of each date can be determined. To do so, divide the value of the zero-coupon bond by its principal, as shown below:<a class="headerlink" href="#in-order-to-price-any-bond-it-s-necessary-to-know-the-present-value-of-payments-at-the-relevant-dates-if-the-zero-coupon-bond-values-are-known-for-the-relevant-dates-the-present-value-of-each-date-can-be-determined-to-do-so-divide-the-value-of-the-zero-coupon-bond-by-its-principal-as-shown-below" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large  PV(t)=\frac{Zero\,Coupon\, Bond_t }{Principal_t}\]</div>
</section>
<section id="each-coupon-bond-cash-flow-is-equivalent-to-an-investment-in-a-zero-coupon-bond-as-such-we-can-replicate-a-coupon-bond-with-a-sequence-of-zero-coupon-bonds-the-number-of-zero-coupon-bonds-with-a-maturity-of-t-equals-the-coupon-bond-s-cash-flow-at-t-divided-by-the-zero-coupon-bond-s-principal-for-example-consider-a-40-coupon-that-is-paid-every-six-months-before-maturity-this-coupon-is-valued-with-a-sequence-of-0-04-zero-coupon-bonds-with-a-1-000-principal-and-maturities-matching-the-coupon-payment-dates-the-coupon-bond-s-payment-at-maturity-equals-1-040-zero-coupon-bonds-with-a-1-000-principal-and-the-same-maturity-as-the-coupon-bond">
<h4>Each coupon-bond cash flow is equivalent to an investment in a zero-coupon bond. As such, we can replicate a coupon bond with a sequence of zero-coupon bonds: The number of zero-coupon bonds with a maturity of <span class="math notranslate nohighlight">\(t\)</span> equals the coupon bond’s cash flow at <span class="math notranslate nohighlight">\(t\)</span> divided by the zero-coupon bond’s principal. For example, consider a <span class="math notranslate nohighlight">\(\$40\)</span> coupon that is paid every six months before maturity. This coupon is valued with a sequence of 0.04 zero-coupon bonds, with a <span class="math notranslate nohighlight">\(\$1,000\)</span> principal and maturities matching the coupon payment dates. The coupon bond’s payment at maturity equals 1.040 zero-coupon bonds, with a <span class="math notranslate nohighlight">\(\$1,000\)</span> principal and the same maturity as the coupon bond.<a class="headerlink" href="#each-coupon-bond-cash-flow-is-equivalent-to-an-investment-in-a-zero-coupon-bond-as-such-we-can-replicate-a-coupon-bond-with-a-sequence-of-zero-coupon-bonds-the-number-of-zero-coupon-bonds-with-a-maturity-of-t-equals-the-coupon-bond-s-cash-flow-at-t-divided-by-the-zero-coupon-bond-s-principal-for-example-consider-a-40-coupon-that-is-paid-every-six-months-before-maturity-this-coupon-is-valued-with-a-sequence-of-0-04-zero-coupon-bonds-with-a-1-000-principal-and-maturities-matching-the-coupon-payment-dates-the-coupon-bond-s-payment-at-maturity-equals-1-040-zero-coupon-bonds-with-a-1-000-principal-and-the-same-maturity-as-the-coupon-bond" title="Link to this heading">#</a></h4>
</section>
<section id="further-a-coupon-bond-s-value-is-the-sum-of-all-the-zero-coupon-bond-values-needed-to-replicate-that-bond-s-cash-flows-if-the-coupon-bond-and-the-zero-coupon-bonds-have-the-same-principal-and-all-the-coupon-payments-of-the-coupon-bond-are-equal-the-value-of-the-coupon-bond-is">
<h4>Further, a coupon bond’s value is the sum of all the zero-coupon bond values needed to replicate that bond’s cash flows. If the coupon bond and the zero-coupon bonds have the same principal, and all the coupon payments of the coupon bond are equal, the value of the coupon bond is:<a class="headerlink" href="#further-a-coupon-bond-s-value-is-the-sum-of-all-the-zero-coupon-bond-values-needed-to-replicate-that-bond-s-cash-flows-if-the-coupon-bond-and-the-zero-coupon-bonds-have-the-same-principal-and-all-the-coupon-payments-of-the-coupon-bond-are-equal-the-value-of-the-coupon-bond-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Value = \sum_{t=1}^{T}Zero\,Coupon\,Bond_t\times\frac{Coupon}{Principal}+Zero\,Coupon\,Bond_T\]</div>
</section>
<section id="we-define-the-sum-as">
<h4>We define the sum  as:<a class="headerlink" href="#we-define-the-sum-as" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large S(T) =\sum_{t=1}^{T}\frac{Zero\,Coupon\,Bond_t}{Principal} = \sum_{t=1}^{T}PV(t)\]</div>
</section>
<section id="and-the-value-of-the-fixed-coupon-bond-is-composed-of-two-components-equaling">
<h4>And the value of the fixed-coupon bond is composed of two components equaling:<a class="headerlink" href="#and-the-value-of-the-fixed-coupon-bond-is-composed-of-two-components-equaling" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Value = S(T)\times Coupon+PV(T)\times Principal(T)\]</div>
</section>
</section>
<section id="arbitrage-and-the-value-of-the-bond">
<h3><em><strong>Arbitrage and the Value of the Bond</strong></em><a class="headerlink" href="#arbitrage-and-the-value-of-the-bond" title="Link to this heading">#</a></h3>
<section id="thus-far-bond-values-have-been-represented-as-the-sum-of-the-zero-coupon-bonds-values-but-we-must-consider-the-zero-coupon-bonds-market-pricesnot-their-theoretical-values-will-the-value-relation-between-zero-coupon-and-coupon-bonds-hold-if-we-use-the-market-prices-of-zero-coupon-bonds-to-answer-that-question-let-s-look-at-examples-where-the-coupon-bond-is-worth-more-or-less-than-the-sum-of-the-zero-coupon-bonds-first-consider-a-case-where-the-coupon-bond-s-price-exceeds-the-sum-of-the-zero-coupon-bond-prices">
<h4>Thus far, bond values have been represented as the sum of the zero-coupon bonds’ values. But we must consider the zero-coupon bonds’ <em>market prices</em>—not their “theoretical” values. Will the value relation between zero-coupon and coupon bonds hold if we use the market prices of zero-coupon bonds? To answer that question, let’s look at examples where the coupon bond is worth more or less than the sum of the zero-coupon bonds. First, consider a case where the coupon bond’s price exceeds the sum of the zero-coupon bond prices:<a class="headerlink" href="#thus-far-bond-values-have-been-represented-as-the-sum-of-the-zero-coupon-bonds-values-but-we-must-consider-the-zero-coupon-bonds-market-pricesnot-their-theoretical-values-will-the-value-relation-between-zero-coupon-and-coupon-bonds-hold-if-we-use-the-market-prices-of-zero-coupon-bonds-to-answer-that-question-let-s-look-at-examples-where-the-coupon-bond-is-worth-more-or-less-than-the-sum-of-the-zero-coupon-bonds-first-consider-a-case-where-the-coupon-bond-s-price-exceeds-the-sum-of-the-zero-coupon-bond-prices" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Value &gt; S(T)\times Coupon+PV(T)\times Principal(T)\]</div>
</section>
<section id="if-the-price-of-the-coupon-bond-exceeds-the-sum-of-the-zero-coupon-bond-prices-the-coupon-bond-can-be-shorted-1-the-zero-coupon-bonds-can-then-be-purchased-with-the-proceeds-leaving-the-investor-with-identical-cash-flows-for-a-lower-price-consider-if-the-inequality-is-reversed">
<h4>If the price of the coupon bond exceeds the sum of the zero-coupon bond prices, the coupon bond can be <em>shorted</em>.<span class="math notranslate nohighlight">\(^{1}\)</span> The zero-coupon bonds can then be purchased with the proceeds, leaving the investor with identical cash flows for a lower price. Consider if the inequality is reversed:<a class="headerlink" href="#if-the-price-of-the-coupon-bond-exceeds-the-sum-of-the-zero-coupon-bond-prices-the-coupon-bond-can-be-shorted-1-the-zero-coupon-bonds-can-then-be-purchased-with-the-proceeds-leaving-the-investor-with-identical-cash-flows-for-a-lower-price-consider-if-the-inequality-is-reversed" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Value &lt;  S(T)\times Coupon+PV(T)\times Principal(T)\]</div>
</section>
<section id="in-this-case-the-zero-coupon-bonds-can-be-shorted-and-the-proceeds-can-be-used-to-buy-the-coupon-bond-this-ability-to-recreate-cash-flows-allows-for-arbitrage-between-zero-coupon-and-coupon-bonds-as-a-result-the-coupon-bond-prices-equal-the-costs-of-the-zero-coupon-bonds-used-to-recreate-their-cash-flows-it-is-the-law-of-one-price-in-action-whatever-the-bond-prices-might-have-been-in-theory-does-not-matter-those-prices-were-ideasthe-market-value-is-a-fact">
<h4>In this case, the <em>zero-coupon bonds</em> can be shorted, and the proceeds can be used to buy the coupon bond. This ability to recreate cash flows allows for arbitrage between zero-coupon and coupon bonds; as a result, the coupon bond prices equal the costs of the zero-coupon bonds used to recreate their cash flows. It is the law of one price in action. Whatever the bond prices might have been in theory does not matter. Those prices were ideas—the market value is a fact.<a class="headerlink" href="#in-this-case-the-zero-coupon-bonds-can-be-shorted-and-the-proceeds-can-be-used-to-buy-the-coupon-bond-this-ability-to-recreate-cash-flows-allows-for-arbitrage-between-zero-coupon-and-coupon-bonds-as-a-result-the-coupon-bond-prices-equal-the-costs-of-the-zero-coupon-bonds-used-to-recreate-their-cash-flows-it-is-the-law-of-one-price-in-action-whatever-the-bond-prices-might-have-been-in-theory-does-not-matter-those-prices-were-ideasthe-market-value-is-a-fact" title="Link to this heading">#</a></h4>
</section>
<section id="this-arbitrage-relationship-is-important-for-deriving-the-term-of-structure-of-interest-rates-and-forward-rates-which-we-ll-examine-later-in-this-chapter-these-concepts-are-key-to-understanding-bond-pricing-as-well-as-some-important-fixed-income-derivatives">
<h4>This arbitrage relationship is important for deriving the <em>term of structure of interest rates</em> and <em>forward rates</em>, which we’ll examine later in this chapter. These concepts are key to understanding bond pricing as well as some important fixed-income derivatives.<a class="headerlink" href="#this-arbitrage-relationship-is-important-for-deriving-the-term-of-structure-of-interest-rates-and-forward-rates-which-we-ll-examine-later-in-this-chapter-these-concepts-are-key-to-understanding-bond-pricing-as-well-as-some-important-fixed-income-derivatives" title="Link to this heading">#</a></h4>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{1}\)</span> The mechanics of shorting bonds will be discussed in future chapters.</p>
</section>
</section>
<section id="continuous-and-discrete-compounding">
<h3><em><strong>Continuous and Discrete Compounding</strong></em><a class="headerlink" href="#continuous-and-discrete-compounding" title="Link to this heading">#</a></h3>
<section id="for-mathematical-and-computational-convenience-our-discussion-of-fixed-income-and-bond-pricing-will-use-continuously-compounded-interest-rates-at-times-it-s-appropriate-to-quote-interest-rates-as-discretely-compounded-rates-to-that-end-this-short-aside-demonstrates-the-conversion-between-continuously-and-discretely-compounded-rates">
<h4>For mathematical and computational convenience, our discussion of fixed income and bond pricing will use continuously compounded interest rates. At times, it’s appropriate to quote interest rates as discretely compounded rates. To that end, this short aside demonstrates the conversion between continuously and discretely compounded rates.<a class="headerlink" href="#for-mathematical-and-computational-convenience-our-discussion-of-fixed-income-and-bond-pricing-will-use-continuously-compounded-interest-rates-at-times-it-s-appropriate-to-quote-interest-rates-as-discretely-compounded-rates-to-that-end-this-short-aside-demonstrates-the-conversion-between-continuously-and-discretely-compounded-rates" title="Link to this heading">#</a></h4>
</section>
<section id="suppose-that-r-c-is-the-continuously-compounded-annual-interest-rate-for-t-periods-and-r-d-is-the-discretely-compounded-annual-rate-for-t-periods-when-compounded-d-times-per-year-the-conversion-of-continuously-and-discretely-compounded-rates-requires-that-the-same-values-are-realized-in-t-periods-shown-below">
<h4>Suppose that <span class="math notranslate nohighlight">\(R_c\)</span> is the continuously compounded annual interest rate for <span class="math notranslate nohighlight">\(T\)</span> periods, and <span class="math notranslate nohighlight">\(R_d\)</span> is the discretely compounded annual rate for <span class="math notranslate nohighlight">\(T\)</span> periods when compounded <span class="math notranslate nohighlight">\(d\)</span> times per year. The conversion of continuously and discretely compounded rates requires that the same values are realized in <span class="math notranslate nohighlight">\(T\)</span> periods, shown below:<a class="headerlink" href="#suppose-that-r-c-is-the-continuously-compounded-annual-interest-rate-for-t-periods-and-r-d-is-the-discretely-compounded-annual-rate-for-t-periods-when-compounded-d-times-per-year-the-conversion-of-continuously-and-discretely-compounded-rates-requires-that-the-same-values-are-realized-in-t-periods-shown-below" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large e^{R_c\times T}  =  (1 + \frac{R_d}{d})^{d\times T}\]</div>
</section>
<section id="e-is-euler-s-number-and-is-the-limit-of-1-frac-1-d-d-as-d-goes-to-infinity-or-continously-compounds-the-necessary-condition-is-expressed-as-an-annualized-interest-rate-by-taking-the-t-root-of-both-sides-of-the-equation">
<h4><span class="math notranslate nohighlight">\(e\)</span> is Euler’s number and is the limit of <span class="math notranslate nohighlight">\((1+\frac{1}{d})^{d}\)</span> as d goes to infinity or continously compounds.The necessary condition is expressed as an annualized interest rate by taking the <span class="math notranslate nohighlight">\(T\)</span> root of both sides of the equation:<a class="headerlink" href="#e-is-euler-s-number-and-is-the-limit-of-1-frac-1-d-d-as-d-goes-to-infinity-or-continously-compounds-the-necessary-condition-is-expressed-as-an-annualized-interest-rate-by-taking-the-t-root-of-both-sides-of-the-equation" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large e^{R_c} = (1 + \frac{R_d}{d})^{d}\]</div>
</section>
<section id="taking-natural-logs-of-the-previous-equation-derives-continuously-compounded-rates-from-discretely-compounded-rates">
<h4>Taking natural logs of the previous equation derives continuously compounded rates from discretely compounded rates:<a class="headerlink" href="#taking-natural-logs-of-the-previous-equation-derives-continuously-compounded-rates-from-discretely-compounded-rates" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large R_c = d\times ln(1 + \frac{R_d}{d})\]</div>
</section>
<section id="finally-discretely-compounded-rates-can-be-derived-from-continuously-compounded-rates-by-dividing-both-sides-by-the-compounding-frequency-or">
<h4>Finally, discretely compounded rates can be derived from continuously compounded rates by dividing both sides by the compounding frequency, or<a class="headerlink" href="#finally-discretely-compounded-rates-can-be-derived-from-continuously-compounded-rates-by-dividing-both-sides-by-the-compounding-frequency-or" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large \frac{R_c}{d} = ln(1 + \frac{R_d}{d})\]</div>
</section>
<section id="and-raising-euler-s-number-e-to-both-sides-of-the-equation">
<h4>and raising Euler’s number, <span class="math notranslate nohighlight">\(e\)</span>, to both sides of the equation:<a class="headerlink" href="#and-raising-euler-s-number-e-to-both-sides-of-the-equation" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large R_d = d\times (e^\frac{R_c}{d} - 1)\]</div>
</section>
<section id="for-instances-in-which-rate-conversion-is-necessary-the-above-methods-are-useful-knowledge-for-this-chapter-however-we-ll-focus-on-continuously-compounded-rates">
<h4>For instances in which rate conversion is necessary, the above methods are useful knowledge; for this chapter, however, we’ll focus on continuously compounded rates.<a class="headerlink" href="#for-instances-in-which-rate-conversion-is-necessary-the-above-methods-are-useful-knowledge-for-this-chapter-however-we-ll-focus-on-continuously-compounded-rates" title="Link to this heading">#</a></h4>
</section>
</section>
</section>
<section id="preparing-the-notebook">
<h2><em><strong>Preparing The Notebook</strong></em><a class="headerlink" href="#preparing-the-notebook" title="Link to this heading">#</a></h2>
<section id="importing-libraries-and-functions">
<h3><em><strong>Importing Libraries And Functions</strong></em><a class="headerlink" href="#importing-libraries-and-functions" title="Link to this heading">#</a></h3>
<section id="it-s-good-practice-to-import-all-required-libraries-and-modules-in-the-first-code-cell-of-a-notebook-a-practice-followed-here-unless-attention-is-being-drawn-to-a-new-function-or-module-if-a-library-is-already-installed-it-s-imported-to-the-notebook-if-a-library-is-not-installed-it-is-installed-and-then-imported">
<h4>It’s good practice to import all required libraries and modules in the first code cell of a notebook. A practice followed here unless attention is being drawn to a new function or module. If a library is already installed, it’s imported to the notebook.  If a library is not installed, it is installed  and then imported.<a class="headerlink" href="#it-s-good-practice-to-import-all-required-libraries-and-modules-in-the-first-code-cell-of-a-notebook-a-practice-followed-here-unless-attention-is-being-drawn-to-a-new-function-or-module-if-a-library-is-already-installed-it-s-imported-to-the-notebook-if-a-library-is-not-installed-it-is-installed-and-then-imported" title="Link to this heading">#</a></h4>
</section>
<section id="the-standard-python-installation-includes-the-first-five-imports-os-sys-requests-types-and-datetime-os-and-sys-facilitate-interaction-with-the-operating-system-the-requests-module-enables-sending-and-retrieving-data-from-external-url-addresses-in-this-notebook-it-s-specifically-used-to-access-files-from-dropbox-the-types-module-creates-the-module-from-the-python-code-accessed-from-dropbox-finally-datetime-allows-for-the-creation-and-manipulation-of-date-objects">
<h4>The standard Python installation includes the first five imports: (<font color='green'>os, sys</font>, <font color='green'>requests</font>, <font color='green'>types</font>, and <font color='green'>datetime</font>).  <font color='green'>os</font> and <font color='green'>sys</font>  facilitate interaction with the operating system.  The <font color='green'>requests</font> module enables sending and retrieving data from external URL addresses; in this notebook, it’s specifically used to access files from DropBox. The <font color='green'>types</font> module creates the module from the Python code accessed from DropBox.  Finally <font color='green'>datetime</font> allows for the creation and manipulation of date objects.<a class="headerlink" href="#the-standard-python-installation-includes-the-first-five-imports-os-sys-requests-types-and-datetime-os-and-sys-facilitate-interaction-with-the-operating-system-the-requests-module-enables-sending-and-retrieving-data-from-external-url-addresses-in-this-notebook-it-s-specifically-used-to-access-files-from-dropbox-the-types-module-creates-the-module-from-the-python-code-accessed-from-dropbox-finally-datetime-allows-for-the-creation-and-manipulation-of-date-objects" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">types</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModuleType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span>
</pre></div>
</div>
</section>
<section id="numpy-and-pandas-though-not-standard-python-libraries-are-pre-installed-in-colab-and-often-in-jupyter-notebooks-to-ensure-availability-a-try-and-except-block-is-used-for-importing-them-if-the-import-fails-the-libraries-are-then-installed-using-pip-the-exclamation-mark-indicates-that-pip-is-running-on-the-machine-s-console-rather-than-within-the-notebook-upon-successful-import-numpy-and-pandas-are-aliased-as-np-and-pd-2">
<h4>NumPy and Pandas, though not standard Python libraries, are pre-installed in Colab and often in Jupyter notebooks. To ensure availability, a <font color='green'>try </font> and <font color='green'>except </font> block is used for importing them. If the import fails, the libraries are then installed using <font color='green'>pip </font>. The exclamation mark indicates that <font color='green'>pip </font> is running on the machine’s console rather than within the notebook. Upon successful import, NumPy and Pandas are aliased as <font color='green'>np</font> and <font color='green'>pd </font>.<span class="math notranslate nohighlight">\(^{2}\)</span><a class="headerlink" href="#numpy-and-pandas-though-not-standard-python-libraries-are-pre-installed-in-colab-and-often-in-jupyter-notebooks-to-ensure-availability-a-try-and-except-block-is-used-for-importing-them-if-the-import-fails-the-libraries-are-then-installed-using-pip-the-exclamation-mark-indicates-that-pip-is-running-on-the-machine-s-console-rather-than-within-the-notebook-upon-successful-import-numpy-and-pandas-are-aliased-as-np-and-pd-2" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>try:
    import numpy as np
except:
    !pip install numpy
    import numpy as np
try:
    import pandas as pd
except:
    !pip install pandas
    import pandas as pd
</pre></div>
</div>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{2}\)</span><a href='https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/Control_Statements.html#the-try-and-except'>try and except statements</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">types</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModuleType</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="k">except</span><span class="p">:</span>
    <span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>numpy
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="k">except</span><span class="p">:</span>
    <span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pandas
    <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="adding-a-custom-module-and-importing-functions">
<h3><em><strong>Adding a Custom Module and Importing Functions</strong></em><a class="headerlink" href="#adding-a-custom-module-and-importing-functions" title="Link to this heading">#</a></h3>
<section id="now-that-we-ve-imported-our-main-modules-and-libraries-we-ll-access-a-custom-module-for-our-more-specific-functions-in-the-below-code-the-custom-module-module-basic-concepts-fixed-income-contains-functions-utilized-by-this-notebook-and-others-in-the-volume-basic-concepts-of-fixed-income-this-module-is-accessed-from-dropbox-using-requests-get">
<h4>Now that we’ve imported our main modules and libraries, we’ll access a custom module for our more specific functions. In the below code, the custom module <font color='green'>module_basic_concepts_fixed_income</font> contains functions utilized by this notebook and others in the volume <em>Basic Concepts of Fixed Income</em>. This module is accessed from Dropbox using <font color='green'>requests.get()</font>.<a class="headerlink" href="#now-that-we-ve-imported-our-main-modules-and-libraries-we-ll-access-a-custom-module-for-our-more-specific-functions-in-the-below-code-the-custom-module-module-basic-concepts-fixed-income-contains-functions-utilized-by-this-notebook-and-others-in-the-volume-basic-concepts-of-fixed-income-this-module-is-accessed-from-dropbox-using-requests-get" title="Link to this heading">#</a></h4>
</section>
<section id="you-have-the-flexibility-to-choose-the-module-name-in-this-instance-module-basic-concepts-fixed-income-is-assigned-to-module-name-dropbox-provides-the-url-for-access-the-module-is-instantiated-with-moduletype-which-we-imported-earlier-using-the-chosen-module-name-once-created-the-module-becomes-accessible-in-the-notebook-s-memory-though-it-is-not-added-to-a-drive">
<h4>You have the flexibility to choose the module name; in this instance, <font color='green'>module_basic_concepts_fixed_income</font> is assigned to <font color='green'>module_name</font>. Dropbox provides the URL for access. The module is instantiated with <font color='green'>ModuleType</font> (which we imported earlier) using the chosen <font color='green'>module_name</font>. Once created, the module becomes accessible in the Notebook’s memory, though it is not added to a drive.<a class="headerlink" href="#you-have-the-flexibility-to-choose-the-module-name-in-this-instance-module-basic-concepts-fixed-income-is-assigned-to-module-name-dropbox-provides-the-url-for-access-the-module-is-instantiated-with-moduletype-which-we-imported-earlier-using-the-chosen-module-name-once-created-the-module-becomes-accessible-in-the-notebook-s-memory-though-it-is-not-added-to-a-drive" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">=</span> <span class="s1">&#39;https://www.dropbox.com/scl/fi/4y5hjxlfphh1ngvbgo77q/</span><span class="se">\</span>
<span class="s1">module_-basic_concepts_fixed_income.py?rlkey=6oxi7mgka42veaat79hcv8boz&amp;st=stuou11h&amp;dl=1&#39;</span>
<span class="n">module_name</span><span class="o">=</span><span class="s1">&#39;module_basic_concepts_fixed_income&#39;</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">response</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
  <span class="n">module</span><span class="o">=</span><span class="n">ModuleType</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>

</pre></div>
</div>
</section>
<section id="the-exec-function-below-executes-the-python-code-returned-by-requests-get-it-assigns-functions-and-variables-to-sys-module-module-name-this-makes-the-module-available-for-use-in-the-notebook">
<h4>The <font color='green'>exec()</font> function below executes the Python code returned by <font color='green'>requests.get()</font>. It assigns functions and variables to <font color='green'>sys.module[module_name]</font>. This makes the module available for use in the Notebook.<a class="headerlink" href="#the-exec-function-below-executes-the-python-code-returned-by-requests-get-it-assigns-functions-and-variables-to-sys-module-module-name-this-makes-the-module-available-for-use-in-the-notebook" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exec</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="n">module</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">module</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span><span class="o">=</span><span class="n">module</span>
</pre></div>
</div>
</section>
<section id="we-ll-then-import-two-functions-from-the-module-parent-folder-subfolder-and-one-y-axis-the-former-determines-locations-for-saving-and-accessing-files-and-can-be-viewed-on-the-page-parent-folder-subfolder-is-a-helper-function-for-saving-files-created-by-financial-python-the-latter-plots-calculation-results-and-can-be-vuewed-on-the-page-one-y-axis-is-a-helper-function-for-plotting-graphs-created-by-financial-python">
<h4>We’ll then import two functions from the module: <font color='green'>parent_folder_subfolder</font> and <font color='green'>one_y_axis</font>. The former determines locations for saving and accessing files and can be viewed on the page <em>parent_folder_subfolder is a helper function for saving files created by Financial Python</em>. The latter plots calculation results and can be vuewed on the page <em>one-y-axis is a helper function for plotting graphs created by Financial Python</em><a class="headerlink" href="#we-ll-then-import-two-functions-from-the-module-parent-folder-subfolder-and-one-y-axis-the-former-determines-locations-for-saving-and-accessing-files-and-can-be-viewed-on-the-page-parent-folder-subfolder-is-a-helper-function-for-saving-files-created-by-financial-python-the-latter-plots-calculation-results-and-can-be-vuewed-on-the-page-one-y-axis-is-a-helper-function-for-plotting-graphs-created-by-financial-python" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">basic_concepts_fixed_income</span><span class="w"> </span><span class="kn">import</span><span class="p">(</span><span class="n">parent_folder_subfolder</span><span class="p">,</span>
                                       <span class="n">one_y_axis</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="our-now-complete-code-is-shown-in-the-cell-below">
<h4>Our now-complete code is shown in the cell below.<a class="headerlink" href="#our-now-complete-code-is-shown-in-the-cell-below" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the URL of the Python module to be downloaded from Dropbox.</span>
<span class="c1"># The &#39;dl=1&#39; parameter in the URL forces a direct download of the file content.</span>
<span class="n">url</span><span class="o">=</span> <span class="s1">&#39;https://www.dropbox.com/scl/fi/4y5hjxlfphh1ngvbgo77q/</span><span class="se">\</span>
<span class="s1">module_-basic_concepts_fixed_income.py?rlkey=6oxi7mgka42veaat79hcv8boz&amp;st=stuou11h&amp;dl=1&#39;</span>
<span class="n">module_name</span><span class="o">=</span><span class="s1">&#39;basic_concepts_fixed_income&#39;</span>
<span class="c1"># Send an HTTP GET request to the URL and store the server&#39;s response.</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">response</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
  <span class="c1"># Raise an exception for bad status codes (like 404 Not Found)</span>
  <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
  <span class="n">module</span><span class="o">=</span> <span class="n">ModuleType</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
  <span class="c1">#Code contained in response.text executed</span>
  <span class="n">exec</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">module</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
  <span class="c1"># Module added to sys</span>
  <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span><span class="o">=</span><span class="n">module</span>
<span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error: Could not fetch module from URL. </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error: Failed to execute or import the module. </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Open the local file in &quot;write binary&quot; (&#39;wb&#39;) mode and save the downloaded content.</span>
<span class="c1"># Using a &#39;with&#39; statement ensures the file is properly closed after writing.</span>

<span class="c1"># Now that &#39;basic_concepts_fixed_income&#39; exists in the notebook, import the specific functions</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">basic_concepts_fixed_income</span><span class="w"> </span><span class="kn">import</span><span class="p">(</span><span class="n">parent_folder_subfolder</span><span class="p">,</span>
                                        <span class="n">background_material</span><span class="p">,</span>
                                        <span class="n">one_y_axis</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="numpy-arrays">
<h3><em><strong>NumPy Arrays</strong></em><a class="headerlink" href="#numpy-arrays" title="Link to this heading">#</a></h3>
<section id="the-numpy-library-offers-efficient-numerical-procedures-that-simplify-complex-calculations-3-the-fundamental-object-in-this-library-is-the-numpy-array-an-array-is-simply-a-data-structure-in-which-elements-are-arranged-and-accessed-it-can-be-formed-from-a-single-value-or-from-an-iterable-data-type-like-a-list-which-holds-a-series-of-values-4-numpy-must-be-imported-before-use-recall-that-in-this-notebook-it-was-imported-and-aliased-as-np-in-the-first-code-cell-the-array-method-is-used-to-convert-variables-into-numpy-arrays-5-the-following-code-creates-an-array-from-the-list-3-5-7-lists-are-stylized-with-square-brackets-and-assigns-that-array-to-interest-rates-this-is-then-passed-to-display-which-simply-displays-the-contents-of-interest-rates">
<h4>The NumPy library offers efficient numerical procedures that simplify complex calculations.<span class="math notranslate nohighlight">\(^{3}\)</span> The fundamental object in this library is the NumPy array. An array is simply a data structure in which elements are arranged and accessed. It can be formed from a single value or from an iterable data type like a list, which holds a series of values.<span class="math notranslate nohighlight">\(^{4}\)</span> NumPy must be imported before use; recall that in this Notebook, it was imported and aliased as <font color='green'>np</font> in the first code cell. The <font color='green'>array()</font> method is used to convert variables into NumPy arrays.<span class="math notranslate nohighlight">\(^{5}\)</span> The following code creates an array from the list <font color='green'>[3%, 5%, 7%]</font> (lists are stylized with square brackets) and assigns that array to <font color='green'>interest_rates</font>. This is then passed to <font color='green'>display()</font>, which simply displays the contents of <font color='green'>interest_rates</font>.<a class="headerlink" href="#the-numpy-library-offers-efficient-numerical-procedures-that-simplify-complex-calculations-3-the-fundamental-object-in-this-library-is-the-numpy-array-an-array-is-simply-a-data-structure-in-which-elements-are-arranged-and-accessed-it-can-be-formed-from-a-single-value-or-from-an-iterable-data-type-like-a-list-which-holds-a-series-of-values-4-numpy-must-be-imported-before-use-recall-that-in-this-notebook-it-was-imported-and-aliased-as-np-in-the-first-code-cell-the-array-method-is-used-to-convert-variables-into-numpy-arrays-5-the-following-code-creates-an-array-from-the-list-3-5-7-lists-are-stylized-with-square-brackets-and-assigns-that-array-to-interest-rates-this-is-then-passed-to-display-which-simply-displays-the-contents-of-interest-rates" title="Link to this heading">#</a></h4>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{3}\)</span><a href='https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_NumPy.html#numpy'>A Quick Introduction To NumPy </a></p>
<p><span class="math notranslate nohighlight">\(^{4}\)</span><a href='https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/A_First_Look_At_Lists.html#a-first-look-at-lists'>A First Look At Lists </a></p>
<p><span class="math notranslate nohighlight">\(^{5}\)</span> Like other libraries the alias <font color='green'>np</font> need to proceed the method:  <font color='green'>np.arraay</font> instead of  <font color='green'>array</font>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interest_rates</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.03</span><span class="p">,</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.07</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">interest_rates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.03, 0.05, 0.07])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="numpy-calculations">
<h3><em><strong>NumPy Calculations</strong></em><a class="headerlink" href="#numpy-calculations" title="Link to this heading">#</a></h3>
<section id="now-that-we-ve-created-an-array-and-assigned-it-to-interest-rates-we-can-perform-calculations-on-that-array-numpy-calculates-array-elements-individually-for-instance-the-exp-method-used-below-raises-each-element-of-interest-rates-to-euler-s-number-e-this-approach-is-faster-and-more-convenient-than-iterating-through-the-rates">
<h4>Now that we’ve created an array and assigned it to <font color='green'>interest_rates</font>, we can perform calculations on that array. NumPy calculates array elements individually. For instance, the <font color='green'>exp()</font> method used below raises each element of <font color='green'>interest_rates</font> to Euler’s number, <span class="math notranslate nohighlight">\(e\)</span>. This approach is faster and more convenient than iterating through the rates.<a class="headerlink" href="#now-that-we-ve-created-an-array-and-assigned-it-to-interest-rates-we-can-perform-calculations-on-that-array-numpy-calculates-array-elements-individually-for-instance-the-exp-method-used-below-raises-each-element-of-interest-rates-to-euler-s-number-e-this-approach-is-faster-and-more-convenient-than-iterating-through-the-rates" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">interest_rates</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1.03045453, 1.0512711 , 1.07250818])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="application-create-a-numpy-array">
<h3><font color='blue'><em><strong>Application: Create a NumPy Array</strong></em></font><a class="headerlink" href="#application-create-a-numpy-array" title="Link to this heading">#</a></h3>
</section>
<section id="create-a-numpy-array-of-the-present-value-factors-for-the-rates-of-interest-rates">
<h3><font color='blue'><em><strong>Create a NumPy array of the present value factors for the rates of</strong></em> <font color='green'><em><strong>interest_rates</strong></em></font></font><a class="headerlink" href="#create-a-numpy-array-of-the-present-value-factors-for-the-rates-of-interest-rates" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Hints.html#create-a-numpy-array"><em><strong>Chapter One Hints: Create A NumPy Array</strong></em></a>.</p>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Results.html#create-a-numpy-array"><em><strong>Expected Results</strong></em></a></p>
</section>
<section id="two-dimensional-numpy-arrays">
<h3><em><strong>Two-Dimensional Numpy Arrays</strong></em><a class="headerlink" href="#two-dimensional-numpy-arrays" title="Link to this heading">#</a></h3>
<section id="the-pv-rates-array-a-two-dimensional-numpy-array-or-matrix-is-created-by-combining-two-one-dimensional-arrays-interest-rates-and-pv-factors-within-the-array-method-to-access-the-rows-of-this-two-dimensional-array-use-the-corresponding-row-index-value-both-the-interest-rates-and-present-value-factors-rows-are-displayed-using-f-strings-that-begins-with-an-f-and-enclose-the-string-and-variable-in-quotes-the-variable-must-also-be-encapsulated-in-curly-brackets">
<h4>The <font color='green'>pv_rates</font> array, a two-dimensional NumPy array (or matrix), is created by combining two one-dimensional arrays: <font color='green'>interest_rates</font> and <font color='green'>pv_factors</font> within the <font color='green'>array()</font> method. To access the rows of this two-dimensional array, use the corresponding row index value. Both the interest rates and present value factors rows are displayed using f-strings that begins with an ‘f’ and enclose the string and variable in quotes.  The variable must also be encapsulated in curly brackets.<a class="headerlink" href="#the-pv-rates-array-a-two-dimensional-numpy-array-or-matrix-is-created-by-combining-two-one-dimensional-arrays-interest-rates-and-pv-factors-within-the-array-method-to-access-the-rows-of-this-two-dimensional-array-use-the-corresponding-row-index-value-both-the-interest-rates-and-present-value-factors-rows-are-displayed-using-f-strings-that-begins-with-an-f-and-enclose-the-string-and-variable-in-quotes-the-variable-must-also-be-encapsulated-in-curly-brackets" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#A calculation is make for each element of a numpy array</span>
<span class="n">pv_factors</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">interest_rates</span><span class="p">)</span>
<span class="n">pv_rates</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">interest_rates</span><span class="p">,</span><span class="n">pv_factors</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">pv_rates</span><span class="p">)</span>
<span class="c1">#Create an f string for each row.</span>
<span class="c1">#Each row must also be encapsulated in curly brackets</span>
<span class="n">display</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Interest Rates </span><span class="si">{</span><span class="n">pv_rates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Present Value Factors </span><span class="si">{</span><span class="n">pv_rates</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.03      , 0.05      , 0.07      ],
       [0.97044553, 0.95122942, 0.93239382]])
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Interest Rates [0.03 0.05 0.07]&#39;
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Present Value Factors [0.97044553 0.95122942 0.93239382]&#39;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="application-manipulate-a-two-dimensional-array">
<h3><font color='blue'><em><strong>Application: Manipulate a Two-Dimensional Array</strong></em></font><a class="headerlink" href="#application-manipulate-a-two-dimensional-array" title="Link to this heading">#</a></h3>
</section>
<section id="create-a-two-dimensional-array-by-raising-the-interest-rate-row-to-euler-s-number-and-multiplying-the-results-by-the-present-value-factors">
<h3><font color='blue'><em><strong>Create a two-dimensional array by raising the interest-rate row to Euler’s number and multiplying the results by the present value factors.</strong></em></font><a class="headerlink" href="#create-a-two-dimensional-array-by-raising-the-interest-rate-row-to-euler-s-number-and-multiplying-the-results-by-the-present-value-factors" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Hints.html#manipulate-two-dimensional-array"><em><strong>Chapter One Hints: Manipulate A Two-Dimensional Array</strong></em></a></p>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Results.html#manipulate-two-dimensional-array"><em><strong>Expected Results</strong></em></a></p>
</section>
</section>
<section id="creating-a-pandas-dataframe-from-numpy-arrays">
<h2><em><strong>Creating A Pandas DataFrame From NumPy Arrays</strong></em><a class="headerlink" href="#creating-a-pandas-dataframe-from-numpy-arrays" title="Link to this heading">#</a></h2>
<section id="the-simple-example">
<h3><em><strong>The Simple Example</strong></em><a class="headerlink" href="#the-simple-example" title="Link to this heading">#</a></h3>
<section id="a-pandas-dataframe-organizes-data-into-rows-and-columns-much-like-a-spreadsheet-or-a-numpy-array-it-can-be-created-from-a-two-dimensional-array-such-as-pv-rates-the-simplest-dataframes-automatically-assign-row-and-column-index-values-a-more-functional-approach-allows-for-explicit-naming-of-both-in-this-simple-example-the-dataframe-method-of-pandas-uses-three-arrays-as-arguments-generating-a-row-for-each-array">
<h4>A Pandas DataFrame organizes data into rows and columns, much like a spreadsheet or a NumPy array. It can be created from a two-dimensional array, such as <font color='green'>pv-rates</font>. The simplest DataFrames automatically assign row and column index values, a more functional approach allows for explicit naming of both. In this simple example, the <font color='green'>DataFrame()</font> method of Pandas uses three arrays as arguments, generating a row for each array.<a class="headerlink" href="#a-pandas-dataframe-organizes-data-into-rows-and-columns-much-like-a-spreadsheet-or-a-numpy-array-it-can-be-created-from-a-two-dimensional-array-such-as-pv-rates-the-simplest-dataframes-automatically-assign-row-and-column-index-values-a-more-functional-approach-allows-for-explicit-naming-of-both-in-this-simple-example-the-dataframe-method-of-pandas-uses-three-arrays-as-arguments-generating-a-row-for-each-array" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dataframe created with DataFrame() method</span>
<span class="n">simple_example</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">((</span><span class="n">interest_rates</span><span class="p">,</span>
              <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">interest_rates</span><span class="p">),</span>
              <span class="mi">1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">interest_rates</span><span class="p">)))</span>
<span class="n">display</span><span class="p">(</span><span class="n">simple_example</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.030000</td>
      <td>0.050000</td>
      <td>0.070000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.030455</td>
      <td>1.051271</td>
      <td>1.072508</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.970446</td>
      <td>0.951229</td>
      <td>0.932394</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="application-create-a-dataframe-from-a-two-dimensional-array">
<h3><font color='blue'><em><strong>Application: Create a DataFrame from a Two-Dimensional Array</strong></em></font><a class="headerlink" href="#application-create-a-dataframe-from-a-two-dimensional-array" title="Link to this heading">#</a></h3>
</section>
<section id="create-a-dataframe-with-the-two-dimensional-array-pv-rates">
<h3><font color='blue'><em><strong>Create a DataFrame with the two-dimensional array</strong></em></font> <font color='green'><em><strong>pv_rates</strong></em></font>.</font><a class="headerlink" href="#create-a-dataframe-with-the-two-dimensional-array-pv-rates" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Hints.html#create-a-dataframe-from-a-two-dimensional-array"><em><strong>Chapter One Hints: Create A DataFrame From A Two-Dimensional Array</strong></em></a>.</p>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Results.html#create-a-dataframe-from-a-two-dimensional-array"><em><strong>Expected Results</strong></em></a></p>
</section>
<section id="making-rows-into-columns-and-labeling-the-columns">
<h3><em><strong>Making Rows into Columns and Labeling the Columns</strong></em><a class="headerlink" href="#making-rows-into-columns-and-labeling-the-columns" title="Link to this heading">#</a></h3>
<section id="in-the-below-code-rows-are-converted-to-columns-by-using-the-transpose-method-on-our-earlier-dataframe-simple-example-this-method-changes-the-rows-into-columns-6-the-transposed-result-is-then-assigned-to-rows-to-columns-and-the-columns-are-then-assigned-the-elements-of-a-list-rates-future-value-present-value-transposing-the-dataframe-makes-rates-future-value-and-present-value-the-variables-and-the-rows-the-observations-of-the-variables">
<h4>In the below code, rows are converted to columns by using the <font color='green'>transpose()</font> method on our earlier DataFrame, <font color='green'>simple_example</font>. This method changes the rows into columns.<span class="math notranslate nohighlight">\(^{6}\)</span> The transposed result is then assigned to <font color='green'>rows_to_columns</font>, and the columns are then assigned the elements of a list (<font color='green'>[‘Rates’, ‘Future Value’, ‘Present Value’]</font>).  Transposing the DataFrame makes <font color='green'>’Rates’</font>, <font color='green'>’Future Value’</font>, and <font color='green'>’Present Value’</font> the variables and the rows the observations of the variables.<a class="headerlink" href="#in-the-below-code-rows-are-converted-to-columns-by-using-the-transpose-method-on-our-earlier-dataframe-simple-example-this-method-changes-the-rows-into-columns-6-the-transposed-result-is-then-assigned-to-rows-to-columns-and-the-columns-are-then-assigned-the-elements-of-a-list-rates-future-value-present-value-transposing-the-dataframe-makes-rates-future-value-and-present-value-the-variables-and-the-rows-the-observations-of-the-variables" title="Link to this heading">#</a></h4>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{6}\)</span> The method can be applied as <font color='green'>T</font>.  <a href='https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_Pandas.html#the-transpose'>Quick Introduction To Pandas</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#transpose the simple_example dataframe and call it rows_to_columns</span>
<span class="n">rows_to_columns</span><span class="o">=</span><span class="n">simple_example</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="c1">#(the transpose method can also be written as simple_example.T)</span>
<span class="n">rows_to_columns</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Rates&#39;</span><span class="p">,</span><span class="s1">&#39;Future Value&#39;</span><span class="p">,</span><span class="s1">&#39;Present Value&#39;</span><span class="p">]</span>
<span class="n">display</span><span class="p">(</span><span class="n">rows_to_columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rates</th>
      <th>Future Value</th>
      <th>Present Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.03</td>
      <td>1.030455</td>
      <td>0.970446</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.05</td>
      <td>1.051271</td>
      <td>0.951229</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.07</td>
      <td>1.072508</td>
      <td>0.932394</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="the-set-index-method">
<h3><em><strong>The set_index() Method</strong></em><a class="headerlink" href="#the-set-index-method" title="Link to this heading">#</a></h3>
<section id="once-the-dataframe-has-been-transposed-the-next-step-is-to-make-the-rates-column-the-index-you-might-wonder-why-it-makes-sense-the-reason-is-that-the-values-of-rates-determine-the-values-of-the-columns-future-value-and-present-value-this-change-isn-t-necessary-but-it-draws-our-eye-to-a-natural-connection-instead-of-an-index-that-only-points-to-a-row-number-the-new-index-points-to-the-rate-that-causes-the-future-and-present-values">
<h4>Once the DataFrame has been transposed, the next step is to make the <font color='green'>Rates</font> column the index.  You might wonder why it makes sense?  The reason is that the values of <font color='green'>Rates</font> determine the values of the columns <font color='green'>Future Value</font> and <font color='green'>Present Value</font>.  This change isn’t necessary, but it draws our eye to a natural connection.  Instead of an index that only points to a row number, the new index points to the rate that causes the future and present values.<a class="headerlink" href="#once-the-dataframe-has-been-transposed-the-next-step-is-to-make-the-rates-column-the-index-you-might-wonder-why-it-makes-sense-the-reason-is-that-the-values-of-rates-determine-the-values-of-the-columns-future-value-and-present-value-this-change-isn-t-necessary-but-it-draws-our-eye-to-a-natural-connection-instead-of-an-index-that-only-points-to-a-row-number-the-new-index-points-to-the-rate-that-causes-the-future-and-present-values" title="Link to this heading">#</a></h4>
</section>
<section id="the-method-set-index-takes-a-column-name-and-removes-the-column-from-the-dataframe-pandas-has-a-builtin-fail-safe-switch-by-default-this-change-and-others-we-will-encounter-later-does-not-permanently-alter-the-dataframe-you-might-find-this-a-bit-strange-but-the-efficacy-avoids-mistakes-that-are-difficult-to-fix-to-make-the-change-permanent-you-assign-inplace-switch-true-7">
<h4>The method <font color='green'>set_index()</font> takes a column name and removes the column from the DataFrame. Pandas has a builtin <strong>fail-safe-switch</strong>. By default, this change (and others we will encounter later) does not permanently alter the DataFrame.  You might find this a bit strange, but the efficacy avoids mistakes that are difficult to fix. To make the change permanent you assign <font color='green'>inplace</font> switch True.<span class="math notranslate nohighlight">\(^{7}\)</span><a class="headerlink" href="#the-method-set-index-takes-a-column-name-and-removes-the-column-from-the-dataframe-pandas-has-a-builtin-fail-safe-switch-by-default-this-change-and-others-we-will-encounter-later-does-not-permanently-alter-the-dataframe-you-might-find-this-a-bit-strange-but-the-efficacy-avoids-mistakes-that-are-difficult-to-fix-to-make-the-change-permanent-you-assign-inplace-switch-true-7" title="Link to this heading">#</a></h4>
<ul>
<li><h4 class="rubric" id="assign-the-transposed-value-of-the-dataframe-to-another-dataframe">Assign the transposed value of the DataFrame to another DataFrame:</h4>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_index_set_index</span><span class="o">=</span><span class="n">rows_to_columns</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Rates&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">name_index_set</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">rows_to_columns</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Change the default value of the <font color='green'>inplace</font>  argument  of <font color='green'>set_index</font>  to True</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rows_to_columns</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Rates&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">rows_to_columns</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{7}\)</span> <a href='https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_Pandas.html#making-a-column-the-index'>A Quick Introduction To Pandas</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">name_index_set_index</span><span class="o">=</span><span class="n">rows_to_columns</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Rates&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">name_index_set_index</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">rows_to_columns</span><span class="p">)</span>
<span class="n">rows_to_columns</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Rates&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">rows_to_columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Future Value</th>
      <th>Present Value</th>
    </tr>
    <tr>
      <th>Rates</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.03</th>
      <td>1.030455</td>
      <td>0.970446</td>
    </tr>
    <tr>
      <th>0.05</th>
      <td>1.051271</td>
      <td>0.951229</td>
    </tr>
    <tr>
      <th>0.07</th>
      <td>1.072508</td>
      <td>0.932394</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rates</th>
      <th>Future Value</th>
      <th>Present Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.03</td>
      <td>1.030455</td>
      <td>0.970446</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.05</td>
      <td>1.051271</td>
      <td>0.951229</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.07</td>
      <td>1.072508</td>
      <td>0.932394</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Future Value</th>
      <th>Present Value</th>
    </tr>
    <tr>
      <th>Rates</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.03</th>
      <td>1.030455</td>
      <td>0.970446</td>
    </tr>
    <tr>
      <th>0.05</th>
      <td>1.051271</td>
      <td>0.951229</td>
    </tr>
    <tr>
      <th>0.07</th>
      <td>1.072508</td>
      <td>0.932394</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="the-term-structure-of-interest-rates-putting-numpy-and-pandas-to-work">
<h3><em><strong>The Term Structure Of Interest Rates: Putting NumPy And Pandas To Work</strong></em><a class="headerlink" href="#the-term-structure-of-interest-rates-putting-numpy-and-pandas-to-work" title="Link to this heading">#</a></h3>
<section id="the-term-structure-of-interest-describes-how-interest-rates-vary-over-time-it-is-a-critical-financial-metric-reflected-in-the-pricing-or-valuation-of-almost-all-assets">
<h4>The term structure of interest describes how interest rates vary over time. It is a critical financial metric reflected in the pricing or valuation of almost all assets.<a class="headerlink" href="#the-term-structure-of-interest-describes-how-interest-rates-vary-over-time-it-is-a-critical-financial-metric-reflected-in-the-pricing-or-valuation-of-almost-all-assets" title="Link to this heading">#</a></h4>
</section>
<section id="numpy-and-pandas-are-powerful-tools-that-greatly-simplify-the-manipulation-and-calculation-of-extensive-and-complex-financial-data-we-will-explore-their-application-in-calculating-the-term-structure-of-interest-rates-on-various-dates-a-process-that-requires-accessing-large-datasets-and-performing-numerous-calculations-these-libraries-are-essential-for-this-task">
<h4>NumPy and Pandas are powerful tools that greatly simplify the manipulation and calculation of extensive and complex financial data. We will explore their application in calculating the term structure of interest rates on various dates, a process that requires accessing large datasets and performing numerous calculations. These libraries are essential for this task.<a class="headerlink" href="#numpy-and-pandas-are-powerful-tools-that-greatly-simplify-the-manipulation-and-calculation-of-extensive-and-complex-financial-data-we-will-explore-their-application-in-calculating-the-term-structure-of-interest-rates-on-various-dates-a-process-that-requires-accessing-large-datasets-and-performing-numerous-calculations-these-libraries-are-essential-for-this-task" title="Link to this heading">#</a></h4>
</section>
</section>
</section>
<section id="the-term-structure-of-interest-rates">
<h2><em><strong>The Term Structure of Interest Rates</strong></em><a class="headerlink" href="#the-term-structure-of-interest-rates" title="Link to this heading">#</a></h2>
<section id="the-earlier-discussion-of-bond-pricing-described-the-price-of-a-zero-coupon-bond-as-its-maturity-value-times-the-present-value-factor-a-numpy-array-and-a-pandas-dataframe-included-interest-rates-future-values-and-present-value-factors-the-same-concepts-are-used-to-calculate-the-term-structure-of-interest-rates-term-structure">
<h3>The earlier discussion of bond pricing described the price of a zero-coupon bond as its maturity value times the present value factor. A NumPy array and a Pandas DataFrame included interest rates, future values, and present value factors.  The same concepts are used to calculate the Term Structure Of Interest Rates (Term Structure).<a class="headerlink" href="#the-earlier-discussion-of-bond-pricing-described-the-price-of-a-zero-coupon-bond-as-its-maturity-value-times-the-present-value-factor-a-numpy-array-and-a-pandas-dataframe-included-interest-rates-future-values-and-present-value-factors-the-same-concepts-are-used-to-calculate-the-term-structure-of-interest-rates-term-structure" title="Link to this heading">#</a></h3>
</section>
<section id="spot-rates-of-interest">
<h3><em><strong>Spot Rates Of Interest</strong></em><a class="headerlink" href="#spot-rates-of-interest" title="Link to this heading">#</a></h3>
<section id="the-term-structure-is-the-relation-between-the-annualized-interest-rates-of-zero-coupon-bonds-or-the-spot-rate-of-interest-and-the-bonds-maturities-the-price-of-a-zero-coupon-bond-with-a-maturity-of-t-and-a-principal-of-1-is">
<h4>The Term Structure is the relation between the annualized interest rates of zero-coupon bonds, or the spot rate of interest, and the bonds’ maturities. The price of a zero-coupon bond with a maturity of <span class="math notranslate nohighlight">\(t\)</span> and a principal of $1 is:<a class="headerlink" href="#the-term-structure-is-the-relation-between-the-annualized-interest-rates-of-zero-coupon-bonds-or-the-spot-rate-of-interest-and-the-bonds-maturities-the-price-of-a-zero-coupon-bond-with-a-maturity-of-t-and-a-principal-of-1-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large P(t) = e^{ -r_t\times t}\]</div>
</section>
<section id="the-annualized-continuously-compounded-interest-rate-of-the-t-period-zero-coupon-bond-is">
<h4>The annualized continuously-compounded interest rate of the <span class="math notranslate nohighlight">\(t\)</span>-period zero-coupon bond is:<a class="headerlink" href="#the-annualized-continuously-compounded-interest-rate-of-the-t-period-zero-coupon-bond-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large r_t = \frac{-ln(P(t))}{t}\]</div>
</section>
<section id="r-t-is-known-as-the-spot-rate-of-interest-for-t-periods">
<h4><span class="math notranslate nohighlight">\(r_t\)</span> is known as the spot rate of interest for <span class="math notranslate nohighlight">\(t\)</span> periods.<a class="headerlink" href="#r-t-is-known-as-the-spot-rate-of-interest-for-t-periods" title="Link to this heading">#</a></h4>
</section>
<section id="if-a-zero-coupon-bond-pays-1-in-six-months-and-has-a-price-of-0-9753-the-continuously-compounded-annual-rate-of-interest-is">
<h4>If a zero-coupon bond pays <span class="math notranslate nohighlight">\(\$1\)</span> in six months and has a price of $0.9753, the continuously-compounded annual rate of interest is:<a class="headerlink" href="#if-a-zero-coupon-bond-pays-1-in-six-months-and-has-a-price-of-0-9753-the-continuously-compounded-annual-rate-of-interest-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[5\% = \frac{-ln(0.9753)}{0.5}\]</div>
</section>
</section>
<section id="forward-rates-of-interest">
<h3><em><strong>Forward Rates Of Interest</strong></em><a class="headerlink" href="#forward-rates-of-interest" title="Link to this heading">#</a></h3>
<section id="the-forward-rate-of-interest-represents-the-additional-return-gained-by-extending-an-investment-s-durationor-the-extra-earnings-from-investing-for-two-months-instead-of-one-when-two-bonds-offer-an-identical-single-payment-at-maturity-the-forward-rate-between-the-shorter-and-longer-maturities-is-determined-by-the-ratio-of-their-respective-prices">
<h4>The forward rate of interest represents the additional return gained by extending an investment’s duration—or the extra earnings from investing for two months instead of one. When two bonds offer an identical single payment at maturity, the forward rate between the shorter and longer maturities is determined by the ratio of their respective prices.<a class="headerlink" href="#the-forward-rate-of-interest-represents-the-additional-return-gained-by-extending-an-investment-s-durationor-the-extra-earnings-from-investing-for-two-months-instead-of-one-when-two-bonds-offer-an-identical-single-payment-at-maturity-the-forward-rate-between-the-shorter-and-longer-maturities-is-determined-by-the-ratio-of-their-respective-prices" title="Link to this heading">#</a></h4>
</section>
<section id="for-zero-coupon-bonds-with-a-principal-of-1-the-calculation-of-one-plus-the-forward-rate-between-t-and-t-delta-t-is">
<h4>For zero-coupon bonds with a principal of <span class="math notranslate nohighlight">\(\$1\)</span>, the calculation of one plus the forward rate between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+\Delta t\)</span>  is:<a class="headerlink" href="#for-zero-coupon-bonds-with-a-principal-of-1-the-calculation-of-one-plus-the-forward-rate-between-t-and-t-delta-t-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\Large\frac{\frac{1}{P(t+\Delta t)}}{\frac{1}{P(t)}}= e^{f(t,t+\Delta t)\times\Delta t}\]</div>
<div class="math notranslate nohighlight">
\[\large\frac{P(t)}{P(t+\Delta t)}= e^{f(t,t+\Delta t)\times\Delta t}\]</div>
</section>
<section id="the-continuously-compounded-annualized-forward-rate-between-t-and-t-delta-t-is">
<h4>The continuously-compounded annualized forward rate between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+\Delta t\)</span> is:<a class="headerlink" href="#the-continuously-compounded-annualized-forward-rate-between-t-and-t-delta-t-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large f(t,t+\Delta t) = \frac{ln(P(t)) - ln(P(t+\Delta t))}{\Delta t}\]</div>
</section>
<section id="the-forward-rates-can-be-locked-in-by-purchasing-the-zero-coupon-bond-that-matures-in-large-t-delta-t-periods-and-for-t-periods-borrowing-p-t-delta-t-today-at-the-rate-p-t-1-at-t-the-borrowing-is-repaid-and-at-t-delta-t-the-zero-coupon-matures-and-pays-one-dollar-the-borrowing-repayment-and-locked-in-rate-of-return-calculations-are-shown-below">
<h4>The forward rates can be locked in by purchasing the zero-coupon bond that matures in <span class="math notranslate nohighlight">\(\large t+\Delta t\)</span> periods and for <span class="math notranslate nohighlight">\(t\)</span> periods, borrowing <span class="math notranslate nohighlight">\(P(t+\Delta t)\)</span> today at the rate <span class="math notranslate nohighlight">\(P(t)^{-1}.\)</span>  At <span class="math notranslate nohighlight">\(t\)</span>, the borrowing is repaid, and at <span class="math notranslate nohighlight">\(t +\Delta t\)</span>, the zero-coupon matures and pays one dollar. The borrowing, repayment, and locked-in rate-of-return calculations are shown below.<a class="headerlink" href="#the-forward-rates-can-be-locked-in-by-purchasing-the-zero-coupon-bond-that-matures-in-large-t-delta-t-periods-and-for-t-periods-borrowing-p-t-delta-t-today-at-the-rate-p-t-1-at-t-the-borrowing-is-repaid-and-at-t-delta-t-the-zero-coupon-matures-and-pays-one-dollar-the-borrowing-repayment-and-locked-in-rate-of-return-calculations-are-shown-below" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Amount\,Borrowed =P(t+\Delta t)\]</div>
<div class="math notranslate nohighlight">
\[\large Repayment = P(t+\Delta t)\times\frac{1}{P(t)}\]</div>
<div class="math notranslate nohighlight">
\[\large Locked\,In\,Rate\,of\,Return = \frac{1}{\frac{P(t+\Delta t)}{P(t)}}-1 =\frac{P(t)}{P(t+\Delta t)}-1\]</div>
</section>
<section id="the-continuously-compounded-annualized-locked-in-rate-of-return-equals">
<h4>The continuously-compounded annualized locked-in rate of return equals:<a class="headerlink" href="#the-continuously-compounded-annualized-locked-in-rate-of-return-equals" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large\frac{ln(P(t)) -ln(P(t+\Delta t))}{\Delta t}.\]</div>
</section>
<section id="this-value-is-the-same-as-the-continuously-compounded-forward-rate-of-interest-between-t-and-t-delta-t">
<h4>This value is the same as the continuously-compounded forward rate of interest between <span class="math notranslate nohighlight">\(t\)</span> and  <span class="math notranslate nohighlight">\(\ t+\Delta t\)</span>.<a class="headerlink" href="#this-value-is-the-same-as-the-continuously-compounded-forward-rate-of-interest-between-t-and-t-delta-t" title="Link to this heading">#</a></h4>
</section>
<section id="although-it-might-seem-obvious-that-the-locked-in-rate-of-return-and-the-forward-rate-are-equal-this-result-is-significant-imagine-an-investor-who-intends-to-invest-at-the-future-date-t-for-delta-t-periods-the-investor-can">
<h4>Although it might seem obvious that the locked-in rate of return and the forward rate are equal, this result is significant. Imagine an investor who intends to invest at the future date <span class="math notranslate nohighlight">\(t\)</span> for <span class="math notranslate nohighlight">\(\Delta t\)</span> periods. The investor can<a class="headerlink" href="#although-it-might-seem-obvious-that-the-locked-in-rate-of-return-and-the-forward-rate-are-equal-this-result-is-significant-imagine-an-investor-who-intends-to-invest-at-the-future-date-t-for-delta-t-periods-the-investor-can" title="Link to this heading">#</a></h4>
<ol class="arabic">
<li><h4 class="rubric" id="wait-until-t-to-invest-at-the-unknown-spot-rate-r-t-t-delta-t-or">wait until <span class="math notranslate nohighlight">\(t\)</span> to invest at the unknown spot rate <span class="math notranslate nohighlight">\(\ r(t,t+\Delta t)\)</span>, or</h4>
</li>
<li><h4 class="rubric" id="lock-in-a-rate-of-return-today-that-equals-the-current-forward-rate-f-t-t-delta-t">lock in a rate of return today that equals the current forward rate <span class="math notranslate nohighlight">\(\ f(t,t+\Delta t)\)</span>.</h4>
</li>
</ol>
</section>
<section id="in-a-state-of-equilibrium-the-prices-of-zero-coupon-bonds-ensure-that-investors-are-indifferent-to-either-securing-a-spot-rate-immediately-or-deferring-investment-until-a-future-unknown-spot-rate-the-choice-between-rolling-over-a-short-term-investment-and-making-a-long-term-one-essentially-hinges-on-expectations-regarding-future-interest-rates-similar-to-the-odds-in-a-sports-wager-the-forward-rate-represents-a-fair-bet-value-for-these-future-unknown-spot-rates-thereby-making-investors-indifferent-to-the-duration-of-their-investment-although-forward-rates-forecast-future-spot-rates-the-forecasts-may-not-be-the-expected-values-8">
<h4>In a state of equilibrium, the prices of zero-coupon bonds ensure that investors are indifferent to either securing a spot rate immediately or deferring investment until a future, unknown spot rate. The choice between rolling over a short-term investment and making a long-term one essentially hinges on expectations regarding future interest rates. Similar to the odds in a sports wager, the forward rate represents a fair-bet value for these future unknown spot rates, thereby making investors indifferent to the duration of their investment. Although forward rates forecast future spot rates, the forecasts may not be the expected values.<span class="math notranslate nohighlight">\(^{8}\)</span><a class="headerlink" href="#in-a-state-of-equilibrium-the-prices-of-zero-coupon-bonds-ensure-that-investors-are-indifferent-to-either-securing-a-spot-rate-immediately-or-deferring-investment-until-a-future-unknown-spot-rate-the-choice-between-rolling-over-a-short-term-investment-and-making-a-long-term-one-essentially-hinges-on-expectations-regarding-future-interest-rates-similar-to-the-odds-in-a-sports-wager-the-forward-rate-represents-a-fair-bet-value-for-these-future-unknown-spot-rates-thereby-making-investors-indifferent-to-the-duration-of-their-investment-although-forward-rates-forecast-future-spot-rates-the-forecasts-may-not-be-the-expected-values-8" title="Link to this heading">#</a></h4>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{8}\)</span> This statement presumes that future spot rates are uncertain. If future spot rates are known, forward rates will equal future spot rates.</p>
</section>
</section>
</section>
<section id="calculating-the-term-structure-of-interest-rates-with-treasury-bills">
<h2><em><strong>Calculating the Term Structure of Interest Rates with Treasury Bills</strong></em><a class="headerlink" href="#calculating-the-term-structure-of-interest-rates-with-treasury-bills" title="Link to this heading">#</a></h2>
<section id="treasury-bills-or-t-bills-mature-in-a-year-or-less-and-make-a-single-principal-payment-at-maturity-in-this-section-we-ll-apply-the-python-concepts-we-ve-learned-so-far-to-t-bill-data-using-the-bills-to-demonstrate-the-term-structure-between-one-month-and-one-year-because-the-bills-make-a-single-payment-their-prices-are-determined-by-the-single-spot-rate-of-interest-at-maturity">
<h3>Treasury bills, or T-bills, mature in a year or less and make a single principal payment at maturity. In this section, we’ll apply the Python concepts we’ve learned so far to T-bill data, using the bills to demonstrate the term structure between one month and one year. Because the bills make a single payment, their prices are determined by the single spot rate of interest at maturity.<a class="headerlink" href="#treasury-bills-or-t-bills-mature-in-a-year-or-less-and-make-a-single-principal-payment-at-maturity-in-this-section-we-ll-apply-the-python-concepts-we-ve-learned-so-far-to-t-bill-data-using-the-bills-to-demonstrate-the-term-structure-between-one-month-and-one-year-because-the-bills-make-a-single-payment-their-prices-are-determined-by-the-single-spot-rate-of-interest-at-maturity" title="Link to this heading">#</a></h3>
</section>
<section id="getting-treasury-bill-data">
<h3><em><strong>Getting Treasury Bill Data</strong></em><a class="headerlink" href="#getting-treasury-bill-data" title="Link to this heading">#</a></h3>
<section id="treasury-bill-data-is-available-from-the-us-department-of-the-treasury-treasury-at-the-department-s-daily-treasury-bill-rate-page-the-data-used-in-this-example-is-for-september-2022-and-was-uploaded-to-dropbox-as-an-excel-workbook">
<h4>Treasury bill data is available from the US Department of the Treasury (Treasury) at the department’s <a href='https://home.treasury.gov/resource-center/data-chart-center/interest-rates/TextView?type=daily_treasury_bill_rates&field_tdr_date_value_month=202509'>”Daily Treasury Bill Rate”</a> page. The data used in this example is for September 2022 and was uploaded to DropBox as an Excel workbook.<a class="headerlink" href="#treasury-bill-data-is-available-from-the-us-department-of-the-treasury-treasury-at-the-department-s-daily-treasury-bill-rate-page-the-data-used-in-this-example-is-for-september-2022-and-was-uploaded-to-dropbox-as-an-excel-workbook" title="Link to this heading">#</a></h4>
</section>
</section>
<section id="the-python-financial-concepts">
<h3><em><strong>The Python &amp; Financial Concepts</strong></em><a class="headerlink" href="#the-python-financial-concepts" title="Link to this heading">#</a></h3>
<section id="this-example-outlines-two-python-concepts-first-it-demonstrates-how-to-leverage-pandas-for-accessing-excel-workbooks-from-a-url-and-convert-them-into-dataframesa-highly-effective-skill-given-excel-s-widespread-use-the-pandas-method-is-read-excel-9-second-it-illustrates-data-manipulation-techniques-using-pandas-specifically-focusing-on-how-loc-iloc-and-get-indexer-are-used-to-retrieve-data-needed-for-calculations-10">
<h4>This example outlines two Python concepts. First, it demonstrates how to leverage Pandas for accessing Excel workbooks from a URL and convert them into DataFrames—a highly effective skill given Excel’s widespread use.  The Pandas method is <font color='green'>read_excel</font>.<span class="math notranslate nohighlight">\(^{9}\)</span> Second, it illustrates data manipulation techniques using Pandas, specifically focusing on how <font color='green'>loc</font>, <font color='green'>iloc</font>, and <font color='green'>get_indexer</font> are used to retrieve data needed for calculations.<span class="math notranslate nohighlight">\(^{10}\)</span><a class="headerlink" href="#this-example-outlines-two-python-concepts-first-it-demonstrates-how-to-leverage-pandas-for-accessing-excel-workbooks-from-a-url-and-convert-them-into-dataframesa-highly-effective-skill-given-excel-s-widespread-use-the-pandas-method-is-read-excel-9-second-it-illustrates-data-manipulation-techniques-using-pandas-specifically-focusing-on-how-loc-iloc-and-get-indexer-are-used-to-retrieve-data-needed-for-calculations-10" title="Link to this heading">#</a></h4>
</section>
<section id="measuring-the-term-structure-is-a-key-financial-skill-the-term-structure-of-interest-rates-is-a-critical-indicator-of-financial-market-conditions-its-explanation-along-with-the-concepts-necessary-for-its-calculation-represents-the-most-significant-aspect-of-this-example-the-relation-between-past-present-and-future-market-conditions-are-expressed-by-measuring-the-term-structure">
<h4>Measuring the term structure is a key financial skill. The term structure of interest rates is a critical indicator of financial market conditions. Its explanation, along with the concepts necessary for its calculation, represents the most significant aspect of this example. The relation between past, present,and future market conditions are expressed by measuring the term structure.<a class="headerlink" href="#measuring-the-term-structure-is-a-key-financial-skill-the-term-structure-of-interest-rates-is-a-critical-indicator-of-financial-market-conditions-its-explanation-along-with-the-concepts-necessary-for-its-calculation-represents-the-most-significant-aspect-of-this-example-the-relation-between-past-present-and-future-market-conditions-are-expressed-by-measuring-the-term-structure" title="Link to this heading">#</a></h4>
</section>
</section>
<section id="accessing-the-data">
<h3><em><strong>Accessing The Data</strong></em><a class="headerlink" href="#accessing-the-data" title="Link to this heading">#</a></h3>
<section id="the-pandas-magic-used-to-read-a-an-excel-workbook-from-a-url-address-is-read-excel-the-arguments-of-the-method-are">
<h4>The Pandas magic used to read a an Excel workbook from a URL address is <font color='green'>read_excel</font>.  The arguments of the method are:<a class="headerlink" href="#the-pandas-magic-used-to-read-a-an-excel-workbook-from-a-url-address-is-read-excel-the-arguments-of-the-method-are" title="Link to this heading">#</a></h4>
<ol class="arabic">
<li><h4 class="rubric" id="the-website-address-or-url-this-argument-is-required">The website address, or <font color='green'>url</font>. This argument is required.</h4>
</li>
<li><h4 class="rubric" id="the-columns-used-as-the-index-or-index-col-this-argument-is-optional-and-is-assigned-to-the-date-column">The columns used as the index, or <font color='green'>index_col</font>. This argument is optional and is assigned to the <font color='green'>Date</font> column.</h4>
</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://www.dropbox.com/scl/fi/wdb24k0dddkpq7qry5sl8/</span><span class="se">\</span>
<span class="s1">daily-treasury-rates-9-22.xlsx?rlkey=qxoo8vpa4iziu5kvi27u6c41l&amp;dl=1&#39;</span>
<span class="n">Tbill_data_excel</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Date)</span>
</pre></div>
</div>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{9}\)</span>  <a href='https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_Pandas.html#dataframes-csv-and-excel-files'>A Quick Introduction To Pandas</a>.</p>
<p><span class="math notranslate nohighlight">\(^{10}\)</span> <a href='https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_Pandas.html#the-loc-and-iloc-attributes'> A Quick Introduction To Pandas</a>.</p>
</section>
</section>
<section id="creating-the-dataframe-tbill-data-excel-from-an-excel-workbook">
<h3><em><strong>Creating the DataFrame Tbill_data_excel From An Excel Workbook</strong></em><a class="headerlink" href="#creating-the-dataframe-tbill-data-excel-from-an-excel-workbook" title="Link to this heading">#</a></h3>
<section id="an-excel-workbook-is-accessed-from-dropbox-the-url-is-provided-by-dropbox-the-pandas-method-read-excel-is-used-to-read-and-assign-the-data-to-tbill-data-excel-the-date-column-is-assigned-as-the-index-notice-here-that-try-and-except-are-used-to-alert-us-if-the-file-is-not-available">
<h4>An Excel workbook is accessed from Dropbox. The URL is provided by DropBox.The Pandas method <font color='green'>read_excel()</font> is used to read and assign the data to <font color='green'>Tbill_data_excel</font>.  The <font color='green'>Date</font> column is assigned as the index.  Notice here that <font color='green'>try</font> and <font color='green'>except</font> are used to alert us if the file is not available.<a class="headerlink" href="#an-excel-workbook-is-accessed-from-dropbox-the-url-is-provided-by-dropbox-the-pandas-method-read-excel-is-used-to-read-and-assign-the-data-to-tbill-data-excel-the-date-column-is-assigned-as-the-index-notice-here-that-try-and-except-are-used-to-alert-us-if-the-file-is-not-available" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#The full file path.</span>
<span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://www.dropbox.com/scl/fi/wdb24k0dddkpq7qry5sl8/</span><span class="se">\</span>
<span class="s1">daily-treasury-rates-9-22.xlsx?rlkey=qxoo8vpa4iziu5kvi27u6c41l&amp;dl=1&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to load data from: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1">#Load the data from Excel, using the Date column as the index.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Tbill_data_excel</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>

    <span class="c1"># Display the loaded DataFrame to verify it worked.</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="p">)</span>

<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ERROR: File not found.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please check that the &#39;URL&#39; address&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Attempting to load data from: https://www.dropbox.com/scl/fi/wdb24k0dddkpq7qry5sl8/daily-treasury-rates-9-22.xlsx?rlkey=qxoo8vpa4iziu5kvi27u6c41l&amp;dl=1
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>4 WEEKS BANK DISCOUNT</th>
      <th>4 WEEKS COUPON EQUIVALENT</th>
      <th>8 WEEKS BANK DISCOUNT</th>
      <th>8 WEEKS COUPON EQUIVALENT</th>
      <th>13 WEEKS BANK DISCOUNT</th>
      <th>13 WEEKS COUPON EQUIVALENT</th>
      <th>26 WEEKS BANK DISCOUNT</th>
      <th>26 WEEKS COUPON EQUIVALENT</th>
      <th>52 WEEKS BANK DISCOUNT</th>
      <th>52 WEEKS COUPON EQUIVALENT</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-09-30</th>
      <td>2.70</td>
      <td>2.74</td>
      <td>3.07</td>
      <td>3.13</td>
      <td>3.22</td>
      <td>3.29</td>
      <td>3.82</td>
      <td>3.95</td>
      <td>3.87</td>
      <td>4.03</td>
    </tr>
    <tr>
      <th>2022-09-29</th>
      <td>2.68</td>
      <td>2.72</td>
      <td>3.08</td>
      <td>3.14</td>
      <td>3.26</td>
      <td>3.33</td>
      <td>3.78</td>
      <td>3.91</td>
      <td>3.80</td>
      <td>3.96</td>
    </tr>
    <tr>
      <th>2022-09-28</th>
      <td>2.50</td>
      <td>2.54</td>
      <td>2.96</td>
      <td>3.01</td>
      <td>3.29</td>
      <td>3.36</td>
      <td>3.78</td>
      <td>3.91</td>
      <td>3.81</td>
      <td>3.97</td>
    </tr>
    <tr>
      <th>2022-09-27</th>
      <td>2.60</td>
      <td>2.64</td>
      <td>2.99</td>
      <td>3.05</td>
      <td>3.26</td>
      <td>3.33</td>
      <td>3.83</td>
      <td>3.96</td>
      <td>3.97</td>
      <td>4.14</td>
    </tr>
    <tr>
      <th>2022-09-26</th>
      <td>2.64</td>
      <td>2.68</td>
      <td>2.99</td>
      <td>3.05</td>
      <td>3.30</td>
      <td>3.37</td>
      <td>3.87</td>
      <td>4.00</td>
      <td>3.98</td>
      <td>4.15</td>
    </tr>
    <tr>
      <th>2022-09-23</th>
      <td>2.59</td>
      <td>2.63</td>
      <td>2.95</td>
      <td>3.00</td>
      <td>3.12</td>
      <td>3.19</td>
      <td>3.76</td>
      <td>3.88</td>
      <td>3.97</td>
      <td>4.14</td>
    </tr>
    <tr>
      <th>2022-09-22</th>
      <td>2.65</td>
      <td>2.69</td>
      <td>2.98</td>
      <td>3.04</td>
      <td>3.19</td>
      <td>3.26</td>
      <td>3.78</td>
      <td>3.91</td>
      <td>3.90</td>
      <td>4.07</td>
    </tr>
    <tr>
      <th>2022-09-21</th>
      <td>2.46</td>
      <td>2.50</td>
      <td>2.89</td>
      <td>2.94</td>
      <td>3.21</td>
      <td>3.28</td>
      <td>3.77</td>
      <td>3.90</td>
      <td>3.90</td>
      <td>4.07</td>
    </tr>
    <tr>
      <th>2022-09-20</th>
      <td>2.47</td>
      <td>2.51</td>
      <td>2.88</td>
      <td>2.93</td>
      <td>3.26</td>
      <td>3.33</td>
      <td>3.77</td>
      <td>3.90</td>
      <td>3.87</td>
      <td>4.04</td>
    </tr>
    <tr>
      <th>2022-09-19</th>
      <td>2.53</td>
      <td>2.57</td>
      <td>2.87</td>
      <td>2.92</td>
      <td>3.29</td>
      <td>3.36</td>
      <td>3.78</td>
      <td>3.91</td>
      <td>3.88</td>
      <td>4.05</td>
    </tr>
    <tr>
      <th>2022-09-16</th>
      <td>2.60</td>
      <td>2.64</td>
      <td>2.89</td>
      <td>2.94</td>
      <td>3.10</td>
      <td>3.17</td>
      <td>3.68</td>
      <td>3.80</td>
      <td>3.80</td>
      <td>3.96</td>
    </tr>
    <tr>
      <th>2022-09-15</th>
      <td>2.68</td>
      <td>2.72</td>
      <td>2.92</td>
      <td>2.97</td>
      <td>3.12</td>
      <td>3.19</td>
      <td>3.69</td>
      <td>3.81</td>
      <td>3.83</td>
      <td>4.00</td>
    </tr>
    <tr>
      <th>2022-09-14</th>
      <td>2.43</td>
      <td>2.47</td>
      <td>2.78</td>
      <td>2.83</td>
      <td>3.14</td>
      <td>3.21</td>
      <td>3.68</td>
      <td>3.80</td>
      <td>3.79</td>
      <td>3.95</td>
    </tr>
    <tr>
      <th>2022-09-13</th>
      <td>2.45</td>
      <td>2.49</td>
      <td>2.79</td>
      <td>2.84</td>
      <td>3.19</td>
      <td>3.26</td>
      <td>3.67</td>
      <td>3.79</td>
      <td>3.76</td>
      <td>3.92</td>
    </tr>
    <tr>
      <th>2022-09-12</th>
      <td>2.54</td>
      <td>2.58</td>
      <td>2.79</td>
      <td>2.84</td>
      <td>3.09</td>
      <td>3.16</td>
      <td>3.48</td>
      <td>3.59</td>
      <td>3.55</td>
      <td>3.70</td>
    </tr>
    <tr>
      <th>2022-09-09</th>
      <td>2.50</td>
      <td>2.54</td>
      <td>2.77</td>
      <td>2.82</td>
      <td>2.98</td>
      <td>3.04</td>
      <td>3.44</td>
      <td>3.55</td>
      <td>3.52</td>
      <td>3.67</td>
    </tr>
    <tr>
      <th>2022-09-08</th>
      <td>2.50</td>
      <td>2.54</td>
      <td>2.76</td>
      <td>2.81</td>
      <td>2.97</td>
      <td>3.03</td>
      <td>3.37</td>
      <td>3.48</td>
      <td>3.46</td>
      <td>3.60</td>
    </tr>
    <tr>
      <th>2022-09-07</th>
      <td>2.18</td>
      <td>2.21</td>
      <td>2.63</td>
      <td>2.68</td>
      <td>2.98</td>
      <td>3.04</td>
      <td>3.34</td>
      <td>3.44</td>
      <td>3.46</td>
      <td>3.60</td>
    </tr>
    <tr>
      <th>2022-09-06</th>
      <td>2.34</td>
      <td>2.38</td>
      <td>2.68</td>
      <td>2.73</td>
      <td>2.96</td>
      <td>3.02</td>
      <td>3.33</td>
      <td>3.43</td>
      <td>3.47</td>
      <td>3.61</td>
    </tr>
    <tr>
      <th>2022-09-02</th>
      <td>2.42</td>
      <td>2.46</td>
      <td>2.69</td>
      <td>2.74</td>
      <td>2.85</td>
      <td>2.91</td>
      <td>3.26</td>
      <td>3.36</td>
      <td>3.35</td>
      <td>3.48</td>
    </tr>
    <tr>
      <th>2022-09-01</th>
      <td>2.46</td>
      <td>2.50</td>
      <td>2.70</td>
      <td>2.75</td>
      <td>2.88</td>
      <td>2.94</td>
      <td>3.27</td>
      <td>3.37</td>
      <td>3.38</td>
      <td>3.51</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
</section>
<section id="accessing-rows-of-a-pandas-dataframe">
<h2><em><strong>Accessing Rows of a Pandas DataFrame</strong></em><a class="headerlink" href="#accessing-rows-of-a-pandas-dataframe" title="Link to this heading">#</a></h2>
<section id="we-ve-now-created-a-dataframe-but-we-still-need-to-access-its-contents-three-common-ways-of-accessing-the-rows-of-a-dataframe-are-the-attributes-loc-and-iloc-and-the-method-get-indexer-all-three-ways-access-rows-by-the-value-of-the-index">
<h3>We’ve now created a DataFrame, but we still need to access its contents. Three common ways of accessing the rows of a DataFrame are the attributes <font color='green'>loc</font> and <font color='green'>iloc</font> and the method <font color='green'>get_indexer()</font>.  All three ways access rows by the value of the index.<a class="headerlink" href="#we-ve-now-created-a-dataframe-but-we-still-need-to-access-its-contents-three-common-ways-of-accessing-the-rows-of-a-dataframe-are-the-attributes-loc-and-iloc-and-the-method-get-indexer-all-three-ways-access-rows-by-the-value-of-the-index" title="Link to this heading">#</a></h3>
</section>
<section id="the-loc-attribute-of-a-dataframe-accesses-a-row-by-using-its-index-value-in-the-below-code-the-specific-value-of-the-index-09-15-2022-is-accessed-if-the-value-is-not-in-the-index-an-error-is-returned-via-except-there-are-only-30-days-in-september-so-09-31-2022-fails-and-the-message-value-not-in-index-is-displayed">
<h3>The <font color='green'>loc</font> attribute of a DataFrame accesses a row by using its index value. In the below code, the specific value of the index “09/15/2022” is accessed. If the value is not in the index, an error is returned via <font color='green'>except</font>. There are only 30 days in September, so ‘09/31/2022’ fails and the message ‘Value Not In Index’ is displayed.<a class="headerlink" href="#the-loc-attribute-of-a-dataframe-accesses-a-row-by-using-its-index-value-in-the-below-code-the-specific-value-of-the-index-09-15-2022-is-accessed-if-the-value-is-not-in-the-index-an-error-is-returned-via-except-there-are-only-30-days-in-september-so-09-31-2022-fails-and-the-message-value-not-in-index-is-displayed" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;09/15/2022&#39;</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;09/31/2022&#39;</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;09/15/2022&#39;</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;09/31/2022&#39;</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>4 WEEKS BANK DISCOUNT</th>
      <th>4 WEEKS COUPON EQUIVALENT</th>
      <th>8 WEEKS BANK DISCOUNT</th>
      <th>8 WEEKS COUPON EQUIVALENT</th>
      <th>13 WEEKS BANK DISCOUNT</th>
      <th>13 WEEKS COUPON EQUIVALENT</th>
      <th>26 WEEKS BANK DISCOUNT</th>
      <th>26 WEEKS COUPON EQUIVALENT</th>
      <th>52 WEEKS BANK DISCOUNT</th>
      <th>52 WEEKS COUPON EQUIVALENT</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-09-15</th>
      <td>2.68</td>
      <td>2.72</td>
      <td>2.92</td>
      <td>2.97</td>
      <td>3.12</td>
      <td>3.19</td>
      <td>3.69</td>
      <td>3.81</td>
      <td>3.83</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Value Not In Index&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-iloc-attribute-accesses-a-row-by-its-indexed-integer-value-in-this-case-the-date-09-15-2022-has-an-index-value-of-11-if-the-integer-value-is-not-present-an-error-is-returned-the-dataframe-has-21-rows-and-so-the-index-value-of-45-fails-as-shown-below">
<h3>The <font color='green'>iloc</font> attribute accesses a row by its indexed integer value. In this case the Date “09/15/2022” has an index value of 11. If the integer value is not present, an error is returned. The DataFrame has 21 rows, and so the index value of 45 fails, as shown below.<a class="headerlink" href="#the-iloc-attribute-accesses-a-row-by-its-indexed-integer-value-in-this-case-the-date-09-15-2022-has-an-index-value-of-11-if-the-integer-value-is-not-present-an-error-is-returned-the-dataframe-has-21-rows-and-so-the-index-value-of-45-fails-as-shown-below" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">45</span><span class="s1">&#39;])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">45</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="s1">&#39;Value Not In Index&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 WEEKS BANK DISCOUNT         2.68
4 WEEKS COUPON EQUIVALENT     2.72
8 WEEKS BANK DISCOUNT         2.92
8 WEEKS COUPON EQUIVALENT     2.97
13 WEEKS BANK DISCOUNT        3.12
13 WEEKS COUPON EQUIVALENT    3.19
26 WEEKS BANK DISCOUNT        3.69
26 WEEKS COUPON EQUIVALENT    3.81
52 WEEKS BANK DISCOUNT        3.83
52 WEEKS COUPON EQUIVALENT    4.00
Name: 2022-09-15 00:00:00, dtype: float64
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Value Not In Index&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-pandas-method-get-indexer-returns-the-indexed-integer-values-for-a-specific-value-of-the-index-as-an-array-in-the-below-example-an-array-with-a-single-value-is-returned-for-the-date-09-15-2022-the-value-11-is-returned-the-get-indexer-method-returns-1-for-missing-values-which-avoids-interrupting-the-code">
<h3>The Pandas method <font color='green'>get_indexer()</font> returns the indexed integer values for a specific value of the index as an array. In the below example, an array with a single value is returned. For the Date “09/15/2022” the value 11 is returned. The <font color='green'>get_indexer()</font> method returns −1 for missing values, which avoids interrupting the code.<a class="headerlink" href="#the-pandas-method-get-indexer-returns-the-indexed-integer-values-for-a-specific-value-of-the-index-as-an-array-in-the-below-example-an-array-with-a-single-value-is-returned-for-the-date-09-15-2022-the-value-11-is-returned-the-get-indexer-method-returns-1-for-missing-values-which-avoids-interrupting-the-code" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayT</span><span class="p">(</span><span class="n">bill_data_excel</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="s1">&#39;09/15/2022&#39;</span><span class="p">])</span>
<span class="n">displayT</span><span class="p">(</span><span class="n">bill_data_excel</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="s1">&#39;09/31/2022&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#return row number for date &#39;09/15/2022&#39;</span>
<span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="s1">&#39;09/15/2022&#39;</span><span class="p">]))</span>
<span class="c1">#September has only 30 days, value of -1 returned</span>
<span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="s1">&#39;09/31/2022&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([11])
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="calculating-the-term-structure">
<h2><em><strong>Calculating The Term Structure</strong></em><a class="headerlink" href="#calculating-the-term-structure" title="Link to this heading">#</a></h2>
<section id="with-the-data-we-can-return-to-calculating-the-term-structure-recall-that-the-price-of-a-t-bill-a-zero-coupon-bond-is-its-principal-discounted-back-at-the-annualized-continuous-spot-rate-of-interest-the-forward-rate-of-interest-is-the-difference-of-the-natural-logs-of-the-prices-of-a-shorter-maturity-and-a-longer-maturity-zero-coupon-bond-in-order-to-calculate-the-term-structure-we-need-to-first-calculate-the-prices-of-the-t-bills-the-zero-coupon-prices">
<h3>With the data, we can return to calculating the Term Structure.  Recall that the price of a T-Bill (a zero-coupon bond) is its principal discounted back at the annualized continuous spot rate of interest. The forward rate of interest is the difference of the natural logs of the prices of a shorter maturity and a longer maturity zero-coupon bond. In order to calculate the term structure, we need to first calculate the prices of the T-Bills (the zero coupon prices).<a class="headerlink" href="#with-the-data-we-can-return-to-calculating-the-term-structure-recall-that-the-price-of-a-t-bill-a-zero-coupon-bond-is-its-principal-discounted-back-at-the-annualized-continuous-spot-rate-of-interest-the-forward-rate-of-interest-is-the-difference-of-the-natural-logs-of-the-prices-of-a-shorter-maturity-and-a-longer-maturity-zero-coupon-bond-in-order-to-calculate-the-term-structure-we-need-to-first-calculate-the-prices-of-the-t-bills-the-zero-coupon-prices" title="Link to this heading">#</a></h3>
</section>
<section id="bank-discounts-coupon-equivalent-yields">
<h3><em><strong>Bank Discounts &amp; Coupon Equivalent Yields</strong></em><a class="headerlink" href="#bank-discounts-coupon-equivalent-yields" title="Link to this heading">#</a></h3>
<section id="t-bills-are-quoted-as-bank-discounts-or-coupon-eequivalent-yields-t-bill-prices-are-100-less-a-bank-discount-annualized-with-a-360-day-year">
<h4>T-Bills are quoted as bank discounts or coupon eequivalent yields. T-Bill prices are 100 less a bank discount annualized with a 360 day year.<a class="headerlink" href="#t-bills-are-quoted-as-bank-discounts-or-coupon-eequivalent-yields-t-bill-prices-are-100-less-a-bank-discount-annualized-with-a-360-day-year" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Bill\,Price = 100 - bank\,discount\times\frac{Maturity\,In\,Days}{360}\]</div>
</section>
<section id="the-bank-discount-of-the-four-week-bill-on-september-15th-is-2-68-which-implies-a-bill-price-of">
<h4>The bank discount of the four-week bill on September 15th is 2.68%, which implies a bill price of:<a class="headerlink" href="#the-bank-discount-of-the-four-week-bill-on-september-15th-is-2-68-which-implies-a-bill-price-of" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[99.792 = 100 - 2.68\times\frac{28}{360}\]</div>
</section>
<section id="the-coupon-equivalent-is-the-annualized-rate-of-return-that-is-calculated-with-the-convention-of-365-days-per-year-the-calculation-is-the-actual-rate-of-return-the-gain-on-the-bill-divided-by-the-bill-price-multiplied-by-365-divided-by-the-maturity-of-the-bill-in-days-a-four-week-bill-matures-in-28-days-and-its-coupon-equivalent-is">
<h4>The coupon equivalent is the annualized rate of return that is calculated with the convention of 365 days per year. The calculation is the actual rate of return (the gain on the bill divided by the bill price) multiplied by 365 divided by the maturity of the bill in days. A four-week bill matures in 28 days, and its coupon equivalent is:<a class="headerlink" href="#the-coupon-equivalent-is-the-annualized-rate-of-return-that-is-calculated-with-the-convention-of-365-days-per-year-the-calculation-is-the-actual-rate-of-return-the-gain-on-the-bill-divided-by-the-bill-price-multiplied-by-365-divided-by-the-maturity-of-the-bill-in-days-a-four-week-bill-matures-in-28-days-and-its-coupon-equivalent-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[Coupon\,Equivalent =\frac{100 - Bill\,Price}{Bill\,Price}\times\frac{365}{28}\]</div>
</section>
<section id="and-a-coupon-equivalent-of">
<h4>And a coupon equivalent of:<a class="headerlink" href="#and-a-coupon-equivalent-of" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[2.72\% =\frac{100 - 99.792}{99.79}\times\frac{365}{28}\]</div>
</section>
</section>
<section id="calculating-bond-prices-with-bank-discounts">
<h3><em><strong>Calculating Bond Prices With Bank Discounts</strong></em><a class="headerlink" href="#calculating-bond-prices-with-bank-discounts" title="Link to this heading">#</a></h3>
<section id="the-columns-of-the-tbill-data-excel-dataframe-are-either-bank-discount-or-coupon-equivalent-we-will-construct-a-numpy-array-bank-discount-from-the-bank-discount-columns-the-list-desired-columns-is-created-with-list-comprehension-from-the-columns-attribute-of-tbill-data-excel-if-the-string-bank-is-in-the-column-name-that-column-name-is-added-to-the-list-desired-columns-11-12">
<h4>The columns of the <font color='green'>Tbill_data_excel</font> DataFrame  are either <em>BANK DISCOUNT</em> or <em>COUPON EQUIVALENT</em>. We will construct a NumPy array <font color='green'>bank_discount</font> from the <em>BANK DISCOUNT</em> columns. The list <font color='green'>desired_columns</font> is created with list comprehension from the columns attribute of <font color='green'>Tbill_data_excel</font>. If the string ‘BANK’ is in the column name, that column name is added to the list <font color='green'>desired_columns.</font><span class="math notranslate nohighlight">\(^{11,12}\)</span><a class="headerlink" href="#the-columns-of-the-tbill-data-excel-dataframe-are-either-bank-discount-or-coupon-equivalent-we-will-construct-a-numpy-array-bank-discount-from-the-bank-discount-columns-the-list-desired-columns-is-created-with-list-comprehension-from-the-columns-attribute-of-tbill-data-excel-if-the-string-bank-is-in-the-column-name-that-column-name-is-added-to-the-list-desired-columns-11-12" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">desired_columns</span><span class="o">=</span><span class="p">[</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;BANK&#39;</span> <span class="ow">in</span> <span class="n">column</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="the-column-is-only-added-when-the-if-statement-is-true-the-df-bankers-discount-dataframe-is-created-by-including-the-desired-column-lists-as-the-columns-of-the-tbill-data-excel-dataframe-as-shown-below">
<h4>The column is only added when the if statement is true. The <font color='green'>df_bankers_discount</font> DataFrame is created by including the <font color='green'>desired_column</font> lists as the columns of the <font color='green'>Tbill_data_excel</font> DataFrame, as shown below.<a class="headerlink" href="#the-column-is-only-added-when-the-if-statement-is-true-the-df-bankers-discount-dataframe-is-created-by-including-the-desired-column-lists-as-the-columns-of-the-tbill-data-excel-dataframe-as-shown-below" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df_bankers_discount</span><span class="o">=</span><span class="n">Tbill_data_excel</span><span class="p">[</span><span class="n">desired_columns</span><span class="p">]</span>
<span class="n">display</span><span class="p">(</span><span class="n">df_bankers_discount</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="having-the-bank-discount-in-numpy-arrays-will-allow-for-an-easy-conversion-to-bill-prices-we-can-convert-df-bankers-discount-into-a-two-dimensional-numpy-array-bankers-discount-with-the-pandas-method-to-numpy-the-first-five-rows-of-the-array-are-shown-below-13">
<h4>Having the bank discount in NumPy arrays will allow for an easy conversion to bill prices. We can convert <font color='green'>df_bankers_discount</font> into a two-dimensional NumPy array <font color='green'>bankers_discount</font> with the Pandas method <font color='green'>to_numpy()</font>. The first five rows of the array are shown below.<span class="math notranslate nohighlight">\(^{13}\)</span><a class="headerlink" href="#having-the-bank-discount-in-numpy-arrays-will-allow-for-an-easy-conversion-to-bill-prices-we-can-convert-df-bankers-discount-into-a-two-dimensional-numpy-array-bankers-discount-with-the-pandas-method-to-numpy-the-first-five-rows-of-the-array-are-shown-below-13" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bankers_discount</span><span class="o">=</span><span class="n">df_bankers_discount</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">bankers_discount</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{11}\)</span> As shown here, the desired columns could be selected with a for loop:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">desired_columns</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">Tbill_data_site</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
  <span class="k">if</span> <span class="s1">&#39;BANK&#39;</span> <span class="ow">in</span> <span class="n">column</span><span class="p">:</span><span class="n">desired_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(^{12}\)</span> See <a class="reference external" href="https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/A_First_Look_At_Lists.html#create-a-list-by-iterating-through-a-string-list-comprehension-for-loop">A First Look At Lists</a>.
<span class="math notranslate nohighlight">\(^{13}\)</span> See <a class="reference external" href="https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/An_Introduction_To_Pandas.html#pandas-to-numpy">A Quick Introduction To Pandas</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a list called &#39;desired_columns&#39; using a list comprehension.</span>
<span class="n">desired_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;BANK&#39;</span> <span class="ow">in</span> <span class="n">column</span><span class="p">]</span>

<span class="c1"># Create a DataFrame named &#39;df_bankers_discount&#39; and &#39;bankers_discont&#39;.</span>
<span class="n">df_bankers_discount</span> <span class="o">=</span> <span class="n">Tbill_data_excel</span><span class="p">[</span><span class="n">desired_columns</span><span class="p">]</span>
<span class="n">bankers_discount</span><span class="o">=</span><span class="n">df_bankers_discount</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="c1"># Display the first 5 rows of the newly created &#39;df_bankers_discount&#39; DataFrame.</span>
<span class="n">display</span><span class="p">(</span><span class="n">df_bankers_discount</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">bankers_discount</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>4 WEEKS BANK DISCOUNT</th>
      <th>8 WEEKS BANK DISCOUNT</th>
      <th>13 WEEKS BANK DISCOUNT</th>
      <th>26 WEEKS BANK DISCOUNT</th>
      <th>52 WEEKS BANK DISCOUNT</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-09-30</th>
      <td>2.70</td>
      <td>3.07</td>
      <td>3.22</td>
      <td>3.82</td>
      <td>3.87</td>
    </tr>
    <tr>
      <th>2022-09-29</th>
      <td>2.68</td>
      <td>3.08</td>
      <td>3.26</td>
      <td>3.78</td>
      <td>3.80</td>
    </tr>
    <tr>
      <th>2022-09-28</th>
      <td>2.50</td>
      <td>2.96</td>
      <td>3.29</td>
      <td>3.78</td>
      <td>3.81</td>
    </tr>
    <tr>
      <th>2022-09-27</th>
      <td>2.60</td>
      <td>2.99</td>
      <td>3.26</td>
      <td>3.83</td>
      <td>3.97</td>
    </tr>
    <tr>
      <th>2022-09-26</th>
      <td>2.64</td>
      <td>2.99</td>
      <td>3.30</td>
      <td>3.87</td>
      <td>3.98</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[2.7 , 3.07, 3.22, 3.82, 3.87],
       [2.68, 3.08, 3.26, 3.78, 3.8 ],
       [2.5 , 2.96, 3.29, 3.78, 3.81],
       [2.6 , 2.99, 3.26, 3.83, 3.97],
       [2.64, 2.99, 3.3 , 3.87, 3.98]])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="going-from-bankers-discounts-to-zero-prices">
<h3><em><strong>Going from Bankers Discounts to Zero Prices</strong></em><a class="headerlink" href="#going-from-bankers-discounts-to-zero-prices" title="Link to this heading">#</a></h3>
<section id="as-noted-earlier-the-price-of-a-bill-with-a-100-par-value-is">
<h4>As noted earlier, the price of a bill with a $100 par value is:<a class="headerlink" href="#as-noted-earlier-the-price-of-a-bill-with-a-100-par-value-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Bill\,Price = 100 - bank\,discount\times\frac{Maturity\,In\,Days}{360}\]</div>
</section>
<section id="the-price-of-one-dollar-or-the-the-zero-price-is">
<h4>The price of one dollar or the the zero price is:<a class="headerlink" href="#the-price-of-one-dollar-or-the-the-zero-price-is" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large\frac{100-bank\,discount\times\frac{Maturity\,In\,Days}{360}}{100}\]</div>
</section>
<section id="the-maturity-of-the-bills-are-4-8-13-26-and-52-weeks-in-the-following-code-the-numpy-array-maturity-days-is-created-by-multiplying-the-number-of-weeks-by-seven-the-zero-price-one-array-is-calculated-by-multiplying-bankers-discount-by-maturity-days-annualized-with-360-days-per-year-we-then-divide-by-100-to-convert-the-value-to-a-percentage">
<h4>The maturity of the bills are 4, 8, 13, 26, and 52 weeks. In the following code, the NumPy array <font color='green'>maturity_days</font> is created by multiplying the number of weeks by seven. The <font color='green'>zero_price_one</font> array is calculated by multiplying <font color='green'>bankers_discount</font> by <font color='green'>maturity_days</font>, annualized with 360 days per year. We then divide by 100 to convert the value to a percentage.<a class="headerlink" href="#the-maturity-of-the-bills-are-4-8-13-26-and-52-weeks-in-the-following-code-the-numpy-array-maturity-days-is-created-by-multiplying-the-number-of-weeks-by-seven-the-zero-price-one-array-is-calculated-by-multiplying-bankers-discount-by-maturity-days-annualized-with-360-days-per-year-we-then-divide-by-100-to-convert-the-value-to-a-percentage" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maturity_days</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">13</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">26</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">52</span><span class="o">*</span><span class="mi">7</span><span class="p">])</span> <span class="c1">#Maturity in days calculated</span>
<span class="c1">#The price formula divides maturity days by 360 to annualize</span>
<span class="c1">#Then divides by to convert to a bill paying one dollar.</span>
<span class="n">zero_prices_one</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="o">-</span><span class="n">bankers_discount</span><span class="o">*</span><span class="n">maturity_days</span><span class="o">/</span><span class="mi">360</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span>
<span class="c1">#NumPy performs element by element calculations: a calculation for each</span>
<span class="c1">#value of maturity_days with the corresponding value of bankers_discount</span>
<span class="n">zero_prices_one</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>   <span class="c1">#Display first 5 rows (each row is a trading day for Sept 2022)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.9979    , 0.99522444, 0.99186056, 0.98068778, 0.96087   ],
       [0.99791556, 0.99520889, 0.99175944, 0.98089   , 0.96157778],
       [0.99805556, 0.99539556, 0.99168361, 0.98089   , 0.96147667],
       [0.99797778, 0.99534889, 0.99175944, 0.98063722, 0.95985889],
       [0.99794667, 0.99534889, 0.99165833, 0.980435  , 0.95975778]])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="spot-rates">
<h3><em><strong>Spot Rates</strong></em><a class="headerlink" href="#spot-rates" title="Link to this heading">#</a></h3>
<section id="recall-that-the-spot-rates-are-the-annualized-rates-calculated-from-the-tibill-data-spot-rates-are-equal-to">
<h4>Recall that the spot rates are the annualized rates calculated from the TiBill data. Spot rates are equal to:<a class="headerlink" href="#recall-that-the-spot-rates-are-the-annualized-rates-calculated-from-the-tibill-data-spot-rates-are-equal-to" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[\large Spot\ Rate(T) = \frac{ln(zero\ price)}{\frac{T}{365}}\]</div>
</section>
<section id="where-t-is-the-number-of-days-in-the-following-code-the-array-spot-rates-is-calculated-from-the-zero-prices-one-array-the-first-five-rows-of-the-array-are-displayed-below">
<h4>where <span class="math notranslate nohighlight">\(T\)</span> is the number of days.  In the following code, the array <font color='green'>spot_rates</font> is calculated from the <font color='green'>zero_prices_one</font> array. The first five rows of the array are displayed below.<a class="headerlink" href="#where-t-is-the-number-of-days-in-the-following-code-the-array-spot-rates-is-calculated-from-the-zero-prices-one-array-the-first-five-rows-of-the-array-are-displayed-below" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spot_rates</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">zero_prices_one</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">maturity_days</span><span class="o">/</span><span class="mi">365</span><span class="p">)</span> <span class="c1">#Maturity_days divided by 365</span>
<span class="n">spot_rates</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="c1">#Display first 5 rows (last 5 trading days of Sept 2022)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.02740378, 0.03120095, 0.03278081, 0.03910943, 0.04002581],
       [0.02720058, 0.03130283, 0.03318972, 0.03869593, 0.03928746],
       [0.0253719 , 0.03008042, 0.03349642, 0.03869593, 0.03939291],
       [0.0263878 , 0.030386  , 0.03318972, 0.03921282, 0.04108155],
       [0.02679418, 0.030386  , 0.03359866, 0.03962642, 0.04118718]])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="forward-rates">
<h3><em><strong>Forward Rates</strong></em><a class="headerlink" href="#forward-rates" title="Link to this heading">#</a></h3>
<section id="the-forward-rates-are-calculated-with-differences-in-the-natural-logs-of-zero-prices-and-assigned-to-the-matrix-forward-rates-in-the-below-code-the-numpy-method-diff-is-used-to-calculate-the-difference-between-the-zero-prices-for-adjacent-maturities-the-arguments-of-diff-are-the-array-name-and-the-number-of-lags-between-differences-the-default-value-for-lags-between-differences-is-1">
<h4>The forward rates are calculated with differences in the natural logs of zero prices and assigned to the matrix <font color='green'>forward_rates</font> in the below code. The NumPy method <font color='green'>diff()</font> is used to calculate the difference between the zero prices for adjacent maturities. The arguments of <font color='green'>diff()</font> are the array name and the number of lags between differences. The default value for lags between differences is 1.<a class="headerlink" href="#the-forward-rates-are-calculated-with-differences-in-the-natural-logs-of-zero-prices-and-assigned-to-the-matrix-forward-rates-in-the-below-code-the-numpy-method-diff-is-used-to-calculate-the-difference-between-the-zero-prices-for-adjacent-maturities-the-arguments-of-diff-are-the-array-name-and-the-number-of-lags-between-differences-the-default-value-for-lags-between-differences-is-1" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">forward_rates</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">zero_price_one</span><span class="p">))</span><span class="o">*</span><span class="mi">365</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">maturity_days</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-above-line-of-code-warrants-a-bit-of-explanation-the-diff-method-subtracts-the-lower-indexed-value-from-the-higher-in-this-example-the-maturity-of-four-weeks-from-eight-weeks-and-eight-weeks-from-thirteen-and-so-on-the-calculation-of-forward-rates-is-the-reverse-or-the-negative-value-of-the-diff-method-the-forward-rates-array-is-assigned-the-negative-value-the-diff-function-returns-four-values-there-is-no-forward-rate-for-the-first-month-in-order-to-get-the-spot-and-forward-to-line-up-on-the-graph-a-value-is-inserted-in-the-forward-rate-array-that-is-ignored-by-calculations-the-numpy-method-insert-is-used-to-add-a-column-with-the-value-nan-as-the-first-column-of-the-forward-rates-array-12-as-you-might-have-guessed-nan-stands-for-not-a-number-the-arguments-of-insert-are-the-array-position-value-and-axis-the-rows-are-axis-0-and-the-columns-are-axis-1-this-means-that-a-position-of-0-and-an-axis-of-1-inserts-the-values-as-the-first-column">
<h4>The above line of code warrants a bit of explanation. The <font color='green'>diff()</font> method subtracts the lower indexed value from the higher. In this example, the maturity of four weeks from eight weeks and eight weeks from thirteen and so on. The calculation of forward rates is the reverse (or the negative) value of the <font color='green'>diff()</font> method. The <font color='green'>forward_rates</font> array is assigned the negative value. The <font color='green'>diff()</font> function returns four values (there is no forward rate for the first month). In order to get the spot and forward to line up on the graph, a value is inserted in the forward rate array that is ignored by calculations. The NumPy method <font color='green'>insert()</font> is used to add a column with the value <font color='green'>nan</font> as the first column of the <font color='green'>forward_rates</font> array.<span class="math notranslate nohighlight">\(^{12}\)</span>  As you might have guessed, <font color='green'>nan</font> stands for ‘not a number’.  The arguments of <font color='green'>insert()</font> are the array, position, value, and axis. The rows are <font color='green'>axis 0</font> and the columns are <font color='green'>axis 1</font>. This means that a position of 0 and an axis of 1 inserts the values as the first column.<a class="headerlink" href="#the-above-line-of-code-warrants-a-bit-of-explanation-the-diff-method-subtracts-the-lower-indexed-value-from-the-higher-in-this-example-the-maturity-of-four-weeks-from-eight-weeks-and-eight-weeks-from-thirteen-and-so-on-the-calculation-of-forward-rates-is-the-reverse-or-the-negative-value-of-the-diff-method-the-forward-rates-array-is-assigned-the-negative-value-the-diff-function-returns-four-values-there-is-no-forward-rate-for-the-first-month-in-order-to-get-the-spot-and-forward-to-line-up-on-the-graph-a-value-is-inserted-in-the-forward-rate-array-that-is-ignored-by-calculations-the-numpy-method-insert-is-used-to-add-a-column-with-the-value-nan-as-the-first-column-of-the-forward-rates-array-12-as-you-might-have-guessed-nan-stands-for-not-a-number-the-arguments-of-insert-are-the-array-position-value-and-axis-the-rows-are-axis-0-and-the-columns-are-axis-1-this-means-that-a-position-of-0-and-an-axis-of-1-inserts-the-values-as-the-first-column" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">forward_rates</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">forward_rates</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-first-five-values-of-the-forward-rates-array-are-shown-below">
<h4>The first five values of the <font color='green'>forward_rates</font> array are shown below.<a class="headerlink" href="#the-first-five-values-of-the-forward-rates-array-are-shown-below" title="Link to this heading">#</a></h4>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{12}\)</span> As a reminder, the value <font color='green'>nan</font> is recognized as not a number and is ignored in calculations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">forward_rates</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">zero_prices_one</span><span class="p">))</span><span class="o">*</span><span class="mi">365</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">maturity_days</span><span class="p">)</span> <span class="c1">#Sign switched</span>
<span class="n">forward_rates</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">forward_rates</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#NumPy nan inserted for first month</span>
<span class="n">forward_rates</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="c1">#Display first five dates</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[       nan, 0.03499811, 0.03530859, 0.04543804, 0.0409422 ],
       [       nan, 0.03540507, 0.03620874, 0.04420214, 0.039879  ],
       [       nan, 0.03478894, 0.03896203, 0.04389543, 0.04008989],
       [       nan, 0.03438419, 0.03767567, 0.04523591, 0.04295028],
       [       nan, 0.03397781, 0.03873893, 0.04565418, 0.04274794]])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id1">
<h3><em><strong>Preparing the Notebook</strong></em><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<section id="we-suggest-creating-a-main-folder-and-subfolders-on-your-local-computer-or-google-drive-to-store-files-graphs-spreadsheets-and-so-forth-generated-by-the-notebooks-in-basic-concepts-of-fixed-income">
<h4>We suggest creating a main folder and subfolders on your local computer or Google Drive to store files (graphs, spreadsheets, and so forth) generated by the Notebooks in <em>Basic Concepts of Fixed Income</em>.<a class="headerlink" href="#we-suggest-creating-a-main-folder-and-subfolders-on-your-local-computer-or-google-drive-to-store-files-graphs-spreadsheets-and-so-forth-generated-by-the-notebooks-in-basic-concepts-of-fixed-income" title="Link to this heading">#</a></h4>
</section>
<section id="the-function-parent-folder-subfolder-that-was-imported-from-module-basic-concepts-fixed-income-determines-default-values-and-allows-you-to-name-the-parent-directory-the-folder-and-subfolders-the-function-s-single-argument-is-set-to-true-by-default-if-false-is-not-explicitly-passed-the-function-will-attempt-to-return-default-values-for-the-parent-folder-and-subfolder-conversely-passing-false-will-prompt-the-user-for-these-inputs-note-that-the-function-does-not-direct-output-to-the-parent-folder-or-subfolder">
<h4>The function <font color='green'>parent_folder_subfolder</font> that was imported from <font color='green'>module_basic_concepts_fixed_income</font> determines default values and allows you to name the parent directory, the folder, and subfolders. The function’s single argument is set to <font color='green'>True</Font> by default. If <font color='green'>False</font> is not explicitly passed, the function will attempt to return default values for the parent, folder, and subfolder. Conversely, passing <font color='green'>False</font> will prompt the user for these inputs. Note that the function does not direct output to the parent, folder, or subfolder.<a class="headerlink" href="#the-function-parent-folder-subfolder-that-was-imported-from-module-basic-concepts-fixed-income-determines-default-values-and-allows-you-to-name-the-parent-directory-the-folder-and-subfolders-the-function-s-single-argument-is-set-to-true-by-default-if-false-is-not-explicitly-passed-the-function-will-attempt-to-return-default-values-for-the-parent-folder-and-subfolder-conversely-passing-false-will-prompt-the-user-for-these-inputs-note-that-the-function-does-not-direct-output-to-the-parent-folder-or-subfolder" title="Link to this heading">#</a></h4>
<ul>
<li><h4 class="rubric" id="parent-directory-the-default-is-always-the-current-working-directory-for-a-local-computer-or-content-drive-mydrive-for-colab"><em><strong>Parent Directory: The default is always the current working directory for a local computer, or <font color='green'>/content/drive/MyDrive</font> for Colab</strong></em></h4>
</li>
<li><h4 class="rubric" id="folder-the-default-is-the-volume-name"><em><strong>Folder: The default is the volume name.</strong></em></h4>
</li>
<li><h4 class="rubric" id="subfolder-the-default-is-the-chapter-name"><em><strong>Subfolder: The default is the chapter name.</strong></em></h4>
</li>
</ul>
</section>
<section id="if-you-input-values-the-function-corrects-errors-that-prevent-the-url-from-being-usable">
<h4>If you input values, the function corrects errors that prevent the URL from being usable.<a class="headerlink" href="#if-you-input-values-the-function-corrects-errors-that-prevent-the-url-from-being-usable" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parent</span><span class="p">,</span><span class="n">folder</span><span class="p">,</span><span class="n">subfolder</span><span class="o">=</span><span class="n">parent_folder_subfolder</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-above-returns-the-values-that-can-be-used-to-create-a-path">
<h4>The above returns the values that can be used to create a path.<a class="headerlink" href="#the-above-returns-the-values-that-can-be-used-to-create-a-path" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">parent</span><span class="p">,</span><span class="n">folder</span><span class="p">,</span><span class="n">subfolder</span><span class="o">=</span><span class="n">parent_folder_subfolder</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">IndexError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_16066</span><span class="o">/</span><span class="mf">3824672720.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">parent</span><span class="p">,</span><span class="n">folder</span><span class="p">,</span><span class="n">subfolder</span><span class="o">=</span><span class="n">parent_folder_subfolder</span><span class="p">()</span>

<span class="nn">&lt;string&gt;</span> in <span class="ni">parent_folder_subfolder</span><span class="nt">(default)</span>

<span class="nn">~/anaconda3/lib/python3.9/site-packages/ipynbname/__init__.py</span> in <span class="ni">name</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">91</span>         <span class="ow">or</span> <span class="n">raises</span> <span class="n">a</span> <span class="ne">FileNotFoundError</span> <span class="n">exception</span> <span class="k">if</span> <span class="n">it</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">determined</span><span class="o">.</span>
<span class="g g-Whitespace">     </span><span class="mi">92</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">93</span><span class="sd">     _, path = _find_nb_path()</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span><span class="sd">     if path:</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span><span class="sd">         return path.stem</span>

<span class="nn">~/anaconda3/lib/python3.9/site-packages/ipynbname/__init__.py</span> in <span class="ni">_find_nb_path</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">73</span><span class="sd"> def _find_nb_path() -&gt; Union[Tuple[dict, PurePath], Tuple[None, None]]:</span>
<span class="g g-Whitespace">     </span><span class="mi">74</span><span class="sd">     try:</span>
<span class="ne">---&gt; </span><span class="mi">75</span><span class="sd">         kernel_id = _get_kernel_id()</span>
<span class="g g-Whitespace">     </span><span class="mi">76</span><span class="sd">     except (MultipleInstanceError, RuntimeError):</span>
<span class="g g-Whitespace">     </span><span class="mi">77</span><span class="sd">         return None, None  # Could not determine</span>

<span class="nn">~/anaconda3/lib/python3.9/site-packages/ipynbname/__init__.py</span> in <span class="ni">_get_kernel_id</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">46</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">47</span>     <span class="n">connection_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">ipykernel</span><span class="o">.</span><span class="n">get_connection_file</span><span class="p">())</span><span class="o">.</span><span class="n">stem</span>
<span class="ne">---&gt; </span><span class="mi">48</span>     <span class="n">kernel_id</span> <span class="o">=</span> <span class="n">connection_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">49</span>     <span class="k">return</span> <span class="n">kernel_id</span>
<span class="g g-Whitespace">     </span><span class="mi">50</span> 

<span class="ne">IndexError</span>: list index out of range
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="graphing-the-term-structure">
<h2><em><strong>Graphing the Term Structure</strong></em><a class="headerlink" href="#graphing-the-term-structure" title="Link to this heading">#</a></h2>
<section id="the-function-one-y-axis-graphs-values-on-a-single-y-axis-if-the-save-config-dictionary-has-a-value-assigned-to-one-of-its-four-keys-parent-folder-subfolder-and-file-one-y-axis-will-attempt-to-save-the-plot-as-a-pdf">
<h3>The function <font color='green'>one_y_axis()</font> graphs values on a single <em>y</em>-axis. If the <font color='green'>save_config</font> dictionary has a value assigned to one of its four keys (<font color='green'>Parent</font>, <font color='green'>Folder</font>, <font color='green'>Subfolder</font>,and <font color='green'>File</font>), <font color='green'>one_y_axis()</font> will attempt to save the plot as a PDF.<a class="headerlink" href="#the-function-one-y-axis-graphs-values-on-a-single-y-axis-if-the-save-config-dictionary-has-a-value-assigned-to-one-of-its-four-keys-parent-folder-subfolder-and-file-one-y-axis-will-attempt-to-save-the-plot-as-a-pdf" title="Link to this heading">#</a></h3>
</section>
<section id="the-values-returned-by-create-path-folder-and-t-bill-term-structure-9-15-2022-pdf-are-assigned-to-the-four-keys-shown-below-12-if-no-values-are-assigned-the-graph-will-not-be-saved">
<h3>The values returned by <font color='green'>create_path_folder()</font> and <font color='green'>T-Bill Term Structure: 9-15-2022.pdf</font> are assigned to the four keys, shown below.<span class="math notranslate nohighlight">\(^{12}\)</span>. If no values are assigned, the graph will not be saved.<a class="headerlink" href="#the-values-returned-by-create-path-folder-and-t-bill-term-structure-9-15-2022-pdf-are-assigned-to-the-four-keys-shown-below-12-if-no-values-are-assigned-the-graph-will-not-be-saved" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save_config</span><span class="o">=</span><span class="p">{}</span>
<span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;Parent&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">parent</span>
<span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;Folder&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">folder</span>
<span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;Subfolder&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">subfolder</span>
<span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;File]=&#39;</span><span class="n">T</span><span class="o">-</span><span class="n">Bill</span> <span class="n">Term</span> <span class="n">Structure</span><span class="p">:</span> <span class="mi">9</span><span class="o">-</span><span class="mi">15</span><span class="o">-</span><span class="mf">2022.</span><span class="n">pdf</span><span class="s1">&#39;</span>
</pre></div>
</div>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(^{12}\)</span> <a class="reference external" href="https://patrickjhess.github.io/Introduction-To-Python-For-Financial-Python/Dictionaries.html#an-introduction-to-dictionaries">Introduction To Dictionaries</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">save_config</span><span class="o">=</span><span class="p">{}</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">save_config[&#39;Parent&#39;]=parent</span>
<span class="sd">save_config[&#39;Folder&#39;]=folder</span>
<span class="sd">save_config[&#39;Subfolder&#39;]=subfolder</span>
<span class="sd">save_config[&#39;File&#39;]=&#39;T-Bill Term Structure: 9-15-2022.pdf&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="graphing-the-spot-and-forward-rates-for-september-15-2022">
<h3><em><strong>Graphing the Spot and Forward Rates for September 15, 2022</strong></em><a class="headerlink" href="#graphing-the-spot-and-forward-rates-for-september-15-2022" title="Link to this heading">#</a></h3>
<section id="in-the-following-code-the-x-axis-is-set-at-the-five-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2022-and-the-data-for-september-15-2022-is-plotted">
<h4>In the following code, the <em>x</em>-axis is set at the five maturities of the bills in months. Forward and spot rates are calculated for the month of September 2022, and the data for September 15, 2022, is plotted.<a class="headerlink" href="#in-the-following-code-the-x-axis-is-set-at-the-five-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2022-and-the-data-for-september-15-2022-is-plotted" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xaxis</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;One&#39;</span><span class="p">,</span><span class="s1">&#39;Two&#39;</span><span class="p">,</span><span class="s1">&#39;Three&#39;</span><span class="p">,</span><span class="s1">&#39;Six&#39;</span><span class="p">,</span><span class="s1">&#39;Twelve&#39;</span><span class="p">]</span>
<span class="n">string_date</span><span class="o">=</span><span class="s1">&#39;09/15/2022&#39;</span>
</pre></div>
</div>
</section>
<section id="since-they-lack-index-columns-the-correct-rows-of-the-numpy-arrays-spot-rates-and-forward-rates-cannot-be-determined-from-the-value-of-string-date-because-the-rows-of-the-arrays-correspond-to-the-rows-of-the-dataframe-the-correct-row-is-determined-with-the-pandas-method-get-indexer-the-method-returns-an-array-with-index-values-corresponding-to-the-argument-the-spot-and-forward-rate-rows-for-september-15-2022-are-then-multiplied-by-100-and-assigned-to-the-list-data">
<h4>Since they lack index columns, the correct rows of the NumPy arrays <font color='green'>spot_rates</font> and <font color='green'>forward_rates</font> cannot be determined from the value of <font color='green'>string_date</font>. Because the rows of the arrays correspond to the rows of the DataFrame, the correct row is determined with the Pandas method <font color='green'>get_indexer()</font>. The method returns an array with index values corresponding to the argument. The spot- and forward-rate rows for September 15, 2022, are then multiplied by 100 and assigned to the list <font color='green'>data</font>.<a class="headerlink" href="#since-they-lack-index-columns-the-correct-rows-of-the-numpy-arrays-spot-rates-and-forward-rates-cannot-be-determined-from-the-value-of-string-date-because-the-rows-of-the-arrays-correspond-to-the-rows-of-the-dataframe-the-correct-row-is-determined-with-the-pandas-method-get-indexer-the-method-returns-an-array-with-index-values-corresponding-to-the-argument-the-spot-and-forward-rate-rows-for-september-15-2022-are-then-multiplied-by-100-and-assigned-to-the-list-data" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">loc</span><span class="o">=</span><span class="n">Tbill_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="n">string_date</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">spot_rates</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="n">forward_rates</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="the-plot-title-is-assigned-whatever-value-is-assigned-to-save-config-file-name-minus-the-pdf-extension">
<h4>The plot title is assigned whatever value is assigned to <font color='green'>save_config[‘File Name’]</font> (minus the PDF extension).<a class="headerlink" href="#the-plot-title-is-assigned-whatever-value-is-assigned-to-save-config-file-name-minus-the-pdf-extension" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>                    
  <span class="n">title</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;File&#39;</span><span class="p">])</span>              
<span class="k">except</span><span class="p">:</span>
  <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Add A Title&#39;</span>
</pre></div>
</div>
</section>
<section id="series-names-labels-and-markers-are-then-assigned">
<h4>Series names, labels, and markers are then assigned.<a class="headerlink" href="#series-names-labels-and-markers-are-then-assigned" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Spot Rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Forward Rate&#39;</span><span class="p">]</span>
<span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;Continuous Compounded Annualized % Rates&#39;</span>
<span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;Maturity In Months&#39;</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">%</span><span class="mi">2</span><span class="o">+</span><span class="mf">0.001</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-6-and-red-and-blue-respectively">
<h4>The upper limit of the <em>y</em>-axis is assigned to <font color='green'>upper</font> and calculated from the maximum value of the spot and forward rates. The NumPy method <font color='green'>nanmax()</font> ignores <font color='green'>nan</font> values. The maximum of <font color='green'>nanmax()</font> of spot rates (<font color='green'>data[0]</font>) and forward rates (<font color='green'>data[1]</font>) plus 0.5% are assigned to <font color='green'>upper </font>. The lower limit is set to 0, and the size and colors of the lines are set as 10,6 and red and blue, respectively.<a class="headerlink" href="#the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-6-and-red-and-blue-respectively" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lower</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">upper</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="o">+</span> <span class="mf">0.5</span>
<span class="n">ylim</span> <span class="o">=</span> <span class="p">[</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">]</span>
<span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>  
<span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-1">
<h4>Finally, the graph is generated and saved with <font color='green'>one_y_axis()</font> (see <strong>Figure 1</strong>).<a class="headerlink" href="#finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-1" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">one_y_axis</span><span class="p">(</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">series</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">,</span> <span class="n">markers</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">ylim</span><span class="p">,</span>
           <span class="n">save_config</span><span class="o">=</span><span class="n">save_config</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the labels for the x-axis, representing different maturities.</span>
<span class="n">xaxis</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;One&#39;</span><span class="p">,</span> <span class="s1">&#39;Two&#39;</span><span class="p">,</span> <span class="s1">&#39;Three&#39;</span><span class="p">,</span> <span class="s1">&#39;Six&#39;</span><span class="p">,</span> <span class="s1">&#39;Twelve&#39;</span><span class="p">]</span>

<span class="c1"># Define the specific date for which the term structure will be plotted.</span>
<span class="n">string_date</span> <span class="o">=</span> <span class="s1">&#39;09/15/2022&#39;</span>

<span class="c1"># Get the integer location (row index) of the specified &#39;string_date&#39; in the DataFrame&#39;s index..</span>
<span class="n">loc</span> <span class="o">=</span> <span class="n">Tbill_data_excel</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="n">string_date</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Prepare the data to be plotted on the y-axis (as %).</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">spot_rates</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">forward_rates</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">]</span>

<span class="c1"># Attempt to extract the plot title from the file name.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;File&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1">#&#39;File Name&#39; key not found or string is too short), set a default title.</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;September 15, 2022&#39;</span>

<span class="c1"># Define the names for the data series that will appear in the plot&#39;s legend.</span>
<span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Spot Rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Forward Rate&#39;</span><span class="p">]</span>

<span class="c1"># Define the label for the y-axis.</span>
<span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;Continuous Compounded Annualized % Rates&#39;</span>

<span class="c1"># Define the label for the x-axis.</span>
<span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;Maturity In Months&#39;</span>

<span class="c1">#&#39;data&#39; contains two series (spot and forward rates).</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Define markers for the plot.</span>
<span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">%</span><span class="k">2</span>+0.001)

<span class="c1"># Define the lower bound for the y-axis.</span>
<span class="n">lower</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Define the upper bound for the y-axis.</span>
<span class="c1"># considering NaN values (not a number) and adds a small buffer (0.5) for padding.</span>
<span class="n">upper</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="o">+</span> <span class="mf">0.5</span>

<span class="c1"># Define the y-axis limits (minimum and maximum values).</span>
<span class="n">ylim</span> <span class="o">=</span> <span class="p">[</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">]</span>

<span class="c1"># Define the size of the plot (width, height) in inches.</span>
<span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="c1"># Define colors as red and blue</span>
<span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="c1"># This function generates and possibly saves a plot.</span>
<span class="n">one_y_axis</span><span class="p">(</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">series</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">,</span> <span class="n">markers</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">ylim</span><span class="p">,</span>
           <span class="n">save_config</span><span class="o">=</span><span class="n">save_config</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9c3b9a552289edf1e7fa261f8d1c6b531cd2598e4805860bef525f80e3225dc1.png" src="_images/9c3b9a552289edf1e7fa261f8d1c6b531cd2598e4805860bef525f80e3225dc1.png" />
</div>
</div>
</section>
</section>
</section>
<section id="accessing-the-t-bill-data-directly-from-the-us-department-of-the-treasury-treasury">
<h2><em><strong>Accessing the T-Bill Data Directly from the US Department of the Treasury (Treasury)</strong></em><a class="headerlink" href="#accessing-the-t-bill-data-directly-from-the-us-department-of-the-treasury-treasury" title="Link to this heading">#</a></h2>
<section id="figure-2-shows-a-screenshot-of-the-treasury-page-and-its-data-tool-a-selected-time-period-determines-a-url-to-the-download-csv-link-in-our-example-the-year-is-set-to-2025-and-the-month-is-september-as-we-will-see-below-the-url-includes-the-sting-of-a-four-digit-year-and-a-two-digit-month-202509">
<h3><br><strong>Figure 2</strong> shows a screenshot of the Treasury page and its data tool. A selected time period determines a URL to the Download CSV link.  In our example the year is set to 2025 and the month is September. As we will see below, the URL includes the sting of a four digit year and a two digit month (‘202509’).<a class="headerlink" href="#figure-2-shows-a-screenshot-of-the-treasury-page-and-its-data-tool-a-selected-time-period-determines-a-url-to-the-download-csv-link-in-our-example-the-year-is-set-to-2025-and-the-month-is-september-as-we-will-see-below-the-url-includes-the-sting-of-a-four-digit-year-and-a-two-digit-month-202509" title="Link to this heading">#</a></h3>
</section>
<section id="the-link-to-the-daily-treasury-bill-rates-on-the-treasury-site">
<h3>The link to the <a class="reference external" href="https://home.treasury.gov/resource-center/data-chart-center/interest-rates/TextView?type=daily_treasury_bill_rates">Daily Treasury Bill Rates on the Treasury Site</a><a class="headerlink" href="#the-link-to-the-daily-treasury-bill-rates-on-the-treasury-site" title="Link to this heading">#</a></h3>
<p>        <strong>Figure 2. Accessing T-bill rates</strong></p>
<p><img  src='https://docs.google.com/drawings/d/e/2PACX-1vTiHivEYXBe1dqoYji4_KM859JuQ5eyt5zeOOq59grAnhoJFY-Cg-7q610W0YZvPJ9cL7Vi22uC-5me/pub?w=960&h=720'><img>
Source: “Daily Treasury Bill Rates,” US Department of the Treasury, 2025 (accessed Sept. 24, 2025)</p>
</section>
</section>
<section id="changing-the-url-and-using-the-pandas-method-read-csv">
<h2><em><strong>Changing The URL And Using The Pandas Method <font color='green'>read_csv</font></strong></em><a class="headerlink" href="#changing-the-url-and-using-the-pandas-method-read-csv" title="Link to this heading">#</a></h2>
<section id="the-data-is-accessed-directly-from-the-treasury-as-a-csv-file-and-the-code-below-displays-the-data-row-for-september-30-2025-with-the-exception-of-the-url-value-and-the-read-csv-versus-read-excel-the-code-is-identical-to-what-we-used-to-create-tbill-data-excel-in-this-example-the-url-points-to-a-treasury-site-instead-of-dropbox-the-url-is-copied-by-right-clicking-the-download-csv-link-on-the-treasury-site-the-url-for-a-particular-year-and-month-is-shown-below-data-date-is-assigned-the-string-202509-you-can-assign-it-any-year-and-month-after-2022-as-of-november-3-2025-dates-prior-to-2022-will-be-moved-to-a-historical-page">
<h3>The data is accessed directly from the Treasury as a CSV file, and the code below displays the data row for September 30, 2025. With the exception of the URL value and the <font color='green'>read_csv</font> versus <font color='green'>read_excel</font>, the code is identical to what we used to create <font color='green'>Tbill_data_excel</font>. In this example, the URL points to a Treasury site instead of DropBox.  The URL is copied by right clicking the Download CSV link on the Treasury site.  The URL for a particular year and month is shown below. <font color='green'>data_date</font> is assigned the string ‘202509’.  You can assign it any year and month after 2022. As of November 3 2025, dates prior to 2022 will be moved to a historical page.<a class="headerlink" href="#the-data-is-accessed-directly-from-the-treasury-as-a-csv-file-and-the-code-below-displays-the-data-row-for-september-30-2025-with-the-exception-of-the-url-value-and-the-read-csv-versus-read-excel-the-code-is-identical-to-what-we-used-to-create-tbill-data-excel-in-this-example-the-url-points-to-a-treasury-site-instead-of-dropbox-the-url-is-copied-by-right-clicking-the-download-csv-link-on-the-treasury-site-the-url-for-a-particular-year-and-month-is-shown-below-data-date-is-assigned-the-string-202509-you-can-assign-it-any-year-and-month-after-2022-as-of-november-3-2025-dates-prior-to-2022-will-be-moved-to-a-historical-page" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_date</span><span class="o">=</span><span class="s1">&#39;202509&#39;</span>
<span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://home.treasury.gov/resource-center/data-chart-center/</span><span class="se">\</span>
<span class="s1">interest-rates/daily-treasury-rates.csv/all/&#39;</span><span class="o">+</span><span class="n">data_date</span><span class="o">+</span><span class="s1">&#39;?</span><span class="se">\</span>
<span class="s1">type=daily_treasury_bill_rates&amp;field_tdr_date_value_month=+&#39;</span><span class="n">data_date</span><span class="s1">&#39;+&amp;page&amp;_format=csv&#39;</span>
</pre></div>
</div>
</section>
<section id="the-csv-file-is-descending-order-of-the-dates-the-first-row-is-for-september-30-th-and-is-displayed-with-iloc-0">
<h3>The csv file is descending order of the dates.  The first row is for September 30<span class="math notranslate nohighlight">\(^{th}\)</span> and is displayed with <font color='green'>iloc[0]</font><a class="headerlink" href="#the-csv-file-is-descending-order-of-the-dates-the-first-row-is-for-september-30-th-and-is-displayed-with-iloc-0" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Read the csv file from the U.S. Treasury website</span>
<span class="c1">#Construct the full file path.</span>
<span class="n">data_date</span><span class="o">=</span><span class="s1">&#39;202509&#39;</span>
<span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://home.treasury.gov/resource-center/data-chart-center/</span><span class="se">\</span>
<span class="s1">interest-rates/daily-treasury-rates.csv/all/&#39;</span><span class="o">+</span><span class="n">data_date</span><span class="o">+</span><span class="s1">&#39;?</span><span class="se">\</span>
<span class="s1">type=daily_treasury_bill_rates&amp;field_tdr_date_value_month=&#39;</span><span class="o">+</span><span class="n">data_date</span><span class="o">+</span><span class="s1">&#39;&amp;page&amp;_format=csv&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to load data from </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1">#Load the data from csv, using the Date column as the index.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Tbill_data_site</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
    <span class="c1"># display September 30, 2025 data</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Tbill_data_site</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="n">display</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ERROR: File not found.&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="s2">&quot;Please check that the &#39;URL&#39; address&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Attempting to load data from https://home.treasury.gov/resource-center/data-chart-center/interest-rates/daily-treasury-rates.csv/all/202509?type=daily_treasury_bill_rates&amp;field_tdr_date_value_month=202509&amp;page&amp;_format=csv
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>09/30/2025</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4 WEEKS BANK DISCOUNT</th>
      <td>4.05</td>
    </tr>
    <tr>
      <th>4 WEEKS COUPON EQUIVALENT</th>
      <td>4.12</td>
    </tr>
    <tr>
      <th>6 WEEKS BANK DISCOUNT</th>
      <td>4.02</td>
    </tr>
    <tr>
      <th>6 WEEKS COUPON EQUIVALENT</th>
      <td>4.10</td>
    </tr>
    <tr>
      <th>8 WEEKS BANK DISCOUNT</th>
      <td>4.00</td>
    </tr>
    <tr>
      <th>8 WEEKS COUPON EQUIVALENT</th>
      <td>4.08</td>
    </tr>
    <tr>
      <th>13 WEEKS BANK DISCOUNT</th>
      <td>3.86</td>
    </tr>
    <tr>
      <th>13 WEEKS COUPON EQUIVALENT</th>
      <td>3.95</td>
    </tr>
    <tr>
      <th>17 WEEKS BANK DISCOUNT</th>
      <td>3.83</td>
    </tr>
    <tr>
      <th>17 WEEKS COUPON EQUIVALENT</th>
      <td>3.93</td>
    </tr>
    <tr>
      <th>26 WEEKS BANK DISCOUNT</th>
      <td>3.72</td>
    </tr>
    <tr>
      <th>26 WEEKS COUPON EQUIVALENT</th>
      <td>3.84</td>
    </tr>
    <tr>
      <th>52 WEEKS BANK DISCOUNT</th>
      <td>3.53</td>
    </tr>
    <tr>
      <th>52 WEEKS COUPON EQUIVALENT</th>
      <td>3.68</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> float64</label></div></div>
</div>
</section>
<section id="application-downloading-treasury-data">
<h3><font color='blue'> <em><strong>Application: Downloading Treasury Data</strong></em></font><a class="headerlink" href="#application-downloading-treasury-data" title="Link to this heading">#</a></h3>
</section>
<section id="access-september-2024-t-bill-data-from-the-us-treasury-and-display-the-values-for-september-12-2024">
<h3><font color='blue'><em><strong>Access September 2024 T-Bill Data from the US Treasury and display the values for September 12, 2024.</strong></em><a class="headerlink" href="#access-september-2024-t-bill-data-from-the-us-treasury-and-display-the-values-for-september-12-2024" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Hints.html#download-data-for-september-2024-from-the-u-s-treasury-and-display-the-values-for-september-12-2024"><em><strong>Hint Download U.S. Treasury data September 2024</strong></em></a></p>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Results.html#download-data-for-september-2024-from-the-u-s-treasury-and-display-the-values-for-september-12-2024"><em><strong>Expected Results</strong></em></a></p>
</section>
</section>
<section id="using-the-csv-file-to-calculate-term-structure">
<h2><em><strong>Using the CSV File to Calculate Term Structure</strong></em><a class="headerlink" href="#using-the-csv-file-to-calculate-term-structure" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a list called &#39;desired_columns&#39; using a list comprehension.</span>
<span class="n">desired_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">Tbill_data_site</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;BANK&#39;</span> <span class="ow">in</span> <span class="n">column</span><span class="p">]</span>

<span class="c1"># Create a DataFrame named &#39;df_bankers_discount&#39;.</span>
<span class="n">df_bankers_discount</span> <span class="o">=</span> <span class="n">Tbill_data_site</span><span class="p">[</span><span class="n">desired_columns</span><span class="p">]</span>

<span class="c1"># Display the first 5 rows of the newly created &#39;df_bankers_discount&#39; DataFrame.</span>
<span class="n">df_bankers_discount</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-c3fa6e34-84dc-402f-b645-07c83c933f30" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>4 WEEKS BANK DISCOUNT</th>
      <th>6 WEEKS BANK DISCOUNT</th>
      <th>8 WEEKS BANK DISCOUNT</th>
      <th>13 WEEKS BANK DISCOUNT</th>
      <th>17 WEEKS BANK DISCOUNT</th>
      <th>26 WEEKS BANK DISCOUNT</th>
      <th>52 WEEKS BANK DISCOUNT</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>09/30/2025</th>
      <td>4.05</td>
      <td>4.02</td>
      <td>4.00</td>
      <td>3.86</td>
      <td>3.83</td>
      <td>3.72</td>
      <td>3.53</td>
    </tr>
    <tr>
      <th>09/29/2025</th>
      <td>4.06</td>
      <td>4.03</td>
      <td>4.00</td>
      <td>3.86</td>
      <td>3.83</td>
      <td>3.73</td>
      <td>3.52</td>
    </tr>
    <tr>
      <th>09/26/2025</th>
      <td>4.07</td>
      <td>4.03</td>
      <td>4.00</td>
      <td>3.87</td>
      <td>3.83</td>
      <td>3.74</td>
      <td>3.53</td>
    </tr>
    <tr>
      <th>09/25/2025</th>
      <td>4.08</td>
      <td>4.03</td>
      <td>4.01</td>
      <td>3.89</td>
      <td>3.84</td>
      <td>3.75</td>
      <td>3.54</td>
    </tr>
    <tr>
      <th>09/24/2025</th>
      <td>4.02</td>
      <td>4.02</td>
      <td>3.98</td>
      <td>3.87</td>
      <td>3.81</td>
      <td>3.72</td>
      <td>3.49</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c3fa6e34-84dc-402f-b645-07c83c933f30')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c3fa6e34-84dc-402f-b645-07c83c933f30 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c3fa6e34-84dc-402f-b645-07c83c933f30');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-7f97f910-ab3d-492d-9d07-4bad50b1601a">
      <button class="colab-df-quickchart" onclick="quickchart('df-7f97f910-ab3d-492d-9d07-4bad50b1601a')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-7f97f910-ab3d-492d-9d07-4bad50b1601a button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The .to_numpy() method strips away the pandas Index and column headers,</span>
<span class="c1"># leaving only the raw data values in a highly efficient array format.</span>
<span class="n">bankers_discount</span><span class="o">=</span><span class="n">df_bankers_discount</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

<span class="c1"># --- Verification Step: Display the First 5 Rows of the New Array ---</span>
<span class="c1"># After a data type conversion, it is good practice to inspect the result.</span>
<span class="n">bankers_discount</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[4.05, 4.02, 4.  , 3.86, 3.83, 3.72, 3.53],
       [4.06, 4.03, 4.  , 3.86, 3.83, 3.73, 3.52],
       [4.07, 4.03, 4.  , 3.87, 3.83, 3.74, 3.53],
       [4.08, 4.03, 4.01, 3.89, 3.84, 3.75, 3.54],
       [4.02, 4.02, 3.98, 3.87, 3.81, 3.72, 3.49]])
</pre></div>
</div>
</div>
</div>
<section id="id2">
<h3><em><strong>Going from Bankers Discounts to Zero Prices</strong></em><a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maturity_days</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">13</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">17</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">26</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span><span class="mi">52</span><span class="o">*</span><span class="mi">7</span><span class="p">])</span> <span class="c1">#Maturity in days calculated</span>
<span class="c1">#The price formula divides maturity days by 360 to annualize</span>
<span class="c1">#Then divides by 100 to convert to a bill paying one dollar.</span>
<span class="n">zero_prices_one</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="o">-</span><span class="n">bankers_discount</span><span class="o">*</span><span class="n">maturity_days</span><span class="o">/</span><span class="mi">360</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span>
<span class="c1">#NumPy performs element by element calculations: a calculation for each</span>
<span class="c1">#value of maturity_days with the corresponding value of bankers_discount</span>
<span class="n">zero_prices_one</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>   <span class="c1">#Display first 5 rows (each row is a trading day for Sept 2025)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.99685   , 0.99531   , 0.99377778, 0.99024278, 0.98733972,
        0.98119333, 0.96430778],
       [0.99684222, 0.99529833, 0.99377778, 0.99024278, 0.98733972,
        0.98114278, 0.96440889],
       [0.99683444, 0.99529833, 0.99377778, 0.9902175 , 0.98733972,
        0.98109222, 0.96430778],
       [0.99682667, 0.99529833, 0.99376222, 0.99016694, 0.98730667,
        0.98104167, 0.96420667],
       [0.99687333, 0.99531   , 0.99380889, 0.9902175 , 0.98740583,
        0.98119333, 0.96471222]])
</pre></div>
</div>
</div>
</div>
</section>
<section id="id3">
<h3><em><strong>Spot Rates</strong></em><a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spot_rates</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">zero_prices_one</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">maturity_days</span><span class="o">/</span><span class="mi">365</span><span class="p">)</span> <span class="c1">#Maturity_days divided by 365</span>
<span class="n">spot_rates</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="c1">#Display first 5 rows (last 5 trading days of Sept 2025)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.04112731, 0.04085421, 0.04068225, 0.03932829, 0.03907985,
        0.03807584, 0.03644461],
       [0.04122902, 0.04095608, 0.04068225, 0.03932829, 0.03907985,
        0.03817917, 0.03633948],
       [0.04133073, 0.04095608, 0.04068225, 0.03943068, 0.03907985,
        0.03828251, 0.03644461],
       [0.04143244, 0.04095608, 0.04078428, 0.03963547, 0.03918254,
        0.03838586, 0.03654976],
       [0.04082219, 0.04085421, 0.04047821, 0.03943068, 0.03887448,
        0.03807584, 0.03602413]])
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h3><em><strong>Forward Rates</strong></em><a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">forward_rates</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">zero_prices_one</span><span class="p">))</span><span class="o">*</span><span class="mi">365</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">maturity_days</span><span class="p">)</span> <span class="c1">#Sign switched</span>
<span class="n">forward_rates</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">forward_rates</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#NumPy nan inserted for first month</span>
<span class="n">forward_rates</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[       nan, 0.04030802, 0.04016638, 0.03716195, 0.03827242,
        0.03617937, 0.03481338],
       [       nan, 0.0404102 , 0.03986078, 0.03716195, 0.03827242,
        0.0364779 , 0.03449978],
       [       nan, 0.04020678, 0.03986078, 0.03742816, 0.03793965,
        0.03677644, 0.03460671],
       [       nan, 0.04000335, 0.04026888, 0.03779737, 0.03771053,
        0.03688102, 0.03471366],
       [       nan, 0.04091826, 0.03935021, 0.03775464, 0.03706682,
        0.0365673 , 0.03397243]])
</pre></div>
</div>
</div>
</div>
</section>
<section id="id5">
<h3><em><strong>Preparing the Notebook</strong></em><a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">parent</span><span class="p">,</span><span class="n">folder</span><span class="p">,</span><span class="n">subfolder</span><span class="o">=</span><span class="n">parent_folder_subfolder</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<h3 class="rubric" id="parent-directory-content-drive-mydrive"><strong>✅ Parent Directory…/content/drive/MyDrive</strong></h3>
<h3 class="rubric" id="no-folder"><strong>❌ No  Folder</strong></h3>
<h3 class="rubric" id="no-subfolder"><strong>❌ No Subfolder</strong></h3>
</div>
</div>
</section>
</section>
<section id="id6">
<h2><em><strong>Graphing the Term Structure</strong></em><a class="headerlink" href="#id6" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">save_config</span><span class="o">=</span><span class="p">{}</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">save_config[&#39;Parent&#39;]=parent</span>
<span class="sd">save_config[&#39;Folder&#39;]=folder</span>
<span class="sd">save_config[&#39;Subfolder&#39;]=subfolder</span>
<span class="sd">save_config[&#39;File&#39;]=&#39;T-Bill Term Structure: 9-15-2022.pdf&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<section id="graphing-the-spot-and-forward-rates-for-september-30-2025">
<h3><em><strong>Graphing the Spot and Forward Rates for September 30, 2025</strong></em><a class="headerlink" href="#graphing-the-spot-and-forward-rates-for-september-30-2025" title="Link to this heading">#</a></h3>
<section id="the-september-2022-t-bill-data-had-five-maturity-dates-the-september-2025-data-has-two-additional-dates-6-weeks-and-17-weeks-in-the-following-code-the-x-axis-is-set-at-the-seven-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2025-and-the-data-for-september-30-2025-is-plotted">
<h4>The September 2022 T-Bill data had five maturity dates.  The September 2025 data has two additional dates: ‘6 WEEKS’ and ‘17 WEEKS’. In the following code, the <em>x</em>-axis is set at the seven maturities of the bills in months. Forward and spot rates are calculated for the month of September 2025, and the data for September 30, 2025, is plotted.<a class="headerlink" href="#the-september-2022-t-bill-data-had-five-maturity-dates-the-september-2025-data-has-two-additional-dates-6-weeks-and-17-weeks-in-the-following-code-the-x-axis-is-set-at-the-seven-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2025-and-the-data-for-september-30-2025-is-plotted" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xaxis</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;One&#39;</span><span class="p">,</span><span class="s1">&#39;One &amp; Half&#39;</span><span class="p">,</span><span class="s1">&#39;Two&#39;</span><span class="p">,</span><span class="s1">&#39;Three&#39;</span><span class="p">,</span><span class="s1">&#39;Four&#39;</span><span class="p">,</span><span class="s1">&#39;Six&#39;</span><span class="p">,</span><span class="s1">&#39;Twelve&#39;</span><span class="p">]</span>
<span class="n">string_date</span><span class="o">=</span><span class="s1">&#39;09/15/2022&#39;</span>
</pre></div>
</div>
</section>
<section id="the-first-row-of-spot-rates-and-forward-rates-correspond-to-september-30-the-spot-and-forward-rate-rows-for-september-30-2025-are-then-multiplied-by-100-and-assigned-to-the-list-data">
<h4>The first row of spot_rates and forward_rates correspond to September 30.The spot- and forward-rate rows for September 30, 2025, are then multiplied by 100 and assigned to the list <font color='green'>data</font>.<a class="headerlink" href="#the-first-row-of-spot-rates-and-forward-rates-correspond-to-september-30-the-spot-and-forward-rate-rows-for-september-30-2025-are-then-multiplied-by-100-and-assigned-to-the-list-data" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">spot_rates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="n">forward_rates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id7">
<h4>The plot title is assigned whatever value is assigned to <font color='green'>save_config[‘File Name’]</font> (minus the PDF extension).<a class="headerlink" href="#id7" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>                    
  <span class="n">title</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;File&#39;</span><span class="p">])</span>              
<span class="k">except</span><span class="p">:</span>
  <span class="n">title</span><span class="o">=</span><span class="s1">&#39;September 30, 2025&#39;</span>
</pre></div>
</div>
</section>
<section id="id8">
<h4>Series names, labels, and markers are then assigned.<a class="headerlink" href="#id8" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Spot Rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Forward Rate&#39;</span><span class="p">]</span>
<span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;Continuous Compounded Annualized % Rates&#39;</span>
<span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;Maturity In Months&#39;</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">%</span><span class="mi">2</span><span class="o">+</span><span class="mf">0.001</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-inches-wide-and-6-inches-tall-10-6-and-red-and-blue-respectively">
<h4>The upper limit of the <em>y</em>-axis is assigned to <font color='green'>upper</font> and calculated from the maximum value of the spot and forward rates. The NumPy method <font color='green'>nanmax()</font> ignores <font color='green'>nan</font> values. The maximum of <font color='green'>nanmax()</font> of spot rates (<font color='green'>data[0]</font>) and forward rates (<font color='green'>data[1]</font>) plus 0.5% are assigned to <font color='green'>upper </font>. The lower limit is set to 0, and the size and colors of the lines are set as 10 inches wide and 6 inches tall (10,6) and red and blue, respectively.<a class="headerlink" href="#the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-inches-wide-and-6-inches-tall-10-6-and-red-and-blue-respectively" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lower</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">upper</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="o">+</span> <span class="mf">0.5</span>
<span class="n">ylim</span> <span class="o">=</span> <span class="p">[</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">]</span>
<span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-3">
<h4>Finally, the graph is generated and saved with <font color='green'>one_y_axis()</font> (see <strong>Figure 3</strong>).<a class="headerlink" href="#finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-3" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">one_y_axis</span><span class="p">(</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">series</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">,</span> <span class="n">markers</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">ylim</span><span class="p">,</span>
           <span class="n">save_config</span><span class="o">=</span><span class="n">save_config</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the labels for the x-axis, representing different maturities.</span>
<span class="n">xaxis</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;One&#39;</span><span class="p">,</span><span class="s1">&#39;One &amp; Half&#39;</span><span class="p">,</span> <span class="s1">&#39;Two&#39;</span><span class="p">,</span> <span class="s1">&#39;Three&#39;</span><span class="p">,</span><span class="s1">&#39;Four&#39;</span><span class="p">,</span> <span class="s1">&#39;Six&#39;</span><span class="p">,</span> <span class="s1">&#39;Twelve&#39;</span><span class="p">]</span>

<span class="c1"># Define the specific date for which the term structure will be plotted.</span>
<span class="n">string_date</span> <span class="o">=</span> <span class="s1">&#39;09/30/2022&#39;</span>


<span class="c1"># Prepare the data to be plotted on the y-axis (as %).</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">spot_rates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">forward_rates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">]</span>

<span class="c1"># Attempt to extract the plot title from the file name.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">save_config</span><span class="p">[</span><span class="s1">&#39;File&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1">#&#39;File Name&#39; key not found or string is too short), set a default title.</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;September 30, 2025&#39;</span>

<span class="c1"># Define the names for the data series that will appear in the plot&#39;s legend.</span>
<span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Spot Rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Forward Rate&#39;</span><span class="p">]</span>

<span class="c1"># Define the label for the y-axis.</span>
<span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;Continuous Compounded Annualized % Rates&#39;</span>

<span class="c1"># Define the label for the x-axis.</span>
<span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;Maturity In Months&#39;</span>

<span class="c1">#&#39;data&#39; contains two series (spot and forward rates).</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Define markers for the plot.</span>
<span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">%</span><span class="k">2</span>+0.001)

<span class="c1"># Define the lower bound for the y-axis.</span>
<span class="n">lower</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Define the upper bound for the y-axis.</span>
<span class="c1"># considering NaN values (not a number) and adds a small buffer (0.5) for padding.</span>
<span class="n">upper</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="o">+</span> <span class="mf">0.5</span>

<span class="c1"># Define the y-axis limits (minimum and maximum values).</span>
<span class="n">ylim</span> <span class="o">=</span> <span class="p">[</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">]</span>

<span class="c1"># Define the size of the plot (width, height) in inches.</span>
<span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="c1"># Define colors as red and blue</span>
<span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="c1"># This function generates and possibly saves a plot.</span>
<span class="n">one_y_axis</span><span class="p">(</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">series</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">,</span> <span class="n">markers</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">ylim</span><span class="p">,</span>
           <span class="n">save_config</span><span class="o">=</span><span class="n">save_config</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c0d0c9eaca256d4eba3107c4d5345aab380a0015a3e8607a32e2d09025851451.png" src="_images/c0d0c9eaca256d4eba3107c4d5345aab380a0015a3e8607a32e2d09025851451.png" />
</div>
</div>
</section>
</section>
<section id="python-pandas-numpy-and-financial-insights">
<h3><em><strong>Python, Pandas, NumPy And Financial Insights</strong></em><a class="headerlink" href="#python-pandas-numpy-and-financial-insights" title="Link to this heading">#</a></h3>
<section id="using-pandas-and-numpy-the-term-structure-of-interest-rates-was-calculated-for-september-15-th-2022-and-september-30-th-2025-these-term-structures-reveal-an-economy-in-transition-on-september-15-th-2022-rates-were-increasing-with-maturity-and-expected-to-continue-rising-by-september-30-th-2025-the-pattern-had-shifted-although-the-overall-level-of-rates-was-higher-on-september-30-th-2025-the-term-structure-showed-a-slight-downward-slope-these-differences-indicate-two-different-economic-states-inflation-was-expected-to-increase-in-september-2022-but-not-in-september-2025-the-ability-to-calibrate-the-term-structure-of-interest-rates-in-this-way-highlights-the-utility-of-python-and-its-rich-ecosystem-of-libraries">
<h4>Using Pandas and NumPy, the term structure of interest rates was calculated for September 15<span class="math notranslate nohighlight">\(^{th}\)</span> 2022, and September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025. These term structures reveal an economy in transition. On September 15<span class="math notranslate nohighlight">\(^{th}\)</span> 2022, rates were increasing with maturity and expected to continue rising. By September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025 the pattern had shifted. Although the overall level of rates was higher on September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025, the term structure showed a slight downward slope. These differences indicate two different economic states: inflation was expected to increase in September 2022 but not  in September 2025. The ability to calibrate the term structure of interest rates in this way highlights the utility of Python and its rich ecosystem of libraries.<a class="headerlink" href="#using-pandas-and-numpy-the-term-structure-of-interest-rates-was-calculated-for-september-15-th-2022-and-september-30-th-2025-these-term-structures-reveal-an-economy-in-transition-on-september-15-th-2022-rates-were-increasing-with-maturity-and-expected-to-continue-rising-by-september-30-th-2025-the-pattern-had-shifted-although-the-overall-level-of-rates-was-higher-on-september-30-th-2025-the-term-structure-showed-a-slight-downward-slope-these-differences-indicate-two-different-economic-states-inflation-was-expected-to-increase-in-september-2022-but-not-in-september-2025-the-ability-to-calibrate-the-term-structure-of-interest-rates-in-this-way-highlights-the-utility-of-python-and-its-rich-ecosystem-of-libraries" title="Link to this heading">#</a></h4>
</section>
</section>
<section id="summarizing-key-points">
<h3><em><strong>Summarizing Key Points</strong></em><a class="headerlink" href="#summarizing-key-points" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><em><strong>The present value function describes all bonds as a portfolio of zero-coupon bonds.</strong></em></p></li>
<li><p><em><strong>Data was accessed directly from the Treasury as a CSV file and assigned to a Pandas Dataframe.</strong></em></p></li>
<li><p><em><strong>The term structure of interest rates describes the behavior of spot and forward interest rates.</strong></em></p></li>
<li><p><em><strong>The term structure of interest rates was calculated with T-bills for September 2022.</strong></em></p></li>
<li><p><em><strong>The term structure was graphed for September 15, 2022 and September 30, 2025.</strong></em></p></li>
</ul>
</section>
</section>
<section id="exercise-using-the-september-12-2024-data">
<h2><em><strong><font color='blue'>Exercise:  Using the September 12, 2024, data</strong></em></font><a class="headerlink" href="#exercise-using-the-september-12-2024-data" title="Link to this heading">#</a></h2>
<ol class="arabic">
<li><h3 class="rubric" id="calculate-spot-and-forward-rates"><font color='blue'><em><strong>Calculate spot and forward rates.</strong></em></font></h3>
</li>
<li><h3 class="rubric" id="plot-the-spot-and-forward-rates"><font color='blue'><em><strong>Plot the spot and forward rates.</strong></em></font></h3>
</li>
</ol>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Hints.html#chapter-one-exercise"><em><strong>Hints</strong></em></a></p>
<p><a class="reference external" href="https://patrickjhess.github.io/Hints-Results/Chapter_One_Results.html#chapter-one-exercise"><em><strong>Expected Results</strong></em></a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "PatrickJHess/Volume-Three-CHapter-One",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Basic Bond Concepts and the Term Structure of Interest Rates</p>
      </div>
    </a>
    <a class="right-next"
       href="imported_functions.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Functions Imported By the Volume <em>Basic Concepts Of Fixed Income</em></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-road-map"><em><strong>A Road Map</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chapter-one-uses-the-libraries-pandas-and-numpy-the-basic-usage-of-these-libraries-are-discussed-in-two-separate-notebooks-the-notebook-a-quick-introduction-to-pandas-reviews-some-basic-concepts-of-pandas-the-notebook-a-quick-introduction-to-numpy-does-the-same-for-numpy">Chapter One uses the libraries Pandas and NumPy. The basic usage of these libraries are<br/> discussed in two separate notebooks.  The notebook A Quick Introduction To Pandas<br/> reviews some basic concepts of Pandas.  The notebook A Quick Introduction To NumPy<br/> does the same for NumPy.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-for-bonds-and-interest-rates"><em><strong>Python for Bonds and Interest Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-this-chapter-we-ll-explore-bond-calculations-and-interest-through-the-lens-of-numpy-and-python-dataframes-powerful-tools-for-engaging-bond-data-using-treasury-bill-data-we-ll-learn-how-to-create-dataframes-and-numpy-arrays-from-csv-files-excel-workbooks-all-our-data-is-accessed-with-external-urls-our-calculations-result-in-the-term-structure-of-interest-rates-on-two-different-data-the-chapter-concludes-with-an-exercise-in-which-you-practice-calculating-and-graphin-the-term-structure-of-interest-rates-on-your-own">In this chapter, we’ll explore bond calculations and interest through the lens of NumPy And Python DataFrames. Powerful tools for engaging bond data. Using Treasury bill data, we’ll learn how to create DataFrames and NumPy arrays from CSV files, Excel workbooks. All our data is accessed with external URLs. Our calculations result in the term structure of interest rates on two different data. The chapter concludes with an exercise in which you practice calculating and graphin the term structure of interest rates on your own.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-bond-pricing"><em><strong>Introduction to Bond Pricing</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-chapter-will-introduce-some-fundamental-principles-of-fixed-income-these-principles-include-pricing-coupon-bonds-as-a-portfolio-of-zero-coupon-bonds-the-term-structure-of-interest-rates-and-the-relation-between-spot-and-forward-rates-of-interest">This chapter will introduce some fundamental principles of fixed income. These principles include pricing coupon bonds as a portfolio of zero-coupon bonds, the term structure of interest rates, and the relation between spot and forward rates of interest.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-present-value-of-a-bond"><em><strong>The Present Value of a Bond</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#chapter-two-of-basic-financial-and-python-concepts-asserted-that-the-value-of-an-asset-with-certain-cash-flows-equals-the-present-value-of-its-cash-flows-as-shown-in-the-following-equation">Chapter Two of <em>Basic Financial and Python Concepts</em> asserted that the value of an asset with certain cash flows equals the present value of its cash flows, as shown in the following equation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#where-t-is-the-total-number-of-cash-flow-periods-and-pv-t-is-the-present-value-factor-for-a-certain-cash-flow-in-period-t">where <span class="math notranslate nohighlight">\(\ T\)</span> is the total number of cash flow periods, and <span class="math notranslate nohighlight">\(\ PV(t)\)</span> is the present-value factor for a certain cash flow in period <span class="math notranslate nohighlight">\(t\)</span>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-finance-equating-value-with-present-value-is-ubiquitous-and-seems-unworthy-of-much-thought-it-is-however-a-powerful-statement-that-value-depends-upon-the-ability-to-replicate-an-asset-with-other-assets-namely-if-an-asset-s-cash-flow-dates-and-amounts-can-be-replicated-by-another-asset-or-combinations-of-assets-the-values-must-be-equal-you-might-call-this-idea-the-law-of-one-pricea-concept-that-is-key-in-all-pricing-models">In finance, equating value with present value is ubiquitous and seems unworthy of much thought. It is, however, a powerful statement that value depends upon the ability to replicate an asset with other assets. Namely, if an asset’s cash flow dates and amounts can be replicated by another asset or combinations of assets, the values must be equal. You might call this idea the <em><strong>law of one price</strong></em>—a concept that is key in all pricing models.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#coupon-bonds-and-zero-coupon-bonds"><em><strong>Coupon Bonds and Zero-Coupon Bonds</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#most-bonds-but-not-all-pay-fixed-coupons-in-each-period-and-principal-at-their-maturity-the-values-of-coupon-bonds-are-calculated-as">Most bonds, but not all, pay fixed coupons in each period and principal at their maturity. The values of coupon bonds are calculated as:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#some-bonds-only-repay-principal-at-maturity-or-t-because-there-are-no-periodic-coupon-payments-these-bonds-are-appropriately-known-as-zero-coupon-bonds-the-values-of-zero-coupon-bonds-are-calculated-as">Some bonds only repay principal at maturity, or <span class="math notranslate nohighlight">\(T\)</span>. Because there are no periodic coupon payments, these bonds are appropriately known as zero-coupon bonds. The values of zero-coupon bonds are calculated as:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-order-to-price-any-bond-it-s-necessary-to-know-the-present-value-of-payments-at-the-relevant-dates-if-the-zero-coupon-bond-values-are-known-for-the-relevant-dates-the-present-value-of-each-date-can-be-determined-to-do-so-divide-the-value-of-the-zero-coupon-bond-by-its-principal-as-shown-below">In order to price any bond, it’s necessary to know the present value of payments at the relevant dates. If the zero-coupon bond values are known for the relevant dates, the present value of each date can be determined. To do so, divide the value of the zero-coupon bond by its principal, as shown below:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#each-coupon-bond-cash-flow-is-equivalent-to-an-investment-in-a-zero-coupon-bond-as-such-we-can-replicate-a-coupon-bond-with-a-sequence-of-zero-coupon-bonds-the-number-of-zero-coupon-bonds-with-a-maturity-of-t-equals-the-coupon-bond-s-cash-flow-at-t-divided-by-the-zero-coupon-bond-s-principal-for-example-consider-a-40-coupon-that-is-paid-every-six-months-before-maturity-this-coupon-is-valued-with-a-sequence-of-0-04-zero-coupon-bonds-with-a-1-000-principal-and-maturities-matching-the-coupon-payment-dates-the-coupon-bond-s-payment-at-maturity-equals-1-040-zero-coupon-bonds-with-a-1-000-principal-and-the-same-maturity-as-the-coupon-bond">Each coupon-bond cash flow is equivalent to an investment in a zero-coupon bond. As such, we can replicate a coupon bond with a sequence of zero-coupon bonds: The number of zero-coupon bonds with a maturity of <span class="math notranslate nohighlight">\(t\)</span> equals the coupon bond’s cash flow at <span class="math notranslate nohighlight">\(t\)</span> divided by the zero-coupon bond’s principal. For example, consider a <span class="math notranslate nohighlight">\(\$40\)</span> coupon that is paid every six months before maturity. This coupon is valued with a sequence of 0.04 zero-coupon bonds, with a <span class="math notranslate nohighlight">\(\$1,000\)</span> principal and maturities matching the coupon payment dates. The coupon bond’s payment at maturity equals 1.040 zero-coupon bonds, with a <span class="math notranslate nohighlight">\(\$1,000\)</span> principal and the same maturity as the coupon bond.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#further-a-coupon-bond-s-value-is-the-sum-of-all-the-zero-coupon-bond-values-needed-to-replicate-that-bond-s-cash-flows-if-the-coupon-bond-and-the-zero-coupon-bonds-have-the-same-principal-and-all-the-coupon-payments-of-the-coupon-bond-are-equal-the-value-of-the-coupon-bond-is">Further, a coupon bond’s value is the sum of all the zero-coupon bond values needed to replicate that bond’s cash flows. If the coupon bond and the zero-coupon bonds have the same principal, and all the coupon payments of the coupon bond are equal, the value of the coupon bond is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#we-define-the-sum-as">We define the sum  as:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#and-the-value-of-the-fixed-coupon-bond-is-composed-of-two-components-equaling">And the value of the fixed-coupon bond is composed of two components equaling:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arbitrage-and-the-value-of-the-bond"><em><strong>Arbitrage and the Value of the Bond</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#thus-far-bond-values-have-been-represented-as-the-sum-of-the-zero-coupon-bonds-values-but-we-must-consider-the-zero-coupon-bonds-market-pricesnot-their-theoretical-values-will-the-value-relation-between-zero-coupon-and-coupon-bonds-hold-if-we-use-the-market-prices-of-zero-coupon-bonds-to-answer-that-question-let-s-look-at-examples-where-the-coupon-bond-is-worth-more-or-less-than-the-sum-of-the-zero-coupon-bonds-first-consider-a-case-where-the-coupon-bond-s-price-exceeds-the-sum-of-the-zero-coupon-bond-prices">Thus far, bond values have been represented as the sum of the zero-coupon bonds’ values. But we must consider the zero-coupon bonds’ <em>market prices</em>—not their “theoretical” values. Will the value relation between zero-coupon and coupon bonds hold if we use the market prices of zero-coupon bonds? To answer that question, let’s look at examples where the coupon bond is worth more or less than the sum of the zero-coupon bonds. First, consider a case where the coupon bond’s price exceeds the sum of the zero-coupon bond prices:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-the-price-of-the-coupon-bond-exceeds-the-sum-of-the-zero-coupon-bond-prices-the-coupon-bond-can-be-shorted-1-the-zero-coupon-bonds-can-then-be-purchased-with-the-proceeds-leaving-the-investor-with-identical-cash-flows-for-a-lower-price-consider-if-the-inequality-is-reversed">If the price of the coupon bond exceeds the sum of the zero-coupon bond prices, the coupon bond can be <em>shorted</em>.<span class="math notranslate nohighlight">\(^{1}\)</span> The zero-coupon bonds can then be purchased with the proceeds, leaving the investor with identical cash flows for a lower price. Consider if the inequality is reversed:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-this-case-the-zero-coupon-bonds-can-be-shorted-and-the-proceeds-can-be-used-to-buy-the-coupon-bond-this-ability-to-recreate-cash-flows-allows-for-arbitrage-between-zero-coupon-and-coupon-bonds-as-a-result-the-coupon-bond-prices-equal-the-costs-of-the-zero-coupon-bonds-used-to-recreate-their-cash-flows-it-is-the-law-of-one-price-in-action-whatever-the-bond-prices-might-have-been-in-theory-does-not-matter-those-prices-were-ideasthe-market-value-is-a-fact">In this case, the <em>zero-coupon bonds</em> can be shorted, and the proceeds can be used to buy the coupon bond. This ability to recreate cash flows allows for arbitrage between zero-coupon and coupon bonds; as a result, the coupon bond prices equal the costs of the zero-coupon bonds used to recreate their cash flows. It is the law of one price in action. Whatever the bond prices might have been in theory does not matter. Those prices were ideas—the market value is a fact.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-arbitrage-relationship-is-important-for-deriving-the-term-of-structure-of-interest-rates-and-forward-rates-which-we-ll-examine-later-in-this-chapter-these-concepts-are-key-to-understanding-bond-pricing-as-well-as-some-important-fixed-income-derivatives">This arbitrage relationship is important for deriving the <em>term of structure of interest rates</em> and <em>forward rates</em>, which we’ll examine later in this chapter. These concepts are key to understanding bond pricing as well as some important fixed-income derivatives.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-and-discrete-compounding"><em><strong>Continuous and Discrete Compounding</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-mathematical-and-computational-convenience-our-discussion-of-fixed-income-and-bond-pricing-will-use-continuously-compounded-interest-rates-at-times-it-s-appropriate-to-quote-interest-rates-as-discretely-compounded-rates-to-that-end-this-short-aside-demonstrates-the-conversion-between-continuously-and-discretely-compounded-rates">For mathematical and computational convenience, our discussion of fixed income and bond pricing will use continuously compounded interest rates. At times, it’s appropriate to quote interest rates as discretely compounded rates. To that end, this short aside demonstrates the conversion between continuously and discretely compounded rates.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#suppose-that-r-c-is-the-continuously-compounded-annual-interest-rate-for-t-periods-and-r-d-is-the-discretely-compounded-annual-rate-for-t-periods-when-compounded-d-times-per-year-the-conversion-of-continuously-and-discretely-compounded-rates-requires-that-the-same-values-are-realized-in-t-periods-shown-below">Suppose that <span class="math notranslate nohighlight">\(R_c\)</span> is the continuously compounded annual interest rate for <span class="math notranslate nohighlight">\(T\)</span> periods, and <span class="math notranslate nohighlight">\(R_d\)</span> is the discretely compounded annual rate for <span class="math notranslate nohighlight">\(T\)</span> periods when compounded <span class="math notranslate nohighlight">\(d\)</span> times per year. The conversion of continuously and discretely compounded rates requires that the same values are realized in <span class="math notranslate nohighlight">\(T\)</span> periods, shown below:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#e-is-euler-s-number-and-is-the-limit-of-1-frac-1-d-d-as-d-goes-to-infinity-or-continously-compounds-the-necessary-condition-is-expressed-as-an-annualized-interest-rate-by-taking-the-t-root-of-both-sides-of-the-equation"><span class="math notranslate nohighlight">\(e\)</span> is Euler’s number and is the limit of <span class="math notranslate nohighlight">\((1+\frac{1}{d})^{d}\)</span> as d goes to infinity or continously compounds.The necessary condition is expressed as an annualized interest rate by taking the <span class="math notranslate nohighlight">\(T\)</span> root of both sides of the equation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taking-natural-logs-of-the-previous-equation-derives-continuously-compounded-rates-from-discretely-compounded-rates">Taking natural logs of the previous equation derives continuously compounded rates from discretely compounded rates:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#finally-discretely-compounded-rates-can-be-derived-from-continuously-compounded-rates-by-dividing-both-sides-by-the-compounding-frequency-or">Finally, discretely compounded rates can be derived from continuously compounded rates by dividing both sides by the compounding frequency, or</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#and-raising-euler-s-number-e-to-both-sides-of-the-equation">and raising Euler’s number, <span class="math notranslate nohighlight">\(e\)</span>, to both sides of the equation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-instances-in-which-rate-conversion-is-necessary-the-above-methods-are-useful-knowledge-for-this-chapter-however-we-ll-focus-on-continuously-compounded-rates">For instances in which rate conversion is necessary, the above methods are useful knowledge; for this chapter, however, we’ll focus on continuously compounded rates.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-the-notebook"><em><strong>Preparing The Notebook</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-libraries-and-functions"><em><strong>Importing Libraries And Functions</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#it-s-good-practice-to-import-all-required-libraries-and-modules-in-the-first-code-cell-of-a-notebook-a-practice-followed-here-unless-attention-is-being-drawn-to-a-new-function-or-module-if-a-library-is-already-installed-it-s-imported-to-the-notebook-if-a-library-is-not-installed-it-is-installed-and-then-imported">It’s good practice to import all required libraries and modules in the first code cell of a notebook. A practice followed here unless attention is being drawn to a new function or module. If a library is already installed, it’s imported to the notebook.  If a library is not installed, it is installed  and then imported.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-standard-python-installation-includes-the-first-five-imports-os-sys-requests-types-and-datetime-os-and-sys-facilitate-interaction-with-the-operating-system-the-requests-module-enables-sending-and-retrieving-data-from-external-url-addresses-in-this-notebook-it-s-specifically-used-to-access-files-from-dropbox-the-types-module-creates-the-module-from-the-python-code-accessed-from-dropbox-finally-datetime-allows-for-the-creation-and-manipulation-of-date-objects">The standard Python installation includes the first five imports: (<font color="green">os, sys</font>, <font color="green">requests</font>, <font color="green">types</font>, and <font color="green">datetime</font>).  <font color="green">os</font> and <font color="green">sys</font>  facilitate interaction with the operating system.  The <font color="green">requests</font> module enables sending and retrieving data from external URL addresses; in this notebook, it’s specifically used to access files from DropBox. The <font color="green">types</font> module creates the module from the Python code accessed from DropBox.  Finally <font color="green">datetime</font> allows for the creation and manipulation of date objects.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-and-pandas-though-not-standard-python-libraries-are-pre-installed-in-colab-and-often-in-jupyter-notebooks-to-ensure-availability-a-try-and-except-block-is-used-for-importing-them-if-the-import-fails-the-libraries-are-then-installed-using-pip-the-exclamation-mark-indicates-that-pip-is-running-on-the-machine-s-console-rather-than-within-the-notebook-upon-successful-import-numpy-and-pandas-are-aliased-as-np-and-pd-2">NumPy and Pandas, though not standard Python libraries, are pre-installed in Colab and often in Jupyter notebooks. To ensure availability, a <font color="green">try </font> and <font color="green">except </font> block is used for importing them. If the import fails, the libraries are then installed using <font color="green">pip </font>. The exclamation mark indicates that <font color="green">pip </font> is running on the machine’s console rather than within the notebook. Upon successful import, NumPy and Pandas are aliased as <font color="green">np</font> and <font color="green">pd </font>.<span class="math notranslate nohighlight">\(^{2}\)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-a-custom-module-and-importing-functions"><em><strong>Adding a Custom Module and Importing Functions</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#now-that-we-ve-imported-our-main-modules-and-libraries-we-ll-access-a-custom-module-for-our-more-specific-functions-in-the-below-code-the-custom-module-module-basic-concepts-fixed-income-contains-functions-utilized-by-this-notebook-and-others-in-the-volume-basic-concepts-of-fixed-income-this-module-is-accessed-from-dropbox-using-requests-get">Now that we’ve imported our main modules and libraries, we’ll access a custom module for our more specific functions. In the below code, the custom module <font color="green">module_basic_concepts_fixed_income</font> contains functions utilized by this notebook and others in the volume <em>Basic Concepts of Fixed Income</em>. This module is accessed from Dropbox using <font color="green">requests.get()</font>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#you-have-the-flexibility-to-choose-the-module-name-in-this-instance-module-basic-concepts-fixed-income-is-assigned-to-module-name-dropbox-provides-the-url-for-access-the-module-is-instantiated-with-moduletype-which-we-imported-earlier-using-the-chosen-module-name-once-created-the-module-becomes-accessible-in-the-notebook-s-memory-though-it-is-not-added-to-a-drive">You have the flexibility to choose the module name; in this instance, <font color="green">module_basic_concepts_fixed_income</font> is assigned to <font color="green">module_name</font>. Dropbox provides the URL for access. The module is instantiated with <font color="green">ModuleType</font> (which we imported earlier) using the chosen <font color="green">module_name</font>. Once created, the module becomes accessible in the Notebook’s memory, though it is not added to a drive.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-exec-function-below-executes-the-python-code-returned-by-requests-get-it-assigns-functions-and-variables-to-sys-module-module-name-this-makes-the-module-available-for-use-in-the-notebook">The <font color="green">exec()</font> function below executes the Python code returned by <font color="green">requests.get()</font>. It assigns functions and variables to <font color="green">sys.module[module_name]</font>. This makes the module available for use in the Notebook.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#we-ll-then-import-two-functions-from-the-module-parent-folder-subfolder-and-one-y-axis-the-former-determines-locations-for-saving-and-accessing-files-and-can-be-viewed-on-the-page-parent-folder-subfolder-is-a-helper-function-for-saving-files-created-by-financial-python-the-latter-plots-calculation-results-and-can-be-vuewed-on-the-page-one-y-axis-is-a-helper-function-for-plotting-graphs-created-by-financial-python">We’ll then import two functions from the module: <font color="green">parent_folder_subfolder</font> and <font color="green">one_y_axis</font>. The former determines locations for saving and accessing files and can be viewed on the page <em>parent_folder_subfolder is a helper function for saving files created by Financial Python</em>. The latter plots calculation results and can be vuewed on the page <em>one-y-axis is a helper function for plotting graphs created by Financial Python</em></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#our-now-complete-code-is-shown-in-the-cell-below">Our now-complete code is shown in the cell below.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-arrays"><em><strong>NumPy Arrays</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-numpy-library-offers-efficient-numerical-procedures-that-simplify-complex-calculations-3-the-fundamental-object-in-this-library-is-the-numpy-array-an-array-is-simply-a-data-structure-in-which-elements-are-arranged-and-accessed-it-can-be-formed-from-a-single-value-or-from-an-iterable-data-type-like-a-list-which-holds-a-series-of-values-4-numpy-must-be-imported-before-use-recall-that-in-this-notebook-it-was-imported-and-aliased-as-np-in-the-first-code-cell-the-array-method-is-used-to-convert-variables-into-numpy-arrays-5-the-following-code-creates-an-array-from-the-list-3-5-7-lists-are-stylized-with-square-brackets-and-assigns-that-array-to-interest-rates-this-is-then-passed-to-display-which-simply-displays-the-contents-of-interest-rates">The NumPy library offers efficient numerical procedures that simplify complex calculations.<span class="math notranslate nohighlight">\(^{3}\)</span> The fundamental object in this library is the NumPy array. An array is simply a data structure in which elements are arranged and accessed. It can be formed from a single value or from an iterable data type like a list, which holds a series of values.<span class="math notranslate nohighlight">\(^{4}\)</span> NumPy must be imported before use; recall that in this Notebook, it was imported and aliased as <font color="green">np</font> in the first code cell. The <font color="green">array()</font> method is used to convert variables into NumPy arrays.<span class="math notranslate nohighlight">\(^{5}\)</span> The following code creates an array from the list <font color="green">[3%, 5%, 7%]</font> (lists are stylized with square brackets) and assigns that array to <font color="green">interest_rates</font>. This is then passed to <font color="green">display()</font>, which simply displays the contents of <font color="green">interest_rates</font>.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-calculations"><em><strong>NumPy Calculations</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#now-that-we-ve-created-an-array-and-assigned-it-to-interest-rates-we-can-perform-calculations-on-that-array-numpy-calculates-array-elements-individually-for-instance-the-exp-method-used-below-raises-each-element-of-interest-rates-to-euler-s-number-e-this-approach-is-faster-and-more-convenient-than-iterating-through-the-rates">Now that we’ve created an array and assigned it to <font color="green">interest_rates</font>, we can perform calculations on that array. NumPy calculates array elements individually. For instance, the <font color="green">exp()</font> method used below raises each element of <font color="green">interest_rates</font> to Euler’s number, <span class="math notranslate nohighlight">\(e\)</span>. This approach is faster and more convenient than iterating through the rates.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-create-a-numpy-array"><font color="blue"><em><strong>Application: Create a NumPy Array</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-numpy-array-of-the-present-value-factors-for-the-rates-of-interest-rates"><font color="blue"><em><strong>Create a NumPy array of the present value factors for the rates of</strong></em> <font color="green"><em><strong>interest_rates</strong></em></font></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#two-dimensional-numpy-arrays"><em><strong>Two-Dimensional Numpy Arrays</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pv-rates-array-a-two-dimensional-numpy-array-or-matrix-is-created-by-combining-two-one-dimensional-arrays-interest-rates-and-pv-factors-within-the-array-method-to-access-the-rows-of-this-two-dimensional-array-use-the-corresponding-row-index-value-both-the-interest-rates-and-present-value-factors-rows-are-displayed-using-f-strings-that-begins-with-an-f-and-enclose-the-string-and-variable-in-quotes-the-variable-must-also-be-encapsulated-in-curly-brackets">The <font color="green">pv_rates</font> array, a two-dimensional NumPy array (or matrix), is created by combining two one-dimensional arrays: <font color="green">interest_rates</font> and <font color="green">pv_factors</font> within the <font color="green">array()</font> method. To access the rows of this two-dimensional array, use the corresponding row index value. Both the interest rates and present value factors rows are displayed using f-strings that begins with an ‘f’ and enclose the string and variable in quotes.  The variable must also be encapsulated in curly brackets.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-manipulate-a-two-dimensional-array"><font color="blue"><em><strong>Application: Manipulate a Two-Dimensional Array</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-two-dimensional-array-by-raising-the-interest-rate-row-to-euler-s-number-and-multiplying-the-results-by-the-present-value-factors"><font color="blue"><em><strong>Create a two-dimensional array by raising the interest-rate row to Euler’s number and multiplying the results by the present value factors.</strong></em></font></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-pandas-dataframe-from-numpy-arrays"><em><strong>Creating A Pandas DataFrame From NumPy Arrays</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-simple-example"><em><strong>The Simple Example</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-pandas-dataframe-organizes-data-into-rows-and-columns-much-like-a-spreadsheet-or-a-numpy-array-it-can-be-created-from-a-two-dimensional-array-such-as-pv-rates-the-simplest-dataframes-automatically-assign-row-and-column-index-values-a-more-functional-approach-allows-for-explicit-naming-of-both-in-this-simple-example-the-dataframe-method-of-pandas-uses-three-arrays-as-arguments-generating-a-row-for-each-array">A Pandas DataFrame organizes data into rows and columns, much like a spreadsheet or a NumPy array. It can be created from a two-dimensional array, such as <font color="green">pv-rates</font>. The simplest DataFrames automatically assign row and column index values, a more functional approach allows for explicit naming of both. In this simple example, the <font color="green">DataFrame()</font> method of Pandas uses three arrays as arguments, generating a row for each array.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-create-a-dataframe-from-a-two-dimensional-array"><font color="blue"><em><strong>Application: Create a DataFrame from a Two-Dimensional Array</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-dataframe-with-the-two-dimensional-array-pv-rates"><font color="blue"><em><strong>Create a DataFrame with the two-dimensional array</strong></em></font> <font color="green"><em><strong>pv_rates</strong></em></font>.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#making-rows-into-columns-and-labeling-the-columns"><em><strong>Making Rows into Columns and Labeling the Columns</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-the-below-code-rows-are-converted-to-columns-by-using-the-transpose-method-on-our-earlier-dataframe-simple-example-this-method-changes-the-rows-into-columns-6-the-transposed-result-is-then-assigned-to-rows-to-columns-and-the-columns-are-then-assigned-the-elements-of-a-list-rates-future-value-present-value-transposing-the-dataframe-makes-rates-future-value-and-present-value-the-variables-and-the-rows-the-observations-of-the-variables">In the below code, rows are converted to columns by using the <font color="green">transpose()</font> method on our earlier DataFrame, <font color="green">simple_example</font>. This method changes the rows into columns.<span class="math notranslate nohighlight">\(^{6}\)</span> The transposed result is then assigned to <font color="green">rows_to_columns</font>, and the columns are then assigned the elements of a list (<font color="green">[‘Rates’, ‘Future Value’, ‘Present Value’]</font>).  Transposing the DataFrame makes <font color="green">’Rates’</font>, <font color="green">’Future Value’</font>, and <font color="green">’Present Value’</font> the variables and the rows the observations of the variables.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-set-index-method"><em><strong>The set_index() Method</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#once-the-dataframe-has-been-transposed-the-next-step-is-to-make-the-rates-column-the-index-you-might-wonder-why-it-makes-sense-the-reason-is-that-the-values-of-rates-determine-the-values-of-the-columns-future-value-and-present-value-this-change-isn-t-necessary-but-it-draws-our-eye-to-a-natural-connection-instead-of-an-index-that-only-points-to-a-row-number-the-new-index-points-to-the-rate-that-causes-the-future-and-present-values">Once the DataFrame has been transposed, the next step is to make the <font color="green">Rates</font> column the index.  You might wonder why it makes sense?  The reason is that the values of <font color="green">Rates</font> determine the values of the columns <font color="green">Future Value</font> and <font color="green">Present Value</font>.  This change isn’t necessary, but it draws our eye to a natural connection.  Instead of an index that only points to a row number, the new index points to the rate that causes the future and present values.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-method-set-index-takes-a-column-name-and-removes-the-column-from-the-dataframe-pandas-has-a-builtin-fail-safe-switch-by-default-this-change-and-others-we-will-encounter-later-does-not-permanently-alter-the-dataframe-you-might-find-this-a-bit-strange-but-the-efficacy-avoids-mistakes-that-are-difficult-to-fix-to-make-the-change-permanent-you-assign-inplace-switch-true-7">The method <font color="green">set_index()</font> takes a column name and removes the column from the DataFrame. Pandas has a builtin <strong>fail-safe-switch</strong>. By default, this change (and others we will encounter later) does not permanently alter the DataFrame.  You might find this a bit strange, but the efficacy avoids mistakes that are difficult to fix. To make the change permanent you assign <font color="green">inplace</font> switch True.<span class="math notranslate nohighlight">\(^{7}\)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-of-interest-rates-putting-numpy-and-pandas-to-work"><em><strong>The Term Structure Of Interest Rates: Putting NumPy And Pandas To Work</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-of-interest-describes-how-interest-rates-vary-over-time-it-is-a-critical-financial-metric-reflected-in-the-pricing-or-valuation-of-almost-all-assets">The term structure of interest describes how interest rates vary over time. It is a critical financial metric reflected in the pricing or valuation of almost all assets.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-and-pandas-are-powerful-tools-that-greatly-simplify-the-manipulation-and-calculation-of-extensive-and-complex-financial-data-we-will-explore-their-application-in-calculating-the-term-structure-of-interest-rates-on-various-dates-a-process-that-requires-accessing-large-datasets-and-performing-numerous-calculations-these-libraries-are-essential-for-this-task">NumPy and Pandas are powerful tools that greatly simplify the manipulation and calculation of extensive and complex financial data. We will explore their application in calculating the term structure of interest rates on various dates, a process that requires accessing large datasets and performing numerous calculations. These libraries are essential for this task.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-of-interest-rates"><em><strong>The Term Structure of Interest Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-earlier-discussion-of-bond-pricing-described-the-price-of-a-zero-coupon-bond-as-its-maturity-value-times-the-present-value-factor-a-numpy-array-and-a-pandas-dataframe-included-interest-rates-future-values-and-present-value-factors-the-same-concepts-are-used-to-calculate-the-term-structure-of-interest-rates-term-structure">The earlier discussion of bond pricing described the price of a zero-coupon bond as its maturity value times the present value factor. A NumPy array and a Pandas DataFrame included interest rates, future values, and present value factors.  The same concepts are used to calculate the Term Structure Of Interest Rates (Term Structure).</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spot-rates-of-interest"><em><strong>Spot Rates Of Interest</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-term-structure-is-the-relation-between-the-annualized-interest-rates-of-zero-coupon-bonds-or-the-spot-rate-of-interest-and-the-bonds-maturities-the-price-of-a-zero-coupon-bond-with-a-maturity-of-t-and-a-principal-of-1-is">The Term Structure is the relation between the annualized interest rates of zero-coupon bonds, or the spot rate of interest, and the bonds’ maturities. The price of a zero-coupon bond with a maturity of <span class="math notranslate nohighlight">\(t\)</span> and a principal of $1 is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-annualized-continuously-compounded-interest-rate-of-the-t-period-zero-coupon-bond-is">The annualized continuously-compounded interest rate of the <span class="math notranslate nohighlight">\(t\)</span>-period zero-coupon bond is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#r-t-is-known-as-the-spot-rate-of-interest-for-t-periods"><span class="math notranslate nohighlight">\(r_t\)</span> is known as the spot rate of interest for <span class="math notranslate nohighlight">\(t\)</span> periods.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-a-zero-coupon-bond-pays-1-in-six-months-and-has-a-price-of-0-9753-the-continuously-compounded-annual-rate-of-interest-is">If a zero-coupon bond pays <span class="math notranslate nohighlight">\(\$1\)</span> in six months and has a price of $0.9753, the continuously-compounded annual rate of interest is:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forward-rates-of-interest"><em><strong>Forward Rates Of Interest</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-forward-rate-of-interest-represents-the-additional-return-gained-by-extending-an-investment-s-durationor-the-extra-earnings-from-investing-for-two-months-instead-of-one-when-two-bonds-offer-an-identical-single-payment-at-maturity-the-forward-rate-between-the-shorter-and-longer-maturities-is-determined-by-the-ratio-of-their-respective-prices">The forward rate of interest represents the additional return gained by extending an investment’s duration—or the extra earnings from investing for two months instead of one. When two bonds offer an identical single payment at maturity, the forward rate between the shorter and longer maturities is determined by the ratio of their respective prices.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-zero-coupon-bonds-with-a-principal-of-1-the-calculation-of-one-plus-the-forward-rate-between-t-and-t-delta-t-is">For zero-coupon bonds with a principal of <span class="math notranslate nohighlight">\(\$1\)</span>, the calculation of one plus the forward rate between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+\Delta t\)</span>  is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-continuously-compounded-annualized-forward-rate-between-t-and-t-delta-t-is">The continuously-compounded annualized forward rate between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+\Delta t\)</span> is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-forward-rates-can-be-locked-in-by-purchasing-the-zero-coupon-bond-that-matures-in-large-t-delta-t-periods-and-for-t-periods-borrowing-p-t-delta-t-today-at-the-rate-p-t-1-at-t-the-borrowing-is-repaid-and-at-t-delta-t-the-zero-coupon-matures-and-pays-one-dollar-the-borrowing-repayment-and-locked-in-rate-of-return-calculations-are-shown-below">The forward rates can be locked in by purchasing the zero-coupon bond that matures in <span class="math notranslate nohighlight">\(\large t+\Delta t\)</span> periods and for <span class="math notranslate nohighlight">\(t\)</span> periods, borrowing <span class="math notranslate nohighlight">\(P(t+\Delta t)\)</span> today at the rate <span class="math notranslate nohighlight">\(P(t)^{-1}.\)</span>  At <span class="math notranslate nohighlight">\(t\)</span>, the borrowing is repaid, and at <span class="math notranslate nohighlight">\(t +\Delta t\)</span>, the zero-coupon matures and pays one dollar. The borrowing, repayment, and locked-in rate-of-return calculations are shown below.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-continuously-compounded-annualized-locked-in-rate-of-return-equals">The continuously-compounded annualized locked-in rate of return equals:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-value-is-the-same-as-the-continuously-compounded-forward-rate-of-interest-between-t-and-t-delta-t">This value is the same as the continuously-compounded forward rate of interest between <span class="math notranslate nohighlight">\(t\)</span> and  <span class="math notranslate nohighlight">\(\ t+\Delta t\)</span>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#although-it-might-seem-obvious-that-the-locked-in-rate-of-return-and-the-forward-rate-are-equal-this-result-is-significant-imagine-an-investor-who-intends-to-invest-at-the-future-date-t-for-delta-t-periods-the-investor-can">Although it might seem obvious that the locked-in rate of return and the forward rate are equal, this result is significant. Imagine an investor who intends to invest at the future date <span class="math notranslate nohighlight">\(t\)</span> for <span class="math notranslate nohighlight">\(\Delta t\)</span> periods. The investor can</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-a-state-of-equilibrium-the-prices-of-zero-coupon-bonds-ensure-that-investors-are-indifferent-to-either-securing-a-spot-rate-immediately-or-deferring-investment-until-a-future-unknown-spot-rate-the-choice-between-rolling-over-a-short-term-investment-and-making-a-long-term-one-essentially-hinges-on-expectations-regarding-future-interest-rates-similar-to-the-odds-in-a-sports-wager-the-forward-rate-represents-a-fair-bet-value-for-these-future-unknown-spot-rates-thereby-making-investors-indifferent-to-the-duration-of-their-investment-although-forward-rates-forecast-future-spot-rates-the-forecasts-may-not-be-the-expected-values-8">In a state of equilibrium, the prices of zero-coupon bonds ensure that investors are indifferent to either securing a spot rate immediately or deferring investment until a future, unknown spot rate. The choice between rolling over a short-term investment and making a long-term one essentially hinges on expectations regarding future interest rates. Similar to the odds in a sports wager, the forward rate represents a fair-bet value for these future unknown spot rates, thereby making investors indifferent to the duration of their investment. Although forward rates forecast future spot rates, the forecasts may not be the expected values.<span class="math notranslate nohighlight">\(^{8}\)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-term-structure-of-interest-rates-with-treasury-bills"><em><strong>Calculating the Term Structure of Interest Rates with Treasury Bills</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-bills-or-t-bills-mature-in-a-year-or-less-and-make-a-single-principal-payment-at-maturity-in-this-section-we-ll-apply-the-python-concepts-we-ve-learned-so-far-to-t-bill-data-using-the-bills-to-demonstrate-the-term-structure-between-one-month-and-one-year-because-the-bills-make-a-single-payment-their-prices-are-determined-by-the-single-spot-rate-of-interest-at-maturity">Treasury bills, or T-bills, mature in a year or less and make a single principal payment at maturity. In this section, we’ll apply the Python concepts we’ve learned so far to T-bill data, using the bills to demonstrate the term structure between one month and one year. Because the bills make a single payment, their prices are determined by the single spot rate of interest at maturity.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-treasury-bill-data"><em><strong>Getting Treasury Bill Data</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-bill-data-is-available-from-the-us-department-of-the-treasury-treasury-at-the-department-s-daily-treasury-bill-rate-page-the-data-used-in-this-example-is-for-september-2022-and-was-uploaded-to-dropbox-as-an-excel-workbook">Treasury bill data is available from the US Department of the Treasury (Treasury) at the department’s <a href="https://home.treasury.gov/resource-center/data-chart-center/interest-rates/TextView?type=daily_treasury_bill_rates&amp;field_tdr_date_value_month=202509">”Daily Treasury Bill Rate”</a> page. The data used in this example is for September 2022 and was uploaded to DropBox as an Excel workbook.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-python-financial-concepts"><em><strong>The Python &amp; Financial Concepts</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#this-example-outlines-two-python-concepts-first-it-demonstrates-how-to-leverage-pandas-for-accessing-excel-workbooks-from-a-url-and-convert-them-into-dataframesa-highly-effective-skill-given-excel-s-widespread-use-the-pandas-method-is-read-excel-9-second-it-illustrates-data-manipulation-techniques-using-pandas-specifically-focusing-on-how-loc-iloc-and-get-indexer-are-used-to-retrieve-data-needed-for-calculations-10">This example outlines two Python concepts. First, it demonstrates how to leverage Pandas for accessing Excel workbooks from a URL and convert them into DataFrames—a highly effective skill given Excel’s widespread use.  The Pandas method is <font color="green">read_excel</font>.<span class="math notranslate nohighlight">\(^{9}\)</span> Second, it illustrates data manipulation techniques using Pandas, specifically focusing on how <font color="green">loc</font>, <font color="green">iloc</font>, and <font color="green">get_indexer</font> are used to retrieve data needed for calculations.<span class="math notranslate nohighlight">\(^{10}\)</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measuring-the-term-structure-is-a-key-financial-skill-the-term-structure-of-interest-rates-is-a-critical-indicator-of-financial-market-conditions-its-explanation-along-with-the-concepts-necessary-for-its-calculation-represents-the-most-significant-aspect-of-this-example-the-relation-between-past-present-and-future-market-conditions-are-expressed-by-measuring-the-term-structure">Measuring the term structure is a key financial skill. The term structure of interest rates is a critical indicator of financial market conditions. Its explanation, along with the concepts necessary for its calculation, represents the most significant aspect of this example. The relation between past, present,and future market conditions are expressed by measuring the term structure.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-the-data"><em><strong>Accessing The Data</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pandas-magic-used-to-read-a-an-excel-workbook-from-a-url-address-is-read-excel-the-arguments-of-the-method-are">The Pandas magic used to read a an Excel workbook from a URL address is <font color="green">read_excel</font>.  The arguments of the method are:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-the-dataframe-tbill-data-excel-from-an-excel-workbook"><em><strong>Creating the DataFrame Tbill_data_excel From An Excel Workbook</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#an-excel-workbook-is-accessed-from-dropbox-the-url-is-provided-by-dropbox-the-pandas-method-read-excel-is-used-to-read-and-assign-the-data-to-tbill-data-excel-the-date-column-is-assigned-as-the-index-notice-here-that-try-and-except-are-used-to-alert-us-if-the-file-is-not-available">An Excel workbook is accessed from Dropbox. The URL is provided by DropBox.The Pandas method <font color="green">read_excel()</font> is used to read and assign the data to <font color="green">Tbill_data_excel</font>.  The <font color="green">Date</font> column is assigned as the index.  Notice here that <font color="green">try</font> and <font color="green">except</font> are used to alert us if the file is not available.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-rows-of-a-pandas-dataframe"><em><strong>Accessing Rows of a Pandas DataFrame</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#we-ve-now-created-a-dataframe-but-we-still-need-to-access-its-contents-three-common-ways-of-accessing-the-rows-of-a-dataframe-are-the-attributes-loc-and-iloc-and-the-method-get-indexer-all-three-ways-access-rows-by-the-value-of-the-index">We’ve now created a DataFrame, but we still need to access its contents. Three common ways of accessing the rows of a DataFrame are the attributes <font color="green">loc</font> and <font color="green">iloc</font> and the method <font color="green">get_indexer()</font>.  All three ways access rows by the value of the index.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-loc-attribute-of-a-dataframe-accesses-a-row-by-using-its-index-value-in-the-below-code-the-specific-value-of-the-index-09-15-2022-is-accessed-if-the-value-is-not-in-the-index-an-error-is-returned-via-except-there-are-only-30-days-in-september-so-09-31-2022-fails-and-the-message-value-not-in-index-is-displayed">The <font color="green">loc</font> attribute of a DataFrame accesses a row by using its index value. In the below code, the specific value of the index “09/15/2022” is accessed. If the value is not in the index, an error is returned via <font color="green">except</font>. There are only 30 days in September, so ‘09/31/2022’ fails and the message ‘Value Not In Index’ is displayed.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-iloc-attribute-accesses-a-row-by-its-indexed-integer-value-in-this-case-the-date-09-15-2022-has-an-index-value-of-11-if-the-integer-value-is-not-present-an-error-is-returned-the-dataframe-has-21-rows-and-so-the-index-value-of-45-fails-as-shown-below">The <font color="green">iloc</font> attribute accesses a row by its indexed integer value. In this case the Date “09/15/2022” has an index value of 11. If the integer value is not present, an error is returned. The DataFrame has 21 rows, and so the index value of 45 fails, as shown below.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pandas-method-get-indexer-returns-the-indexed-integer-values-for-a-specific-value-of-the-index-as-an-array-in-the-below-example-an-array-with-a-single-value-is-returned-for-the-date-09-15-2022-the-value-11-is-returned-the-get-indexer-method-returns-1-for-missing-values-which-avoids-interrupting-the-code">The Pandas method <font color="green">get_indexer()</font> returns the indexed integer values for a specific value of the index as an array. In the below example, an array with a single value is returned. For the Date “09/15/2022” the value 11 is returned. The <font color="green">get_indexer()</font> method returns −1 for missing values, which avoids interrupting the code.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-term-structure"><em><strong>Calculating The Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#with-the-data-we-can-return-to-calculating-the-term-structure-recall-that-the-price-of-a-t-bill-a-zero-coupon-bond-is-its-principal-discounted-back-at-the-annualized-continuous-spot-rate-of-interest-the-forward-rate-of-interest-is-the-difference-of-the-natural-logs-of-the-prices-of-a-shorter-maturity-and-a-longer-maturity-zero-coupon-bond-in-order-to-calculate-the-term-structure-we-need-to-first-calculate-the-prices-of-the-t-bills-the-zero-coupon-prices">With the data, we can return to calculating the Term Structure.  Recall that the price of a T-Bill (a zero-coupon bond) is its principal discounted back at the annualized continuous spot rate of interest. The forward rate of interest is the difference of the natural logs of the prices of a shorter maturity and a longer maturity zero-coupon bond. In order to calculate the term structure, we need to first calculate the prices of the T-Bills (the zero coupon prices).</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bank-discounts-coupon-equivalent-yields"><em><strong>Bank Discounts &amp; Coupon Equivalent Yields</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#t-bills-are-quoted-as-bank-discounts-or-coupon-eequivalent-yields-t-bill-prices-are-100-less-a-bank-discount-annualized-with-a-360-day-year">T-Bills are quoted as bank discounts or coupon eequivalent yields. T-Bill prices are 100 less a bank discount annualized with a 360 day year.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-bank-discount-of-the-four-week-bill-on-september-15th-is-2-68-which-implies-a-bill-price-of">The bank discount of the four-week bill on September 15th is 2.68%, which implies a bill price of:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-coupon-equivalent-is-the-annualized-rate-of-return-that-is-calculated-with-the-convention-of-365-days-per-year-the-calculation-is-the-actual-rate-of-return-the-gain-on-the-bill-divided-by-the-bill-price-multiplied-by-365-divided-by-the-maturity-of-the-bill-in-days-a-four-week-bill-matures-in-28-days-and-its-coupon-equivalent-is">The coupon equivalent is the annualized rate of return that is calculated with the convention of 365 days per year. The calculation is the actual rate of return (the gain on the bill divided by the bill price) multiplied by 365 divided by the maturity of the bill in days. A four-week bill matures in 28 days, and its coupon equivalent is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#and-a-coupon-equivalent-of">And a coupon equivalent of:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-bond-prices-with-bank-discounts"><em><strong>Calculating Bond Prices With Bank Discounts</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-columns-of-the-tbill-data-excel-dataframe-are-either-bank-discount-or-coupon-equivalent-we-will-construct-a-numpy-array-bank-discount-from-the-bank-discount-columns-the-list-desired-columns-is-created-with-list-comprehension-from-the-columns-attribute-of-tbill-data-excel-if-the-string-bank-is-in-the-column-name-that-column-name-is-added-to-the-list-desired-columns-11-12">The columns of the <font color="green">Tbill_data_excel</font> DataFrame  are either <em>BANK DISCOUNT</em> or <em>COUPON EQUIVALENT</em>. We will construct a NumPy array <font color="green">bank_discount</font> from the <em>BANK DISCOUNT</em> columns. The list <font color="green">desired_columns</font> is created with list comprehension from the columns attribute of <font color="green">Tbill_data_excel</font>. If the string ‘BANK’ is in the column name, that column name is added to the list <font color="green">desired_columns.</font><span class="math notranslate nohighlight">\(^{11,12}\)</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-column-is-only-added-when-the-if-statement-is-true-the-df-bankers-discount-dataframe-is-created-by-including-the-desired-column-lists-as-the-columns-of-the-tbill-data-excel-dataframe-as-shown-below">The column is only added when the if statement is true. The <font color="green">df_bankers_discount</font> DataFrame is created by including the <font color="green">desired_column</font> lists as the columns of the <font color="green">Tbill_data_excel</font> DataFrame, as shown below.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#having-the-bank-discount-in-numpy-arrays-will-allow-for-an-easy-conversion-to-bill-prices-we-can-convert-df-bankers-discount-into-a-two-dimensional-numpy-array-bankers-discount-with-the-pandas-method-to-numpy-the-first-five-rows-of-the-array-are-shown-below-13">Having the bank discount in NumPy arrays will allow for an easy conversion to bill prices. We can convert <font color="green">df_bankers_discount</font> into a two-dimensional NumPy array <font color="green">bankers_discount</font> with the Pandas method <font color="green">to_numpy()</font>. The first five rows of the array are shown below.<span class="math notranslate nohighlight">\(^{13}\)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#going-from-bankers-discounts-to-zero-prices"><em><strong>Going from Bankers Discounts to Zero Prices</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#as-noted-earlier-the-price-of-a-bill-with-a-100-par-value-is">As noted earlier, the price of a bill with a $100 par value is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-price-of-one-dollar-or-the-the-zero-price-is">The price of one dollar or the the zero price is:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-maturity-of-the-bills-are-4-8-13-26-and-52-weeks-in-the-following-code-the-numpy-array-maturity-days-is-created-by-multiplying-the-number-of-weeks-by-seven-the-zero-price-one-array-is-calculated-by-multiplying-bankers-discount-by-maturity-days-annualized-with-360-days-per-year-we-then-divide-by-100-to-convert-the-value-to-a-percentage">The maturity of the bills are 4, 8, 13, 26, and 52 weeks. In the following code, the NumPy array <font color="green">maturity_days</font> is created by multiplying the number of weeks by seven. The <font color="green">zero_price_one</font> array is calculated by multiplying <font color="green">bankers_discount</font> by <font color="green">maturity_days</font>, annualized with 360 days per year. We then divide by 100 to convert the value to a percentage.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spot-rates"><em><strong>Spot Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#recall-that-the-spot-rates-are-the-annualized-rates-calculated-from-the-tibill-data-spot-rates-are-equal-to">Recall that the spot rates are the annualized rates calculated from the TiBill data. Spot rates are equal to:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#where-t-is-the-number-of-days-in-the-following-code-the-array-spot-rates-is-calculated-from-the-zero-prices-one-array-the-first-five-rows-of-the-array-are-displayed-below">where <span class="math notranslate nohighlight">\(T\)</span> is the number of days.  In the following code, the array <font color="green">spot_rates</font> is calculated from the <font color="green">zero_prices_one</font> array. The first five rows of the array are displayed below.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forward-rates"><em><strong>Forward Rates</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-forward-rates-are-calculated-with-differences-in-the-natural-logs-of-zero-prices-and-assigned-to-the-matrix-forward-rates-in-the-below-code-the-numpy-method-diff-is-used-to-calculate-the-difference-between-the-zero-prices-for-adjacent-maturities-the-arguments-of-diff-are-the-array-name-and-the-number-of-lags-between-differences-the-default-value-for-lags-between-differences-is-1">The forward rates are calculated with differences in the natural logs of zero prices and assigned to the matrix <font color="green">forward_rates</font> in the below code. The NumPy method <font color="green">diff()</font> is used to calculate the difference between the zero prices for adjacent maturities. The arguments of <font color="green">diff()</font> are the array name and the number of lags between differences. The default value for lags between differences is 1.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-above-line-of-code-warrants-a-bit-of-explanation-the-diff-method-subtracts-the-lower-indexed-value-from-the-higher-in-this-example-the-maturity-of-four-weeks-from-eight-weeks-and-eight-weeks-from-thirteen-and-so-on-the-calculation-of-forward-rates-is-the-reverse-or-the-negative-value-of-the-diff-method-the-forward-rates-array-is-assigned-the-negative-value-the-diff-function-returns-four-values-there-is-no-forward-rate-for-the-first-month-in-order-to-get-the-spot-and-forward-to-line-up-on-the-graph-a-value-is-inserted-in-the-forward-rate-array-that-is-ignored-by-calculations-the-numpy-method-insert-is-used-to-add-a-column-with-the-value-nan-as-the-first-column-of-the-forward-rates-array-12-as-you-might-have-guessed-nan-stands-for-not-a-number-the-arguments-of-insert-are-the-array-position-value-and-axis-the-rows-are-axis-0-and-the-columns-are-axis-1-this-means-that-a-position-of-0-and-an-axis-of-1-inserts-the-values-as-the-first-column">The above line of code warrants a bit of explanation. The <font color="green">diff()</font> method subtracts the lower indexed value from the higher. In this example, the maturity of four weeks from eight weeks and eight weeks from thirteen and so on. The calculation of forward rates is the reverse (or the negative) value of the <font color="green">diff()</font> method. The <font color="green">forward_rates</font> array is assigned the negative value. The <font color="green">diff()</font> function returns four values (there is no forward rate for the first month). In order to get the spot and forward to line up on the graph, a value is inserted in the forward rate array that is ignored by calculations. The NumPy method <font color="green">insert()</font> is used to add a column with the value <font color="green">nan</font> as the first column of the <font color="green">forward_rates</font> array.<span class="math notranslate nohighlight">\(^{12}\)</span>  As you might have guessed, <font color="green">nan</font> stands for ‘not a number’.  The arguments of <font color="green">insert()</font> are the array, position, value, and axis. The rows are <font color="green">axis 0</font> and the columns are <font color="green">axis 1</font>. This means that a position of 0 and an axis of 1 inserts the values as the first column.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-first-five-values-of-the-forward-rates-array-are-shown-below">The first five values of the <font color="green">forward_rates</font> array are shown below.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><em><strong>Preparing the Notebook</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#we-suggest-creating-a-main-folder-and-subfolders-on-your-local-computer-or-google-drive-to-store-files-graphs-spreadsheets-and-so-forth-generated-by-the-notebooks-in-basic-concepts-of-fixed-income">We suggest creating a main folder and subfolders on your local computer or Google Drive to store files (graphs, spreadsheets, and so forth) generated by the Notebooks in <em>Basic Concepts of Fixed Income</em>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-function-parent-folder-subfolder-that-was-imported-from-module-basic-concepts-fixed-income-determines-default-values-and-allows-you-to-name-the-parent-directory-the-folder-and-subfolders-the-function-s-single-argument-is-set-to-true-by-default-if-false-is-not-explicitly-passed-the-function-will-attempt-to-return-default-values-for-the-parent-folder-and-subfolder-conversely-passing-false-will-prompt-the-user-for-these-inputs-note-that-the-function-does-not-direct-output-to-the-parent-folder-or-subfolder">The function <font color="green">parent_folder_subfolder</font> that was imported from <font color="green">module_basic_concepts_fixed_income</font> determines default values and allows you to name the parent directory, the folder, and subfolders. The function’s single argument is set to <font color="green">True</font> by default. If <font color="green">False</font> is not explicitly passed, the function will attempt to return default values for the parent, folder, and subfolder. Conversely, passing <font color="green">False</font> will prompt the user for these inputs. Note that the function does not direct output to the parent, folder, or subfolder.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-you-input-values-the-function-corrects-errors-that-prevent-the-url-from-being-usable">If you input values, the function corrects errors that prevent the URL from being usable.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-above-returns-the-values-that-can-be-used-to-create-a-path">The above returns the values that can be used to create a path.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-the-term-structure"><em><strong>Graphing the Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-function-one-y-axis-graphs-values-on-a-single-y-axis-if-the-save-config-dictionary-has-a-value-assigned-to-one-of-its-four-keys-parent-folder-subfolder-and-file-one-y-axis-will-attempt-to-save-the-plot-as-a-pdf">The function <font color="green">one_y_axis()</font> graphs values on a single <em>y</em>-axis. If the <font color="green">save_config</font> dictionary has a value assigned to one of its four keys (<font color="green">Parent</font>, <font color="green">Folder</font>, <font color="green">Subfolder</font>,and <font color="green">File</font>), <font color="green">one_y_axis()</font> will attempt to save the plot as a PDF.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-values-returned-by-create-path-folder-and-t-bill-term-structure-9-15-2022-pdf-are-assigned-to-the-four-keys-shown-below-12-if-no-values-are-assigned-the-graph-will-not-be-saved">The values returned by <font color="green">create_path_folder()</font> and <font color="green">T-Bill Term Structure: 9-15-2022.pdf</font> are assigned to the four keys, shown below.<span class="math notranslate nohighlight">\(^{12}\)</span>. If no values are assigned, the graph will not be saved.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-the-spot-and-forward-rates-for-september-15-2022"><em><strong>Graphing the Spot and Forward Rates for September 15, 2022</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-the-following-code-the-x-axis-is-set-at-the-five-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2022-and-the-data-for-september-15-2022-is-plotted">In the following code, the <em>x</em>-axis is set at the five maturities of the bills in months. Forward and spot rates are calculated for the month of September 2022, and the data for September 15, 2022, is plotted.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#since-they-lack-index-columns-the-correct-rows-of-the-numpy-arrays-spot-rates-and-forward-rates-cannot-be-determined-from-the-value-of-string-date-because-the-rows-of-the-arrays-correspond-to-the-rows-of-the-dataframe-the-correct-row-is-determined-with-the-pandas-method-get-indexer-the-method-returns-an-array-with-index-values-corresponding-to-the-argument-the-spot-and-forward-rate-rows-for-september-15-2022-are-then-multiplied-by-100-and-assigned-to-the-list-data">Since they lack index columns, the correct rows of the NumPy arrays <font color="green">spot_rates</font> and <font color="green">forward_rates</font> cannot be determined from the value of <font color="green">string_date</font>. Because the rows of the arrays correspond to the rows of the DataFrame, the correct row is determined with the Pandas method <font color="green">get_indexer()</font>. The method returns an array with index values corresponding to the argument. The spot- and forward-rate rows for September 15, 2022, are then multiplied by 100 and assigned to the list <font color="green">data</font>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-plot-title-is-assigned-whatever-value-is-assigned-to-save-config-file-name-minus-the-pdf-extension">The plot title is assigned whatever value is assigned to <font color="green">save_config[‘File Name’]</font> (minus the PDF extension).</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#series-names-labels-and-markers-are-then-assigned">Series names, labels, and markers are then assigned.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-6-and-red-and-blue-respectively">The upper limit of the <em>y</em>-axis is assigned to <font color="green">upper</font> and calculated from the maximum value of the spot and forward rates. The NumPy method <font color="green">nanmax()</font> ignores <font color="green">nan</font> values. The maximum of <font color="green">nanmax()</font> of spot rates (<font color="green">data[0]</font>) and forward rates (<font color="green">data[1]</font>) plus 0.5% are assigned to <font color="green">upper </font>. The lower limit is set to 0, and the size and colors of the lines are set as 10,6 and red and blue, respectively.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-1">Finally, the graph is generated and saved with <font color="green">one_y_axis()</font> (see <strong>Figure 1</strong>).</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-the-t-bill-data-directly-from-the-us-department-of-the-treasury-treasury"><em><strong>Accessing the T-Bill Data Directly from the US Department of the Treasury (Treasury)</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#figure-2-shows-a-screenshot-of-the-treasury-page-and-its-data-tool-a-selected-time-period-determines-a-url-to-the-download-csv-link-in-our-example-the-year-is-set-to-2025-and-the-month-is-september-as-we-will-see-below-the-url-includes-the-sting-of-a-four-digit-year-and-a-two-digit-month-202509"><br/><strong>Figure 2</strong> shows a screenshot of the Treasury page and its data tool. A selected time period determines a URL to the Download CSV link.  In our example the year is set to 2025 and the month is September. As we will see below, the URL includes the sting of a four digit year and a two digit month (‘202509’).</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-link-to-the-daily-treasury-bill-rates-on-the-treasury-site">The link to the Daily Treasury Bill Rates on the Treasury Site</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-the-url-and-using-the-pandas-method-read-csv"><em><strong>Changing The URL And Using The Pandas Method <font color="green">read_csv</font></strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-data-is-accessed-directly-from-the-treasury-as-a-csv-file-and-the-code-below-displays-the-data-row-for-september-30-2025-with-the-exception-of-the-url-value-and-the-read-csv-versus-read-excel-the-code-is-identical-to-what-we-used-to-create-tbill-data-excel-in-this-example-the-url-points-to-a-treasury-site-instead-of-dropbox-the-url-is-copied-by-right-clicking-the-download-csv-link-on-the-treasury-site-the-url-for-a-particular-year-and-month-is-shown-below-data-date-is-assigned-the-string-202509-you-can-assign-it-any-year-and-month-after-2022-as-of-november-3-2025-dates-prior-to-2022-will-be-moved-to-a-historical-page">The data is accessed directly from the Treasury as a CSV file, and the code below displays the data row for September 30, 2025. With the exception of the URL value and the <font color="green">read_csv</font> versus <font color="green">read_excel</font>, the code is identical to what we used to create <font color="green">Tbill_data_excel</font>. In this example, the URL points to a Treasury site instead of DropBox.  The URL is copied by right clicking the Download CSV link on the Treasury site.  The URL for a particular year and month is shown below. <font color="green">data_date</font> is assigned the string ‘202509’.  You can assign it any year and month after 2022. As of November 3 2025, dates prior to 2022 will be moved to a historical page.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-csv-file-is-descending-order-of-the-dates-the-first-row-is-for-september-30-th-and-is-displayed-with-iloc-0">The csv file is descending order of the dates.  The first row is for September 30<span class="math notranslate nohighlight">\(^{th}\)</span> and is displayed with <font color="green">iloc[0]</font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application-downloading-treasury-data"><font color="blue"> <em><strong>Application: Downloading Treasury Data</strong></em></font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#access-september-2024-t-bill-data-from-the-us-treasury-and-display-the-values-for-september-12-2024"><font color="blue"><em><strong>Access September 2024 T-Bill Data from the US Treasury and display the values for September 12, 2024.</strong></em></font></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-csv-file-to-calculate-term-structure"><em><strong>Using the CSV File to Calculate Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><em><strong>Going from Bankers Discounts to Zero Prices</strong></em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><em><strong>Spot Rates</strong></em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><em><strong>Forward Rates</strong></em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><em><strong>Preparing the Notebook</strong></em></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><em><strong>Graphing the Term Structure</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-the-spot-and-forward-rates-for-september-30-2025"><em><strong>Graphing the Spot and Forward Rates for September 30, 2025</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-september-2022-t-bill-data-had-five-maturity-dates-the-september-2025-data-has-two-additional-dates-6-weeks-and-17-weeks-in-the-following-code-the-x-axis-is-set-at-the-seven-maturities-of-the-bills-in-months-forward-and-spot-rates-are-calculated-for-the-month-of-september-2025-and-the-data-for-september-30-2025-is-plotted">The September 2022 T-Bill data had five maturity dates.  The September 2025 data has two additional dates: ‘6 WEEKS’ and ‘17 WEEKS’. In the following code, the <em>x</em>-axis is set at the seven maturities of the bills in months. Forward and spot rates are calculated for the month of September 2025, and the data for September 30, 2025, is plotted.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-first-row-of-spot-rates-and-forward-rates-correspond-to-september-30-the-spot-and-forward-rate-rows-for-september-30-2025-are-then-multiplied-by-100-and-assigned-to-the-list-data">The first row of spot_rates and forward_rates correspond to September 30.The spot- and forward-rate rows for September 30, 2025, are then multiplied by 100 and assigned to the list <font color="green">data</font>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">The plot title is assigned whatever value is assigned to <font color="green">save_config[‘File Name’]</font> (minus the PDF extension).</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Series names, labels, and markers are then assigned.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-upper-limit-of-the-y-axis-is-assigned-to-upper-and-calculated-from-the-maximum-value-of-the-spot-and-forward-rates-the-numpy-method-nanmax-ignores-nan-values-the-maximum-of-nanmax-of-spot-rates-data-0-and-forward-rates-data-1-plus-0-5-are-assigned-to-upper-the-lower-limit-is-set-to-0-and-the-size-and-colors-of-the-lines-are-set-as-10-inches-wide-and-6-inches-tall-10-6-and-red-and-blue-respectively">The upper limit of the <em>y</em>-axis is assigned to <font color="green">upper</font> and calculated from the maximum value of the spot and forward rates. The NumPy method <font color="green">nanmax()</font> ignores <font color="green">nan</font> values. The maximum of <font color="green">nanmax()</font> of spot rates (<font color="green">data[0]</font>) and forward rates (<font color="green">data[1]</font>) plus 0.5% are assigned to <font color="green">upper </font>. The lower limit is set to 0, and the size and colors of the lines are set as 10 inches wide and 6 inches tall (10,6) and red and blue, respectively.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#finally-the-graph-is-generated-and-saved-with-one-y-axis-see-figure-3">Finally, the graph is generated and saved with <font color="green">one_y_axis()</font> (see <strong>Figure 3</strong>).</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-pandas-numpy-and-financial-insights"><em><strong>Python, Pandas, NumPy And Financial Insights</strong></em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pandas-and-numpy-the-term-structure-of-interest-rates-was-calculated-for-september-15-th-2022-and-september-30-th-2025-these-term-structures-reveal-an-economy-in-transition-on-september-15-th-2022-rates-were-increasing-with-maturity-and-expected-to-continue-rising-by-september-30-th-2025-the-pattern-had-shifted-although-the-overall-level-of-rates-was-higher-on-september-30-th-2025-the-term-structure-showed-a-slight-downward-slope-these-differences-indicate-two-different-economic-states-inflation-was-expected-to-increase-in-september-2022-but-not-in-september-2025-the-ability-to-calibrate-the-term-structure-of-interest-rates-in-this-way-highlights-the-utility-of-python-and-its-rich-ecosystem-of-libraries">Using Pandas and NumPy, the term structure of interest rates was calculated for September 15<span class="math notranslate nohighlight">\(^{th}\)</span> 2022, and September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025. These term structures reveal an economy in transition. On September 15<span class="math notranslate nohighlight">\(^{th}\)</span> 2022, rates were increasing with maturity and expected to continue rising. By September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025 the pattern had shifted. Although the overall level of rates was higher on September 30<span class="math notranslate nohighlight">\(^{th}\)</span> 2025, the term structure showed a slight downward slope. These differences indicate two different economic states: inflation was expected to increase in September 2022 but not  in September 2025. The ability to calibrate the term structure of interest rates in this way highlights the utility of Python and its rich ecosystem of libraries.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summarizing-key-points"><em><strong>Summarizing Key Points</strong></em></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-using-the-september-12-2024-data"><em><strong><font color="blue">Exercise:  Using the September 12, 2024, data</font></strong></em></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Financial Python
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>